(function(a){function G(c,a){return"number"===typeof c&&"number"===typeof a?c+a:c["$+"](a)}function C(c,a){return"number"===typeof c&&"number"===typeof a?c<a:c["$<"](a)}function H(c,a){return"number"===typeof c&&"number"===typeof a?c-a:c["$-"](a)}a.dynamic_require_severity="ignore";var c=a.nil,I=a.breaker,L=a.slice,t=a.module,q=a.klass,u=a.hash2,J=a.range,M=a.hash;a.add_stubs("$[]= $config $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $is_a? $has_more_lines? $next_block $<< $each $define_method $send $insert $dup $call $attr_accessor $[] $option $=== $to_set $flatten $resolve_regexp $== $attr $method $register $arity $instance_exec $to_proc $activate $+ $values $groups $add_document_processor $! $find $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $upcase $chr $split $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $- $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));
return function(K){(function(z){z=t(z,"Extensions");var f=z.$$scope;(function(e,$super){function d(){}var b=d=q(e,$super,"Processor",d),g=b.$$scope,x,r,h;b.$$proto.config=c;(function(b){a.defn(b,"$config",function(){var a;null==this.config&&(this.config=c);return!1!==(a=this.config)&&a!==c?a:this.config=u([],{})});a.defn(b,"$option",function(c,a){return this.$config()["$[]="](c,a)});a.defn(b,"$use_dsl",function(){var a;return(a=this.$name()["$nil_or_empty?"]())===c||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===
c||a.$$is_boolean&&1!=a?c:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===c||a.$$is_boolean&&1!=a?c:this.$include(this.$const_get("DSL"))});a.alias(b,"extend_dsl","use_dsl");return a.alias(b,"include_dsl","use_dsl")})(a.get_singleton_class(b));b.$attr_reader("config");a.defn(b,"$initialize",function(c){null==c&&(c=u([],{}));return this.config=this.$class().$config().$merge(c)});a.defn(b,"$update_config",function(c){return this.config.$update(c)});a.defn(b,"$process",function(){var b=
c,e=arguments.length-0;0>e&&(e=0);for(var g=Array(e),b=0;b<e;b++)g[b]=arguments[b+0];return this.$raise(a.get("NotImplementedError"))});a.defn(b,"$create_block",function(c,a,b,e,d){null==d&&(d=u([],{}));return g.get("Block").$new(c,a,u(["source","attributes"],{source:b,attributes:e}).$merge(d))});a.defn(b,"$create_image_block",function(a,b,e){null==e&&(e=u([],{}));return this.$create_block(a,"image",c,b,e)});a.defn(b,"$create_inline",function(c,a,b,e){null==e&&(e=u([],{}));return g.get("Inline").$new(c,
a,b,e)});a.defn(b,"$parse_content",function(a,b,e){var d,x,h=c,r=c;null==e&&(e=u([],{}));for(h=(d=b["$is_a?"](g.get("Reader")))===c||d.$$is_boolean&&1!=d?g.get("Reader").$new(b):b;(x=h["$has_more_lines?"]())!==c&&(!x.$$is_boolean||1==x);)if(r=g.get("Parser").$next_block(h,a,e),!1!==r&&r!==c)a["$<<"](r);return c});return(x=(r=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block",
"pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,x.$$p=(h=function(b,e,d){var g=h.$$s||this,x,r;null==b&&(b=c);null==e&&(e=c);null==d&&(d=c);return(x=g.$define_method,x.$$p=(r=function(c){var b=r.$$s||this,g;c=L.call(arguments,0);return(g=b).$send.apply(g,[e].concat(a.to_a(c.$dup().$insert(1,d))))},r.$$s=g,r),x).call(g,b)},h.$$s=b,h),x).call(r)})(f.base,null);(function(e){e=t(e,"ProcessorDsl");
var f;a.defn(e,"$option",function(c,a){return this.$config()["$[]="](c,a)});a.defn(e,"$process",f=function(){var e,b=f.$$p||c,g=c;null==this.process_block&&(this.process_block=c);var x=arguments.length-0;0>x&&(x=0);for(var r=Array(x),g=0;g<x;g++)r[g]=arguments[g+0];f.$$p=null;return b!==c?this.process_block=b:(e=this.process_block)===c||e.$$is_boolean&&1!=e?this.$raise(a.get("NotImplementedError")):(e=this.process_block).$call.apply(e,a.to_a(r))});a.defn(e,"$process_block_given?",function(){var a;
return(a=this.process_block,null!=a&&a!==c)?"instance-variable":c})})(f.base);(function(e,$super){function d(){}var b=d=q(e,$super,"Preprocessor",d);return(a.defn(b,"$process",function(c,b){return this.$raise(a.get("NotImplementedError"))}),c)&&"process"})(f.base,f.get("Processor"));a.casgn(f.get("Preprocessor"),"DSL",f.get("ProcessorDsl"));(function(e,$super){function d(){}var b=d=q(e,$super,"Treeprocessor",d);return(a.defn(b,"$process",function(c){return this.$raise(a.get("NotImplementedError"))}),
c)&&"process"})(f.base,f.get("Processor"));a.casgn(f.get("Treeprocessor"),"DSL",f.get("ProcessorDsl"));(function(e,$super){function d(){}var b=d=q(e,$super,"Postprocessor",d);return(a.defn(b,"$process",function(c,b){return this.$raise(a.get("NotImplementedError"))}),c)&&"process"})(f.base,f.get("Processor"));a.casgn(f.get("Postprocessor"),"DSL",f.get("ProcessorDsl"));(function(e,$super){function d(){}var b=d=q(e,$super,"IncludeProcessor",d);a.defn(b,"$process",function(c,b,e,d){return this.$raise(a.get("NotImplementedError"))});
return(a.defn(b,"$handles?",function(c){return!0}),c)&&"handles?"})(f.base,f.get("Processor"));a.casgn(f.get("IncludeProcessor"),"DSL",f.get("ProcessorDsl"));(function(e,$super){function d(){}var b=d=q(e,$super,"DocinfoProcessor",d),g;b.$$proto.config=c;b.$attr_accessor("location");a.defn(b,"$initialize",g=function(b){var e,d;null==b&&(b=u([],{}));g.$$p=null;a.find_super_dispatcher(this,"initialize",g,null).apply(this,[b]);return e=this.config,!1!==(d=e["$[]"]("location"))&&d!==c?d:e["$[]="]("location",
"head")});return(a.defn(b,"$process",function(c){return this.$raise(a.get("NotImplementedError"))}),c)&&"process"})(f.base,f.get("Processor"));(function(c){c=t(c,"DocinfoProcessorDsl");c.$include(c.$$scope.get("ProcessorDsl"));a.defn(c,"$at_location",function(c){return this.$option("location",c)})})(f.base);a.casgn(f.get("DocinfoProcessor"),"DSL",f.get("DocinfoProcessorDsl"));(function(e,$super){function d(){}var b=d=q(e,$super,"BlockProcessor",d),g;b.$$proto.config=c;b.$attr_accessor("name");a.defn(b,
"$initialize",g=function(b,e){var d,f,n,q=c;null==b&&(b=c);null==e&&(e=u([],{}));g.$$p=null;a.find_super_dispatcher(this,"initialize",g,null).apply(this,[e]);this.name=!1!==(d=b)&&d!==c?d:this.config["$[]"]("name");q=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](q))d="contexts",f=this.config,!1!==(n=f["$[]"](d))&&n!==c?n:f["$[]="](d,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](q))this.config["$[]="]("contexts",[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",
this.config["$[]"]("contexts").$to_set());return d="content_model",f=this.config,!1!==(n=f["$[]"](d))&&n!==c?n:f["$[]="](d,"compound")});return(a.defn(b,"$process",function(c,b,e){return this.$raise(a.get("NotImplementedError"))}),c)&&"process"})(f.base,f.get("Processor"));(function(e){e=t(e,"BlockProcessorDsl");var f=e.$$scope;e.$include(f.get("ProcessorDsl"));a.defn(e,"$named",function(a){var b;return(b=this["$is_a?"](f.get("Processor")))===c||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=
a});a.alias(e,"match_name","named");a.alias(e,"bind_to","named");a.defn(e,"$contexts",function(){var a=c,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),a=0;a<b;a++)e[a]=arguments[a+0];return this.$option("contexts",e.$flatten())});a.alias(e,"on_contexts","contexts");a.alias(e,"on_context","contexts");a.defn(e,"$content_model",function(c){return this.$option("content_model",c)});a.alias(e,"parse_content_as","content_model");a.defn(e,"$positional_attributes",function(){var a=c,b=arguments.length-
0;0>b&&(b=0);for(var e=Array(b),a=0;a<b;a++)e[a]=arguments[a+0];return this.$option("pos_attrs",e.$flatten())});a.alias(e,"pos_attrs","positional_attributes");a.alias(e,"name_attributes","positional_attributes");a.alias(e,"name_positional_attributes","positional_attributes");a.defn(e,"$default_attrs",function(c){return this.$option("default_attrs",c)});a.alias(e,"seed_attributes_with","default_attrs")})(f.base);a.casgn(f.get("BlockProcessor"),"DSL",f.get("BlockProcessorDsl"));(function(e,$super){function d(){}
var b=d=q(e,$super,"MacroProcessor",d),g;b.$$proto.config=c;b.$attr_accessor("name");a.defn(b,"$initialize",g=function(b,e){var d,f,n;null==b&&(b=c);null==e&&(e=u([],{}));g.$$p=null;a.find_super_dispatcher(this,"initialize",g,null).apply(this,[e]);this.name=!1!==(d=b)&&d!==c?d:this.config["$[]"]("name");return d="content_model",f=this.config,!1!==(n=f["$[]"](d))&&n!==c?n:f["$[]="](d,"attributes")});return(a.defn(b,"$process",function(c,b,e){return this.$raise(a.get("NotImplementedError"))}),c)&&"process"})(f.base,
f.get("Processor"));(function(e){e=t(e,"MacroProcessorDsl");var f=e.$$scope;e.$include(f.get("ProcessorDsl"));a.defn(e,"$named",function(a){var b;return(b=this["$is_a?"](f.get("Processor")))===c||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a});a.alias(e,"match_name","named");a.alias(e,"bind_to","named");a.defn(e,"$content_model",function(c){return this.$option("content_model",c)});a.alias(e,"parse_content_as","content_model");a.defn(e,"$positional_attributes",function(){var a=c,b=arguments.length-
0;0>b&&(b=0);for(var e=Array(b),a=0;a<b;a++)e[a]=arguments[a+0];return this.$option("pos_attrs",e.$flatten())});a.alias(e,"pos_attrs","positional_attributes");a.alias(e,"name_attributes","positional_attributes");a.alias(e,"name_positional_attributes","positional_attributes");a.defn(e,"$default_attrs",function(c){return this.$option("default_attrs",c)});a.alias(e,"seed_attributes_with","default_attrs")})(f.base);(function(a,$super){function d(){}d=q(a,$super,"BlockMacroProcessor",d);return c})(f.base,
f.get("MacroProcessor"));a.casgn(f.get("BlockMacroProcessor"),"DSL",f.get("MacroProcessorDsl"));(function(e,$super){function d(){}var b=d=q(e,$super,"InlineMacroProcessor",d),g=b.$$proto;g.config=g.name=c;a.defn(b,"$regexp",function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==c?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))});return(a.defn(b,"$resolve_regexp",function(a,c){return c["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):
new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),c)&&"resolve_regexp"})(f.base,f.get("MacroProcessor"));(function(c){c=t(c,"InlineMacroProcessorDsl");c.$include(c.$$scope.get("MacroProcessorDsl"));a.defn(c,"$using_format",function(c){return this.$option("format",c)});a.defn(c,"$match",function(c){return this.$option("regexp",c)})})(f.base);a.casgn(f.get("InlineMacroProcessor"),"DSL",f.get("InlineMacroProcessorDsl"));(function(e,$super){function d(){}var b=d=q(e,$super,"Extension",d);
b.$attr("kind");b.$attr("config");b.$attr("instance");return(a.defn(b,"$initialize",function(c,a,b){this.kind=c;this.instance=a;return this.config=b}),c)&&"initialize"})(f.base,null);(function(e,$super){function d(){}var b=d=q(e,$super,"ProcessorExtension",d),g;b.$attr("process_method");return(a.defn(b,"$initialize",g=function(b,e,d){var f;null==d&&(d=c);g.$$p=null;a.find_super_dispatcher(this,"initialize",g,null).apply(this,[b,e,e.$config()]);return this.process_method=!1!==(f=d)&&f!==c?f:e.$method("process")}),
c)&&"initialize"})(f.base,f.get("Extension"));(function(e,$super){function d(){}var b=d=q(e,$super,"Group",d);(function(b){var e=b.$$scope;return(a.defn(b,"$register",function(a){null==a&&(a=c);return e.get("Extensions").$register(a,this)}),c)&&"register"})(a.get_singleton_class(b));return(a.defn(b,"$activate",function(c){return this.$raise(a.get("NotImplementedError"))}),c)&&"activate"})(f.base,null);(function(e,$super){function d(){}var b=d=q(e,$super,"Registry",d),g=b.$$proto,f=b.$$scope,r,h,k,
n,t,y,z,D,E,F;g.groups=g.preprocessor_extensions=g.treeprocessor_extensions=g.postprocessor_extensions=g.include_processor_extensions=g.docinfo_processor_extensions=g.block_extensions=g.block_macro_extensions=g.inline_macro_extensions=c;b.$attr_reader("document");b.$attr_reader("groups");a.defn(b,"$initialize",function(a){null==a&&(a=u([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=
this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=c});a.defn(b,"$activate",function(b){var e,l,d;this.document=b;(e=(l=G(f.get("Extensions").$groups().$values(),this.groups.$values())).$each,e.$$p=(d=function(b){var l=d.$$s||this,e,B=c;null==b&&(b=c);B=b;a.get("Proc")["$==="](B)?(B=b.$arity(),b=0["$==="](B)||-1["$==="](B)?(e=l.$instance_exec,e.$$p=b.$to_proc(),e).call(l):1["$==="](B)?b.$call(l):c):b=a.get("Class")["$==="](B)?b.$new().$activate(l):b.$activate(l);
return b},d.$$s=this,d),e).call(l);return this});a.defn(b,"$preprocessor",r=function(){var a,b=r.$$p||c,l=c,e=arguments.length-0;0>e&&(e=0);for(var d=Array(e),l=0;l<e;l++)d[l]=arguments[l+0];r.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"preprocessor",d)});a.defn(b,"$preprocessors?",function(){return this.preprocessor_extensions["$!"]()["$!"]()});a.defn(b,"$preprocessors",function(){return this.preprocessor_extensions});a.defn(b,"$treeprocessor",h=function(){var a,
b=h.$$p||c,l=c,e=arguments.length-0;0>e&&(e=0);for(var d=Array(e),l=0;l<e;l++)d[l]=arguments[l+0];h.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"treeprocessor",d)});a.defn(b,"$treeprocessors?",function(){return this.treeprocessor_extensions["$!"]()["$!"]()});a.defn(b,"$treeprocessors",function(){return this.treeprocessor_extensions});a.defn(b,"$postprocessor",k=function(){var a,b=k.$$p||c,l=c,e=arguments.length-0;0>e&&(e=0);for(var d=Array(e),l=0;l<e;l++)d[l]=arguments[l+
0];k.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"postprocessor",d)});a.defn(b,"$postprocessors?",function(){return this.postprocessor_extensions["$!"]()["$!"]()});a.defn(b,"$postprocessors",function(){return this.postprocessor_extensions});a.defn(b,"$include_processor",n=function(){var a,b=n.$$p||c,l=c,e=arguments.length-0;0>e&&(e=0);for(var d=Array(e),l=0;l<e;l++)d[l]=arguments[l+0];n.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,
"include_processor",d)});a.defn(b,"$include_processors?",function(){return this.include_processor_extensions["$!"]()["$!"]()});a.defn(b,"$include_processors",function(){return this.include_processor_extensions});a.defn(b,"$docinfo_processor",t=function(){var a,b=t.$$p||c,l=c,e=arguments.length-0;0>e&&(e=0);for(var d=Array(e),l=0;l<e;l++)d[l]=arguments[l+0];t.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"docinfo_processor",d)});a.defn(b,"$docinfo_processors?",function(a){var b,
e,d;null==a&&(a=c);return(b=this.docinfo_processor_extensions)===c||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==c?(b=(e=this.docinfo_processor_extensions).$find,b.$$p=(d=function(b){null==b&&(b=c);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(e):!0});a.defn(b,"$docinfo_processors",function(a){var b,e,d;null==a&&(a=c);return(b=this.docinfo_processor_extensions)===c||b.$$is_boolean&&1!=b?c:!1!==a&&a!==c?(b=(e=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&
(b=c);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(e):this.docinfo_processor_extensions});a.defn(b,"$block",y=function(){var a,b=y.$$p||c,e=c,d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),e=0;e<d;e++)f[e]=arguments[e+0];y.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block",f)});a.defn(b,"$blocks?",function(){return this.block_extensions["$!"]()["$!"]()});a.defn(b,"$registered_for_block?",function(a,b){var e,d=c;return(e=d=this.block_extensions["$[]"](a.$to_sym()))===
c||e.$$is_boolean&&1!=e?!1:(e=d.$config()["$[]"]("contexts")["$include?"](b))===c||e.$$is_boolean&&1!=e?!1:d});a.defn(b,"$find_block_extension",function(a){return this.block_extensions["$[]"](a.$to_sym())});a.defn(b,"$block_macro",z=function(){var a,b=z.$$p||c,e=c,d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),e=0;e<d;e++)f[e]=arguments[e+0];z.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block_macro",f)});a.defn(b,"$block_macros?",function(){return this.block_macro_extensions["$!"]()["$!"]()});
a.defn(b,"$registered_for_block_macro?",function(a){var b,e=c;return(b=e=this.block_macro_extensions["$[]"](a.$to_sym()))===c||b.$$is_boolean&&1!=b?!1:e});a.defn(b,"$find_block_macro_extension",function(a){return this.block_macro_extensions["$[]"](a.$to_sym())});a.defn(b,"$inline_macro",D=function(){var a,b=D.$$p||c,e=c,d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),e=0;e<d;e++)f[e]=arguments[e+0];D.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"inline_macro",f)});
a.defn(b,"$inline_macros?",function(){return this.inline_macro_extensions["$!"]()["$!"]()});a.defn(b,"$registered_for_inline_macro?",function(a){var b,e=c;return(b=e=this.inline_macro_extensions["$[]"](a.$to_sym()))===c||b.$$is_boolean&&1!=b?!1:e});a.defn(b,"$find_inline_macro_extension",function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())});a.defn(b,"$inline_macros",function(){return this.inline_macro_extensions.$values()});b.$private();a.defn(b,"$add_document_processor",E=function(b,
e){var d,g,r,h,p,n,A=this,q=E.$$p||c,k=c,v=c,u=c,m=c,t=v=c,y=c,w=c,z=c;E.$$p=null;k=b.$to_s().$tr("_"," ");v=(d=(g=k.$split(" ")).$map,d.$$p=(r=function(a){null==a&&(a=c);return""+a.$chr().$upcase()+a["$[]"](J(1,-1,!1))},r.$$s=A,r),d).call(g).$join().$to_sym();u=f.get("Extensions").$const_get(v);m=(d=null==a.Object.$$scope.AsciidoctorJ?c:"constant")===c||d.$$is_boolean&&1!=d?c:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(v);v=!1!==(d=A.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&
d!==c?d:A.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);t=function(){if(q!==c)return y=A.$resolve_args(e,1),w=u.$new(y),(d=u.$constants().$grep("DSL"))===c||d.$$is_boolean&&1!=d||w.$extend(u.$const_get("DSL")),(d=(h=w).$instance_exec,d.$$p=q.$to_proc(),d).call(h),w.$freeze(),((d=w["$process_block_given?"]())===c||d.$$is_boolean&&1!=d)&&A.$raise(a.get("ArgumentError").$new("No block specified to process "+k+" extension at "+q.$source_location())),f.get("ProcessorExtension").$new(b,w);
p=A.$resolve_args(e,2);d=a.to_ary(p);w=null==d[0]?c:d[0];y=null==d[1]?c:d[1];p;if((d=!1!==(p=w["$is_a?"](a.get("Class")))&&p!==c?p:(n=w["$is_a?"](a.get("String")),!1!==n&&n!==c?w=f.get("Extensions").$class_for_name(w):n))===c||d.$$is_boolean&&1!=d){if((d=!1!==(p=w["$is_a?"](u))&&p!==c?p:(n=!1!==m&&m!==c)?w["$is_a?"](m):m)===c||d.$$is_boolean&&1!=d)return A.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+k+" extension: "+e));w.$update_config(y);w.$freeze();return f.get("ProcessorExtension").$new(b,
w)}((d=!1!==(p=C(w,u))&&p!==c?p:(n=!1!==m&&m!==c)?C(w,m):m)===c||d.$$is_boolean&&1!=d)&&A.$raise(a.get("ArgumentError").$new("Invalid type for "+k+" extension: "+w));z=w.$new(y);z.$freeze();return f.get("ProcessorExtension").$new(b,z)}();return t.$config()["$[]"]("position")["$=="](">>")?v.$unshift(t):v["$<<"](t)});a.defn(b,"$add_syntax_processor",F=function(b,e){var d,g,r,h,p;p=F.$$p||c;var n=c,k=c,q=c,t=k=c,v=q=c,y=c,m=c,k=c;F.$$p=null;n=b.$to_s().$tr("_"," ");k=(d=(g=n.$split(" ")).$map,d.$$p=
(r=function(a){null==a&&(a=c);return""+a.$chr().$upcase()+a["$[]"](J(1,-1,!1))},r.$$s=this,r),d).call(g).$join();q=(""+k+"Processor").$to_sym();k=f.get("Extensions").$const_get(q);t=(d=null==a.Object.$$scope.AsciidoctorJ?c:"constant")===c||d.$$is_boolean&&1!=d?c:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(q);q=!1!==(d=this.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&d!==c?d:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),u([],{}));if(p!==c){h=this.$resolve_args(e,
2);d=a.to_ary(h);v=null==d[0]?c:d[0];y=null==d[1]?c:d[1];h;m=k.$new(this.$as_symbol(v),y);(d=k.$constants().$grep("DSL"))===c||d.$$is_boolean&&1!=d||m.$extend(k.$const_get("DSL"));if(p.$arity()["$=="](1)){if(a.yield1(p,m)===I)return I.$v}else(d=(h=m).$instance_exec,d.$$p=p.$to_proc(),d).call(h);((d=v=this.$as_symbol(m.$name()))===c||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+n+" extension at "+p.$source_location()));((d=m["$process_block_given?"]())===
c||d.$$is_boolean&&1!=d)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+n+" extension at "+p.$source_location()));m.$freeze();return q["$[]="](v,f.get("ProcessorExtension").$new(b,m))}p=this.$resolve_args(e,3);d=a.to_ary(p);m=null==d[0]?c:d[0];v=null==d[1]?c:d[1];y=null==d[2]?c:d[2];p;if((d=!1!==(p=m["$is_a?"](a.get("Class")))&&p!==c?p:(h=m["$is_a?"](a.get("String")),!1!==h&&h!==c?m=f.get("Extensions").$class_for_name(m):h))===c||d.$$is_boolean&&1!=d){if((d=!1!==(p=m["$is_a?"](k))&&
p!==c?p:(h=!1!==t&&t!==c)?m["$is_a?"](t):t)===c||d.$$is_boolean&&1!=d)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+n+" extension: "+e));m.$update_config(y);((d=v=!1!==v&&v!==c?(p=[this.$as_symbol(v)],h=m,h["$name="].apply(h,p),p[p.length-1]):this.$as_symbol(m.$name()))===c||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+n+" extension: "+m));m.$freeze();return q["$[]="](v,f.get("ProcessorExtension").$new(b,m))}((d=
!1!==(p=C(m,k))&&p!==c?p:(h=!1!==t&&t!==c)?C(m,t):t)===c||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+n+" extension does not inherit from "+k+": "+m));k=m.$new(this.$as_symbol(v),y);((d=v=this.$as_symbol(k.$name()))===c||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+n+" extension: "+m));m.$freeze();return q["$[]="](v,f.get("ProcessorExtension").$new(b,k))});a.defn(b,"$resolve_args",function(b,e){var d,f=c,g=c,h=c,
f=(d=b["$[]"](-1)["$is_a?"](a.get("Hash")))===c||d.$$is_boolean&&1!=d?u([],{}):b.$pop();if(e["$=="](1))return f;var g=b.$size(),r=h=H(H(e,1),g);(d="number"===typeof r?0<r:r["$>"](0))===c||d.$$is_boolean&&1!=d?(d=C(h,0))===c||d.$$is_boolean&&1!=d||b.$pop(h["$-@"]()):b.$fill(c,g,h);b["$<<"](f);return b});return(a.defn(b,"$as_symbol",function(b){var d;return!1!==b&&b!==c?(d=b["$is_a?"](a.get("Symbol")))===c||d.$$is_boolean&&1!=d?b.$to_sym():b:c}),c)&&"as_symbol"})(f.base,null);(function(e){var f=e.$$scope,
d,b;a.defn(e,"$generate_name",function(){return"extgrp"+this.$next_auto_id()});a.defn(e,"$next_auto_id",function(){var a;null==this.auto_id&&(this.auto_id=c);!1!==(a=this.auto_id)&&a!==c?a:this.auto_id=-1;return this.auto_id=G(this.auto_id,1)});a.defn(e,"$groups",function(){var a;null==this.groups&&(this.groups=c);return!1!==(a=this.groups)&&a!==c?a:this.groups=u([],{})});a.defn(e,"$build_registry",d=function(a){var b,e=d.$$p||c;null==a&&(a=c);d.$$p=null;return e!==c?(!1!==(b=a)&&b!==c?b:a=this.$generate_name(),
f.get("Registry").$new(M(a,e))):f.get("Registry").$new()});a.defn(e,"$register",b=function(){var d,e=b.$$p||c,f=c,h=c,k=h=c,f=k=c,h=arguments.length-0;0>h&&(h=0);for(var n=Array(h),f=0;f<h;f++)n[f]=arguments[f+0];b.$$p=null;f=n.$length();e===c&&((d=(h=n.$pop())["$!"]())===c||d.$$is_boolean&&1!=d?(k=h,e=a.get("Class")["$==="](k)?h:a.get("String")["$==="](k)?this.$class_for_name(h):a.get("Symbol")["$==="](k)?this.$class_for_name(h.$to_s()):h):e=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));
h=e;k=!1!==(d=n.$pop())&&d!==c?d:this.$generate_name();((d=n["$empty?"]())===c||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+f+" for 1..2)"));return this.$groups()["$[]="](k,h)});a.defn(e,"$unregister_all",function(){return this.groups=u([],{})});a.defn(e,"$resolve_class",function(b){var d;return(d=b["$is_a?"](a.get("Class")))===c||d.$$is_boolean&&1!=d?this.$class_for_name(b.$to_s()):b});return(a.defn(e,"$class_for_name",function(b){var d,e,f,k=c,k=
a.get("Object");(d=(e=b.$split("::")).$each,d.$$p=(f=function(a){var d=f.$$s||this,e;null==a&&(a=c);return(e=a["$empty?"]())===c||e.$$is_boolean&&1!=e?(e=k["$const_defined?"](a))===c||e.$$is_boolean&&1!=e?d.$raise("Could not resolve class for name: "+b):k=k.$const_get(a):c},f.$$s=this,f),d).call(e);return k}),c)&&"class_for_name"})(a.get_singleton_class(z))})(t(K,"Asciidoctor").$$scope.base)}(a.base)})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);
