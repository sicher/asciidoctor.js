(function(a){function p(a,c,h){var b=function(){},f=b.prototype=new a.constructor;c.$$scope=f;c.$$base_module=a.base;f.base=c;f.constructor=b;f.constants=[];h&&q.cdecl(a,h,c)}function t(a,c){var h=b(null,c,a);return l(a,h)}function l(a,c){function h(){}var b=function(){};b.prototype=a.constructor.prototype;h.prototype=new b;b=new h;g(b,h,a,c.prototype);b.$$alloc=c;return b.$$proto.$$class=b}function g(a,c,h,b){a.$$id=q.uid();a.$$proto=b;a.constructor=c;h===A?(a.$$is_module=!0,a.$$class=A):(a.$$is_class=
!0,a.$$class=H);a.$$super=h;a.$$parent=h;a.$$inc=[]}function k(){function a(){}var c=function(){};c.prototype=A.constructor.prototype;a.prototype=new c;c=new a;g(c,a,A,{});return c}function e(a){var c=a.$$class,h="#<Class:#<"+c.$$name+":"+c.$$id+">>",b=q.boot(c,function(){});b.$$name=h;b.$$proto=a;b.$$class=c.$$class;b.$$scope=c.$$scope;b.$$parent=c;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b}function d(){var a,c,b,f,q,A,m,H;if(4===arguments.length)for(a=arguments[0],c=arguments[1],b=
arguments[2],f=arguments[3],q=a.$$bridge.$ancestors(),A=0,H=q.length;A<H;A++){m=q[A];if(O.call(m.$$proto,b)&&m.$$proto[b]&&!m.$$proto[b].$$donated&&!m.$$proto[b].$$stub&&m!==c)break;if(m===c){a.prototype[b]=f;break}}else if(a=arguments[0],c=arguments[1],"function"===typeof a){b=c.$__id__();f=c.$instance_methods();for(A=f.length-1;0<=A;A--)q="$"+f[A],d(a,c,q,c.$$proto[q]);h[b]||(h[b]=[]);h[b].push(a)}else if(a=h[a.$__id__()]){for(A=a.length-1;0<=A;A--)d(a[A],c);h[c.$__id__()]=a.slice()}}function b(a,
c,h){if(h){var b=function(){};b.prototype=h.$$proto||h.prototype;a&&(b.displayName=a);c.prototype=new b}return c.prototype.constructor=c}function z(a,c,h){var b=function(){};b.prototype=h.prototype;var f=function(){};f.prototype=new b;f.displayName="#<Class:"+a+">";b=new f;g(b,f,h,c.prototype);b.$$alloc=c;b.$$name=a;c.prototype.$$class=b;q[a]=b;q.constants.push(a);return b}function x(a,c){for(var h=a.$$scope.constants,b=c.$$scope,f=b.constants,q=0,A=h.length;q<A;q++)f.push(h[q]),b[h[q]]=a.$$scope[h[q]]}
function w(a,c){var h=a.$$dep,b=a.$$proto[c],f,q,A,m,H,e,E,u,n,d;if(h)for(f=0,q=h.length;f<q;f++){A=h[f];m=A.$$proto;H=m[c];if(!m.hasOwnProperty(c)||H.$$donated||H.$$stub)if(m.hasOwnProperty(c)&&!H.$$stub){e=A.$$inc;E=0;for(u=e.length;E<u;E++)e[E]===H.$$donated&&(n=E),e[E]===a&&(d=E);n<=d&&(m[c]=b,m[c].$$donated=a)}else m[c]=b,m[c].$$donated=a;A.$$dep&&w(A,c)}}function r(a){function c(){this.$method_missing.$$p=c.$$p;c.$$p=null;return this.$method_missing.apply(this,[a.slice(1)].concat(B.call(arguments)))}
c.$$stub=!0;return c}function n(a){function c(){a.$$p=c.$$p;a.$$s=c.$$s;try{return a.apply(this,B.call(arguments))}finally{c.$$s=null,c.$$p=null}}c.$$target=a;c.$$arity=a.length;return c}function v(){}function f(){}function m(){}function u(){}function y(){}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var q=this.Opal={},h={},c=function(){};c.prototype=q;q.constructor=c;q.constants=[];q.global=this;var O=
q.hasOwnProperty,B=q.slice=Array.prototype.slice,J=4;q.uid=function(){return J+=2};q.cvars={};q.gvars={};q.exit=function(a){q.gvars.DEBUG&&console.log("Exited with status "+a)};q.exceptions=[];q.get=function(a){var c=this[a];return null==c?this.base.$const_get(a):c};q.create_scope=p;q.klass=function(a,c,h,b){a.$$is_class||a.$$is_module||(a=a.$$class);var f=a.$$scope[h],A="function"===typeof c;if(f&&f.$$orig_scope===a.$$scope){if(!f.$$is_class)throw q.TypeError.$new(h+" is not a class");if(c&&f.$$super!==
c)throw q.TypeError.$new("superclass mismatch for class "+h);return f}null===c&&(c=E);f=A?l(E,c):t(c,b);f.$$name=h;f.$$is_class=!0;p(a.$$scope,f,h);a[h]=a.$$scope[h]=f;A?q.bridge(f,c):(c!==E&&c!==G&&x(c,f),c.$inherited&&c.$inherited(f));return f};q.boot=t;q.module=function(a,c){var h;a.$$is_class||a.$$is_module||(a=a.$$class);if(O.call(a.$$scope,c)){if(h=a.$$scope[c],!h.$$is_module&&h!==E)throw q.TypeError.$new(c+" is not a module");}else h=k(),h.$$name=c,h.$$is_module=!0,h.$$dep=[],p(a.$$scope,h,
c),a[c]=a.$$scope[c]=h;return h};q.get_singleton_class=function(a){if(a.$$meta)return a.$$meta;if(a.$$is_class||a.$$is_module){var c=new q.Class.$$alloc;c.$$class=q.Class;c.$$proto=a.constructor.prototype;c.$$is_singleton=!0;c.$$singleton_of=a;c.$$inc=[];c.$$scope=a.$$scope;return a.$$meta=c}return e(a)};q.append_features=function(a,c){var h,b,f,q,A;for(A=c.$$inc.length-1;0<=A;A--)if(c.$$inc[A]===a)return;c.$$inc.push(a);a.$$dep.push(c);d(c,a);c.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:c.$$parent,
$$module:a,$$iclass:!0};h=a.$$proto;b=c.$$proto;f=a.$instance_methods();for(A=f.length-1;0<=A;A--)if(q="$"+f[A],!b.hasOwnProperty(q)||b[q].$$donated||b[q].$$stub)b[q]=h[q],b[q].$$donated=a;x(a,c)};q.bridge=function(a,c){if(c.$$bridge)throw q.ArgumentError.$new("already bridged");q.stub_subscribers.push(c.prototype);c.prototype.$$class=a;c.$$bridge=a;for(var h=a.$ancestors(),b=h.length-1;0<=b;b--)d(c,h[b]);for(var f in v.prototype){var A=v.prototype[A];!A||!A.$$stub||f in c.prototype||(c.prototype[f]=
A)}return a};q.casgn=function(a,c,h){function b(a,c){a.$$name=c;for(c in a.$$scope){var h=a.$$scope[c];h.$$name===Z&&(h.$$is_class||h.$$is_module)&&b(h,c)}}var f=a.$$scope;if(h.$$is_class||h.$$is_module){if(h.$$is_class||h.$$base_module===E)h.$$base_module=a;h.$$name===Z&&h.$$base_module.$$name!==Z&&b(h,c)}f.constants.push(c);return f[c]=h};q.cdecl=function(a,c,h){(h.$$is_class||h.$$is_module)&&null==h.$$orig_scope&&(h.$$name=c,h.$$orig_scope=a,a.constructor[c]=h);a.constants.push(c);return a[c]=
h};q.add_stubs=function(a){var c,h=q.stub_subscribers,b,f=a.length,A,m=h.length,H,e;for(b=0;b<f;b++)for(H=a[b],e=r(H),A=0;A<m;A++)c=h[A],H in c||(c[H]=e)};q.stub_subscribers=[v.prototype];q.add_stub_for=function(a,c){var h=r(c);a[c]=h};q.ac=function(a,c,h,b){var f="",f=h.$$is_class||h.$$is_module?f+(h.$$name+"."):f+(h.$$class.$$name+"#");throw q.ArgumentError.$new("["+(f+b)+"] wrong number of arguments("+a+" for "+c+")");};q.find_super_dispatcher=function(a,c,h,b,f){if(f)h=a.$$is_class||a.$$is_module?
f.$$super:a.$$class.$$proto;else if(a.$$is_class||a.$$is_module)h=a.$$super;else{f=a.$$meta||a.$$class;for(a="$"+c;f&&f.$$proto[a]!==h;)f=f.$$parent;if(!f)throw Error("could not find current class for super()");for(f=f.$$parent;f;){var q=f.$$proto[a];if(q&&q!==h)break;f=f.$$parent}h=f.$$proto}h=h["$"+c];h.$$p=b;return h};q.find_iter_super_dispatcher=function(a,c,h,b,f){return h.$$def?q.find_super_dispatcher(a,h.$$jsid,h,b,f):q.find_super_dispatcher(a,c,h,b,f)};q.ret=function(a){q.returner.$v=a;throw q.returner;
};q.yield1=function(a,c){if("function"!==typeof a)throw q.LocalJumpError.$new("no block given");return 1<a.length&&c.$$is_array?a.apply(null,c):a(c)};q.yieldX=function(a,c){if("function"!==typeof a)throw q.LocalJumpError.$new("no block given");if(1<a.length&&1===c.length&&c[0].$$is_array)return a.apply(null,c[0]);c.$$is_array||(c=B.call(c));return a.apply(null,c)};q.rescue=function(a,c){for(var h=0;h<c.length;h++){var b=c[h];if(b.$$is_array){if(b=q.rescue(a,b))return b}else if(b["$==="](a))return b}return null};
q.is_a=function(a,c){if(a.$$meta===c)return!0;for(var h=a.$$class;h;){if(h===c)return!0;for(var b=0,f=h.$$inc.length;b<f;b++)if(h.$$inc[b]===c)return!0;h=h.$$super}return!1};q.to_ary=function(a){return a.$$is_array?a:a.$to_ary&&!a.$to_ary.$$stub?a.$to_ary():[a]};q.to_a=function(a){return null==a||a===Z?[]:a.$to_a&&!a.$to_a.$$stub?a.$to_a():[a]};q.kwrestargs=function(a,c){var h=[],b={},f=null,A=a.smap;for(f in A)c[f]||(h.push(f),b[f]=A[f]);return q.hash2(h,b)};q.send=function(a,c){var h=B.call(arguments,
2),b=a["$"+c];return b?b.apply(a,h):a.$method_missing.apply(a,[c].concat(h))};q.block_send=function(a,c,h){var b=B.call(arguments,3),f=a["$"+c];return f?(f.$$p=h,f.apply(a,b)):a.$method_missing.apply(a,[c].concat(b))};q.defn=function(a,c,b){a.$$proto[c]=b;a.$$is_module&&(w(a,c),a.$$module_function&&q.defs(a,c,b));if(a.$__id__&&!a.$__id__.$$stub){var f=h[a.$__id__()];if(f)for(var A=f.length-1;0<=A;A--)d(f[A],a,c,b)}a.$method_added&&!a.$method_added.$$stub&&a.$method_added(c.substr(1));(a=a.$$singleton_of)&&
a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(c.substr(1));return Z};q.defs=function(a,c,h){q.defn(q.get_singleton_class(a),c,h)};q.def=function(a,c,h){a.$$eval||!a.$$is_class&&!a.$$is_module?q.defs(a,c,h):q.defn(a,c,h)};q.rdef=function(a,c){if(!O.call(a.$$proto,c))throw q.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());delete a.$$proto[c];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&
a.$$proto.$singleton_method_removed(c.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(c.substr(1))};q.udef=function(a,c){if(!a.$$proto[c]||a.$$proto[c].$$stub)throw q.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());q.add_stub_for(a.$$proto,c);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(c.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(c.substr(1))};
q.alias=function(a,c,h){var b="$"+c,f="$"+h,A=a.$$proto["$"+h];if(a.$$eval)return q.alias(q.get_singleton_class(a),c,h);if("function"!==typeof A||A.$$stub){for(c=a.$$super;"function"!==typeof A&&c;)A=c[f],c=c.$$super;if("function"!==typeof A||A.$$stub)throw q.NameError.$new("undefined method `"+h+"' for class `"+a.$name()+"'");}q.defn(a,b,n(A));return a};q.alias_native=function(a,c,h){c="$"+c;var b=a.$$proto[h];if("function"!==typeof b||b.$$stub)throw q.NameError.$new("undefined native method `"+
h+"' for class `"+a.$name()+"'");q.defn(a,c,n(b));return a};q.hash_init=function(a){a.map={};a.smap={};a.keys=[]};q.hash_clone=function(a,c){c.none=a.none;c.proc=a.proc;for(var h=0,b=a.keys.length,f,A;h<b;h++)f=a.keys[h],f.$$is_string?A=a.smap[f]:(A=f.value,f=f.key),q.hash_put(c,f,A)};q.hash_put=function(c,h,b){if(h.$$is_string)c.smap.hasOwnProperty(h)||c.keys.push(h),c.smap[h]=b;else{var f=h.$hash(),A,q;if(c.map.hasOwnProperty(f)){for(A=c.map[f];A;){if(h===A.key||h["$eql?"](A.key)){q=a;A.value=b;
break}q=A;A=A.next}q&&(A={key:h,key_hash:f,value:b},c.keys.push(A),q.next=A)}else A={key:h,key_hash:f,value:b},c.keys.push(A),c.map[f]=A}};q.hash_get=function(a,c){if(c.$$is_string){if(a.smap.hasOwnProperty(c))return a.smap[c]}else{var h=c.$hash();if(a.map.hasOwnProperty(h))for(h=a.map[h];h;){if(c===h.key||c["$eql?"](h.key))return h.value;h=h.next}}};q.hash_delete=function(a,c){var h,b=a.keys,f=b.length,A;if(c.$$is_string){if(!a.smap.hasOwnProperty(c))return;for(h=0;h<f;h++)if(b[h]===c){b.splice(h,
1);break}A=a.smap[c];delete a.smap[c];return A}var q=c.$hash();if(a.map.hasOwnProperty(q))for(var m=a.map[q],H;m;){if(c===m.key||c["$eql?"](m.key)){A=m.value;for(h=0;h<f;h++)if(b[h]===m){b.splice(h,1);break}H&&m.next?H.next=m.next:H?delete H.next:m.next?a.map[q]=m.next:delete a.map[q];return A}H=m;m=m.next}};q.hash_rehash=function(c){for(var h=0,b=c.keys.length,f,A,q;h<b;h++)if(!c.keys[h].$$is_string&&(f=c.keys[h].key.$hash(),f!==c.keys[h].key_hash)){A=c.map[c.keys[h].key_hash];for(q=a;A;){if(A===
c.keys[h]){q&&A.next?q.next=A.next:q?delete q.next:A.next?c.map[c.keys[h].key_hash]=A.next:delete c.map[c.keys[h].key_hash];break}q=A;A=A.next}c.keys[h].key_hash=f;if(c.map.hasOwnProperty(f)){A=c.map[f];for(q=a;A;){if(A===c.keys[h]){q=a;break}q=A;A=A.next}q&&(q.next=c.keys[h])}else c.map[f]=c.keys[h]}};q.hash=function(){var a=arguments.length,c,h,b,f,A;if(1===a&&arguments[0].$$is_hash)return arguments[0];c=new q.Hash.$$alloc;q.hash_init(c);if(1===a&&arguments[0].$$is_array){a=arguments[0];b=a.length;
for(h=0;h<b;h++){if(2!==a[h].length)throw q.ArgumentError.$new("value not of length 2: "+a[h].$inspect());f=a[h][0];A=a[h][1];q.hash_put(c,f,A)}return c}if(1===a){a=arguments[0];for(f in a)a.hasOwnProperty(f)&&(A=a[f],q.hash_put(c,f,A));return c}if(0!==a%2)throw q.ArgumentError.$new("odd number of arguments for Hash");for(h=0;h<a;h+=2)f=arguments[h],A=arguments[h+1],q.hash_put(c,f,A);return c};q.hash2=function(a,c){var h=new q.Hash.$$alloc;h.map={};h.keys=a;h.smap=c;return h};q.range=function(a,c,
h){var b=new q.Range.$$alloc;b.begin=a;b.end=c;b.exclude=h;return b};q.ivar=function(a){return"constructor"===a||"__proto__"===a||"__parent__"===a||"__noSuchMethod__"===a||"__count__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};(function(a){function c(a){var h,b=[];a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var f=0,A=a.length;f<A;f++)h=a[f],""!==h&&(".."===h?b.pop():b.push(h));return b.join("/")}function h(a){var b,q,m;b=0;for(q=a.length;b<q;b++){m=c(a[b]);if(A[m])break;f.push(m);
A[m]=!0}}function b(f){f=c(f);h([f]);var A=q[f];if(A)A(a);else if(A=a.dynamic_require_severity||"warning",f="cannot load such file -- "+f,"error"===A)if(a.LoadError)a.LoadError.$new(f);else throw f;else"warning"===A&&console.warn("WARNING: LoadError: "+f);return!0}var f=["corelib/runtime"],A={"corelib/runtime":!0},q={};a.modules=q;a.loaded_features=f;a.loaded=h;a.load=b;a.require=function(a){a=c(a);return A[a]?!1:b(a)}})(q);var G,E,A,H;b("BasicObject",v);b("Object",f,v);b("Module",u,f);b("Class",
m,u);G=z("BasicObject",v,m);E=z("Object",f,G.constructor);A=z("Module",u,E.constructor);H=z("Class",m,A.constructor);G.$$class=H;E.$$class=H;A.$$class=H;H.$$class=H;G.$$super=null;E.$$super=G;A.$$super=E;H.$$super=A;G.$$parent=null;E.$$parent=G;A.$$parent=E;H.$$parent=A;q.base=E;G.$$scope=E.$$scope=q;G.$$orig_scope=E.$$orig_scope=q;A.$$scope=E.$$scope;A.$$orig_scope=E.$$orig_scope;H.$$scope=E.$$scope;H.$$orig_scope=E.$$orig_scope;E.$$proto.toString=function(){return this.$to_s()};E.$$proto.$require=
q.require;q.top=new E.$$alloc;q.klass(E,E,"NilClass",y);var Z=q.nil=new y;Z.$$id=4;Z.call=Z.apply=function(){throw q.LocalJumpError.$new("no block given");};q.breaker=Error("unexpected break");q.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global);"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window);
Opal.modules["corelib/helpers"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.slice,l=a.module;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to!".split(" "));return function(g){g=l(g,"Opal");var k=g.$$scope;a.defs(g,"$bridge",function(e,d){return a.bridge(e,d)});a.defs(g,"$type_error",function(a,d,b,g){var l;null==b&&(b=p);null==g&&(g=p);return(l=!1!==b&&b!==p?g:b)===p||l.$$is_boolean&&1!=l?k.get("TypeError").$new("no implicit conversion of "+
a.$class()+" into "+d):k.get("TypeError").$new("can't convert "+a.$class()+" into "+d+" ("+a.$class()+"#"+b+" gives "+g.$class())});a.defs(g,"$coerce_to",function(a,d,b){var g;if((g=d["$==="](a))!==p&&(!g.$$is_boolean||1==g))return a;((g=a["$respond_to?"](b))===p||g.$$is_boolean&&1!=g)&&this.$raise(this.$type_error(a,d));return a.$__send__(b)});a.defs(g,"$coerce_to!",function(a,d,b){var g,k=p,k=this.$coerce_to(a,d,b);((g=d["$==="](k))===p||g.$$is_boolean&&1!=g)&&this.$raise(this.$type_error(a,d,b,
k));return k});a.defs(g,"$coerce_to?",function(a,d,b){var g,k=p;if((g=a["$respond_to?"](b))===p||g.$$is_boolean&&1!=g)return p;k=this.$coerce_to(a,d,b);if((g=k["$nil?"]())!==p&&(!g.$$is_boolean||1==g))return p;((g=d["$==="](k))===p||g.$$is_boolean&&1!=g)&&this.$raise(this.$type_error(a,d,b,k));return k});a.defs(g,"$try_convert",function(a,d,b){var g;return(g=d["$==="](a))===p||g.$$is_boolean&&1!=g?(g=a["$respond_to?"](b))===p||g.$$is_boolean&&1!=g?p:a.$__send__(b):a});a.defs(g,"$compare",function(a,
d){var b,g=p,g=a["$<=>"](d);(b=g===p)===p||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"comparison of "+a.$class()+" with "+d.$class()+" failed");return g});a.defs(g,"$destructure",function(a){return 1==a.length?a[0]:a.$$is_array?a:t.call(a)});a.defs(g,"$respond_to?",function(a,d){return null!=a&&a.$$class?a["$respond_to?"](d):!1});a.defs(g,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()});a.defs(g,"$instance_variable_name!",function(a){var d;
a=k.get("Opal")["$coerce_to!"](a,k.get("String"),"to_str");((d=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===p||d.$$is_boolean&&1!=d)&&this.$raise(k.get("NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a})}(a.base)};
Opal.modules["corelib/module"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.slice,l=a.klass;a.add_stubs("$equal? $< $attr_reader $attr_writer $coerce_to! $raise $new $=~ $inject $const_get $split $const_missing $to_str $=== $to_proc $lambda $bind $call $class $append_features $included $name $to_s $__id__".split(" "));return function(g,$super){function e(){}var d=e=l(g,$super,"Module",e),b=d.$$scope,z,x,w,r;a.defs(d,"$new",z=function(){var b=z.$$p||p;z.$$p=null;var e=a.boot(a.Module,
function(){});e.$$name=p;e.$$class=a.Module;e.$$dep=[];e.$$is_module=!0;e.$$proto={};a.create_scope(a.Module.$$scope,e);if(b!==p){var f=b.$$s;b.$$s=null;b.call(e);b.$$s=f}return e});a.defn(d,"$===",function(b){var e;return(e=null==b)===p||e.$$is_boolean&&1!=e?a.is_a(b,this):!1});a.defn(d,"$<",function(a){var b=this;if(b===a)return!1;for(;b;){if(b===a)return!0;b=b.$$parent}return!1});a.defn(d,"$<=",function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==p?b:"number"===typeof this&&"number"===typeof a?
this<a:this["$<"](a)});a.defn(d,"$alias_method",function(b,e){a.alias(this,b,e);return this});a.defn(d,"$alias_native",function(b,e){null==e&&(e=b);a.alias_native(this,b,e);return this});a.defn(d,"$ancestors",function(){for(var a=this,b=[];a;){b.push(a);for(var f=0;f<a.$$inc.length;f++)b=b.concat(a.$$inc[f].$ancestors());a=a.$$is_class?a.$$super:null}return b});a.defn(d,"$append_features",function(b){a.append_features(this,b);return this});a.defn(d,"$attr_accessor",function(){var b=arguments.length-
0;0>b&&(b=0);for(var e=Array(b),f=0;f<b;f++)e[f]=arguments[f+0];this.$attr_reader.apply(this,a.to_a(e));return this.$attr_writer.apply(this,a.to_a(e))});a.alias(d,"attr","attr_accessor");a.defn(d,"$attr_reader",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),f=0;f<b;f++)e[f]=arguments[f+0];b=this.$$proto;for(f=e.length-1;0<=f;f--){var m=e[f],u="$"+m,m=a.ivar(m),d=function(a){return function(){return null==this[a]?p:this[a]}}(m);b[m]=p;this.$$is_singleton?b.constructor.prototype[u]=
d:a.defn(this,u,d)}return p});a.defn(d,"$attr_writer",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),f=0;f<b;f++)e[f]=arguments[f+0];b=this.$$proto;for(f=e.length-1;0<=f;f--){var m=e[f],u="$"+m+"=",m=a.ivar(m),d=function(a){return function(h){return this[a]=h}}(m);b[m]=p;this.$$is_singleton?b.constructor.prototype[u]=d:a.defn(this,u,d)}return p});a.defn(d,"$autoload",function(a,b){var f;(f=this.$$autoload)||(f=this.$$autoload={});f[a]=b;return p});a.defn(d,"$class_variable_get",
function(e){var d;e=b.get("Opal")["$coerce_to!"](e,b.get("String"),"to_str");(d=3>e.length||"@@"!==e.slice(0,2))===p||d.$$is_boolean&&1!=d||this.$raise(b.get("NameError").$new("class vars should start with @@",e));var f=a.cvars[e.slice(2)];(d=null==f)===p||d.$$is_boolean&&1!=d||this.$raise(b.get("NameError").$new("uninitialized class variable @@a in",e));return f});a.defn(d,"$class_variable_set",function(e,d){var f;e=b.get("Opal")["$coerce_to!"](e,b.get("String"),"to_str");(f=3>e.length||"@@"!==e.slice(0,
2))===p||f.$$is_boolean&&1!=f||this.$raise(b.get("NameError"));return a.cvars[e.slice(2)]=d});a.defn(d,"$constants",function(){return this.$$scope.constants.slice(0)});a.defn(d,"$const_defined?",function(e,d){var f;null==d&&(d=!0);((f=e["$=~"](/^[A-Z]\w*$/))===p||f.$$is_boolean&&1!=f)&&this.$raise(b.get("NameError").$new("wrong constant name "+e,e));f=[this.$$scope];if(d||this===a.Object)for(var m=this.$$super;m!==a.BasicObject;)f.push(m.$$scope),m=m.$$super;for(var m=0,u=f.length;m<u;m++)if(f[m].hasOwnProperty(e))return!0;
return!1});a.defn(d,"$const_get",function(e,d){var f,m,u;null==d&&(d=!0);if((f=-1!=e.indexOf("::")&&"::"!=e)!==p&&(!f.$$is_boolean||1==f))return(f=(m=e.$split("::")).$inject,f.$$p=(u=function(a,b){null==a&&(a=p);null==b&&(b=p);return a.$const_get(b)},u.$$s=this,u),f).call(m,this);((f=/^[A-Z]\w*$/.test(e))===p||f.$$is_boolean&&1!=f)&&this.$raise(b.get("NameError").$new("wrong constant name "+e,e));f=[this.$$scope];if(d||this==a.Object)for(m=this.$$super;m!==a.BasicObject;)f.push(m.$$scope),m=m.$$super;
m=0;for(u=f.length;m<u;m++)if(f[m].hasOwnProperty(e))return f[m][e];return this.$const_missing(e)});a.defn(d,"$const_missing",function(a){if(this.$$autoload){var e=this.$$autoload[a];if(e)return this.$require(e),this.$const_get(a)}return this.$raise(b.get("NameError").$new("uninitialized constant "+this+"::"+a,a))});a.defn(d,"$const_set",function(e,d){var f;((f=e["$=~"](/^[A-Z]\w*$/))===p||f.$$is_boolean&&1!=f)&&this.$raise(b.get("NameError").$new("wrong constant name "+e,e));try{e=e.$to_str()}catch(m){try{this.$raise(b.get("TypeError"),
"conversion with #to_str failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.casgn(this,e,d);return d});a.defn(d,"$define_method",x=function(e,d){var f,m,u,y,q=this,h=x.$$p||p,c=p;x.$$p=null;(f=void 0===d&&h===p)===p||f.$$is_boolean&&1!=f||q.$raise(b.get("ArgumentError"),"tried to create a Proc object without a block");!1!==(f=h)&&f!==p?f:h=function(){c=d;return b.get("Proc")["$==="](c)?d:b.get("Method")["$==="](c)?d.$to_proc().$$unbound:b.get("UnboundMethod")["$==="](c)?(m=(u=q).$lambda,m.$$p=
(y=function(c){var h=y.$$s||this,b,f=p;c=t.call(arguments,0);f=d.$bind(h);return(b=f).$call.apply(b,a.to_a(c))},y.$$s=q,y),m).call(u):q.$raise(b.get("TypeError"),"wrong argument type "+h.$class()+" (expected Proc/Method)")}();h.$$jsid=e;h.$$s=null;h.$$def=h;a.defn(q,"$"+e,h);return e});a.defn(d,"$remove_method",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),f=0;f<b;f++)e[f]=arguments[f+0];b=0;for(f=e.length;b<f;b++)a.rdef(this,"$"+e[b]);return this});a.defn(d,"$singleton_class?",
function(){return!!this.$$is_singleton});a.defn(d,"$include",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),f=0;f<a;f++)b[f]=arguments[f+0];for(a=b.length-1;0<=a;a--)f=b[a],f!==this&&(f.$append_features(this),f.$included(this));return this});a.defn(d,"$include?",function(a){for(var b=this;b;b=b.$$super)for(var f=0;f!=b.$$inc.length;f++)if(a===b.$$inc[f])return!0;return!1});a.defn(d,"$instance_method",function(a){var e=this.$$proto["$"+a];e&&!e.$$stub||this.$raise(b.get("NameError").$new("undefined method `"+
a+"' for class `"+this.$name()+"'",a));return b.get("UnboundMethod").$new(this,e,a)});a.defn(d,"$instance_methods",function(b){null==b&&(b=!0);var e=[],f=this.$$proto,m;for(m in f)if("$"===m.charAt(0)&&"function"===typeof f[m]&&!f[m].$$stub){if(!this.$$is_module){if(this!==a.BasicObject&&f[m]===a.BasicObject.$$proto[m])continue;if(!b&&!f.hasOwnProperty(m))continue;if(!b&&f[m].$$donated)continue}e.push(m.substr(1))}return e});a.defn(d,"$included",function(a){return p});a.defn(d,"$extended",function(a){return p});
a.defn(d,"$method_added",function(){return p});a.defn(d,"$method_removed",function(){return p});a.defn(d,"$method_undefined",function(){return p});a.defn(d,"$module_eval",w=function(){var a=w.$$p||p;w.$$p=null;!1!==a&&a!==p||this.$raise(b.get("ArgumentError"),"no block given");var e=a.$$s,f;a.$$s=null;f=a.call(this);a.$$s=e;return f});a.alias(d,"class_eval","module_eval");a.defn(d,"$module_exec",r=function(){var a=r.$$p||p,e=arguments.length-0;0>e&&(e=0);for(var f=Array(e),m=0;m<e;m++)f[m]=arguments[m+
0];r.$$p=null;a===p&&this.$raise(b.get("LocalJumpError"),"no block given");e=a.$$s;a.$$s=null;f=a.apply(this,f);a.$$s=e;return f});a.alias(d,"class_exec","module_exec");a.defn(d,"$method_defined?",function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub});a.defn(d,"$module_function",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),f=0;f<b;f++)e[f]=arguments[f+0];if(0===e.length)this.$$module_function=!0;else for(b=0,f=e.length;b<f;b++){var m="$"+e[b];a.defs(this,m,this.$$proto[m])}return this});
a.defn(d,"$name",function(){if(this.$$full_name)return this.$$full_name;for(var b=[],e=this;e;){if(e.$$name===p)return 0===b.length?p:b.join("::");b.unshift(e.$$name);e=e.$$base_module;if(e===a.Object)break}return 0===b.length?p:this.$$full_name=b.join("::")});a.defn(d,"$remove_class_variable",function(){return p});a.defn(d,"$remove_const",function(a){var b=this.$$scope[a];delete this.$$scope[a];return b});a.defn(d,"$to_s",function(){var b;return!1!==(b=a.Module.$name.call(this))&&b!==p?b:"#<"+(this.$$is_module?
"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"});return(a.defn(d,"$undef_method",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),f=0;f<b;f++)e[f]=arguments[f+0];b=0;for(f=e.length;b<f;b++)a.udef(this,"$"+e[b]);return this}),p)&&"undef_method"}(a.base,null)};
Opal.modules["corelib/class"]=function(a){a.dynamic_require_severity="warning";var p=a.top,t=a.nil,l=a.klass;a.add_stubs(["$require","$raise","$allocate"]);p.$require("corelib/module");return function(g,$super){function e(){}var d=e=l(g,$super,"Class",e),b=d.$$scope,p,x;a.defs(d,"$new",p=function(e){var d=p.$$p||t;null==e&&(e=b.get("Object"));p.$$p=null;e.$$is_class||this.$raise(b.get("TypeError"),"superclass must be a Class");var g=a.boot(e,function(){});g.$$name=t;g.$$parent=e;g.$$is_class=!0;a.create_scope(e.$$scope,
g);e.$inherited(g);d!==t&&(e=d.$$s,d.$$s=null,d.call(g),d.$$s=e);return g});a.defn(d,"$allocate",function(){var b=new this.$$alloc;b.$$id=a.uid();return b});a.defn(d,"$inherited",function(a){return t});a.defn(d,"$new",x=function(){var a=x.$$p||t,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),d=0;d<b;d++)e[d]=arguments[d+0];x.$$p=null;b=this.$allocate();b.$initialize.$$p=a;b.$initialize.apply(b,e);return b});return(a.defn(d,"$superclass",function(){return this.$$super||t}),t)&&"superclass"}(a.base,
null)};
Opal.modules["corelib/basic_object"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.klass;a.add_stubs(["$==","$!","$raise","$new","$inspect"]);return function(l,$super){function k(){}var e=k=t(l,$super,"BasicObject",k),d=e.$$scope,b,z,x,w;a.defn(e,"$initialize",function(){return p});a.defn(e,"$==",function(a){return this===a});a.defn(e,"$eql?",function(a){return this["$=="](a)});a.defn(e,"$__id__",function(){return this.$$id||(this.$$id=a.uid())});a.defn(e,"$__send__",b=function(a){var e=b.$$p||
p,d=arguments.length-1;0>d&&(d=0);for(var f=Array(d),m=0;m<d;m++)f[m]=arguments[m+1];b.$$p=null;if(d=this["$"+a])return e!==p&&(d.$$p=e),d.apply(this,f);e!==p&&(this.$method_missing.$$p=e);return this.$method_missing.apply(this,[a].concat(f))});a.defn(e,"$!",function(){return!1});a.defn(e,"$!=",function(a){return this["$=="](a)["$!"]()});a.alias(e,"equal?","==");a.defn(e,"$instance_eval",z=function(){var a=z.$$p||p;z.$$p=null;!1!==a&&a!==p||d.get("Kernel").$raise(d.get("ArgumentError"),"no block given");
var b=a.$$s,e;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{e=a.call(this,this)}finally{this.$$eval=!1}}else e=a.call(this,this);a.$$s=b;return e});a.defn(e,"$instance_exec",x=function(){var a=x.$$p||p,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),f=0;f<b;f++)e[f]=arguments[f+0];x.$$p=null;!1!==a&&a!==p||d.get("Kernel").$raise(d.get("ArgumentError"),"no block given");var b=a.$$s,m;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{m=a.apply(this,e)}finally{this.$$eval=
!1}}else m=a.apply(this,e);a.$$s=b;return m});a.defn(e,"$singleton_method_added",function(){return p});a.defn(e,"$singleton_method_removed",function(){return p});a.defn(e,"$singleton_method_undefined",function(){return p});return(a.defn(e,"$method_missing",w=function(a){var b,e=arguments.length-1;0>e&&(e=0);for(var f=Array(e),m=0;m<e;m++)f[m]=arguments[m+1];w.$$p=null;return d.get("Kernel").$raise(d.get("NoMethodError").$new((b=this.$inspect&&!this.$inspect.$$stub)===p||b.$$is_boolean&&1!=b?"undefined method `"+
a+"' for "+this.$$class:"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class,a))}),p)&&"method_missing"}(a.base,null)};
Opal.modules["corelib/kernel"]=function(a){function p(a,e){return"number"===typeof a&&"number"===typeof e?a<=e:a["$<="](e)}a.dynamic_require_severity="warning";var t=a.nil,l=a.breaker,g=a.module,k=a.gvars,e=a.hash2,d=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $each $reverse $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $> $print $format $puts $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $include".split(" "));(function(b){b=
g(b,"Kernel");var d=b.$$scope,x,w,r,n,v,f,m,u,y;a.defn(b,"$method_missing",x=function(a){var h=arguments.length-1;0>h&&(h=0);for(var c=Array(h),b=0;b<h;b++)c[b]=arguments[b+1];x.$$p=null;return this.$raise(d.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,c))});a.defn(b,"$=~",function(a){return!1});a.defn(b,"$!~",function(a){return this["$=~"](a)["$!"]()});a.defn(b,"$===",function(a){var h;return!1!==(h=this.$object_id()["$=="](a.$object_id()))&&h!==t?h:this["$=="](a)});
a.defn(b,"$<=>",function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==t?0:t});a.defn(b,"$method",function(a){var h=this["$"+a];h&&!h.$$stub||this.$raise(d.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return d.get("Method").$new(this,h,a)});a.defn(b,"$methods",function(b){null==b&&(b=!0);var h=[],c;for(c in this)"$"==c[0]&&"function"===typeof this[c]&&(0!=b&&b!==t||a.hasOwnProperty.call(this,c))&&void 0===this[c].$$stub&&h.push(c.substr(1));return h});
a.alias(b,"public_methods","methods");a.defn(b,"$Array",function(a){var h;if(a===t)return[];if(a.$$is_array)return a;h=d.get("Opal")["$coerce_to?"](a,d.get("Array"),"to_ary");if(h!==t)return h;h=d.get("Opal")["$coerce_to?"](a,d.get("Array"),"to_a");return h!==t?h:[a]});a.defn(b,"$at_exit",w=function(){var a,h=w.$$p||t;null==k.__at_exit__&&(k.__at_exit__=t);w.$$p=null;!1!==(a=k.__at_exit__)&&a!==t?a:k.__at_exit__=[];return k.__at_exit__["$<<"](h)});a.defn(b,"$caller",function(){return[]});a.defn(b,
"$class",function(){return this.$$class});a.defn(b,"$copy_instance_variables",function(a){for(var h in a)"$"!==h.charAt(0)&&(this[h]=a[h])});a.defn(b,"$copy_singleton_methods",function(b){var h;if(b.hasOwnProperty("$$meta")){var c=a.get_singleton_class(b).$$proto,f=a.get_singleton_class(this).$$proto;for(h in c)"$"===h.charAt(0)&&c.hasOwnProperty(h)&&(f[h]=c[h])}for(h in b)"$"===h.charAt(0)&&"$"!==h.charAt(1)&&b.hasOwnProperty(h)&&(this[h]=b[h])});a.defn(b,"$clone",function(){var a=t,a=this.$class().$allocate();
a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(b,"$initialize_clone",function(a){return this.$initialize_copy(a)});a.defn(b,"$define_singleton_method",r=function(a,h){var c,b,f=r.$$p||t;r.$$p=null;return(c=(b=this.$singleton_class()).$define_method,c.$$p=f.$to_proc(),c).call(b,a,h)});a.defn(b,"$dup",function(){var a=t,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(b,"$initialize_dup",
function(a){return this.$initialize_copy(a)});a.defn(b,"$enum_for",n=function(b){var h,c,f=n.$$p||t,e=arguments.length-1;0>e&&(e=0);for(var m=Array(e),u=0;u<e;u++)m[u]=arguments[u+1];null==b&&(b="each");n.$$p=null;return(h=(c=d.get("Enumerator")).$for,h.$$p=f.$to_proc(),h).apply(c,[this,b].concat(a.to_a(m)))});a.alias(b,"to_enum","enum_for");a.defn(b,"$equal?",function(a){return this===a});a.defn(b,"$exit",function(b){var h,c;null==k.__at_exit__&&(k.__at_exit__=t);null==b&&(b=!0);(h=k.__at_exit__)===
t||h.$$is_boolean&&1!=h||(h=(c=k.__at_exit__.$reverse()).$each,h.$$p="call".$to_proc(),h).call(c);(h=!0===b)===t||h.$$is_boolean&&1!=h||(b=0);a.exit(b);return t});a.defn(b,"$extend",function(){var a=arguments.length-0;0>a&&(a=0);for(var h=Array(a),c=0;c<a;c++)h[c]=arguments[c+0];a=this.$singleton_class();for(c=h.length-1;0<=c;c--){var b=h[c];b.$append_features(a);b.$extended(this)}return this});a.defn(b,"$format",function(a){function h(){D&32&&u.$raise(d.get("ArgumentError"),"flag after width");D&
128&&u.$raise(d.get("ArgumentError"),"flag after precision")}function c(){D&32&&u.$raise(d.get("ArgumentError"),"width given twice");D&128&&u.$raise(d.get("ArgumentError"),"width after precision")}function b(a){a>=g.length&&u.$raise(d.get("ArgumentError"),"too few arguments");return g[a]}function f(){switch(W){case -1:u.$raise(d.get("ArgumentError"),"unnumbered("+da+") mixed with numbered");case -2:u.$raise(d.get("ArgumentError"),"unnumbered("+da+") mixed with named")}W=da++;return b(W-1)}function e(a){0<
W&&u.$raise(d.get("ArgumentError"),"numbered("+a+") after unnumbered("+W+")");-2===W&&u.$raise(d.get("ArgumentError"),"numbered("+a+") after named");1>a&&u.$raise(d.get("ArgumentError"),"invalid index - "+a+"$");W=-1;return b(a-1)}function m(){return void 0===R?f():R}function E(c){var h;for(h="";;v++){v===p&&u.$raise(d.get("ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(v)||57<a.charCodeAt(v))return v--,h=parseInt(h,10)||0,2147483647<h&&u.$raise(d.get("ArgumentError"),""+
c+" too big"),h;h+=a.charAt(v)}}function A(c){c=E(c);"$"===a.charAt(v+1)?(v++,c=e(c)):c=f();return c.$to_int()}var H,u=this,y=t;null==k.DEBUG&&(k.DEBUG=t);y=arguments.length-1;0>y&&(y=0);for(var g=Array(y),n=0;n<y;n++)g[n]=arguments[n+1];(H=g.$length()["$=="](1)?g["$[]"](0)["$respond_to?"]("to_ary"):g.$length()["$=="](1))!==t&&(!H.$$is_boolean||1==H)&&(y=d.get("Opal")["$coerce_to?"](g["$[]"](0),d.get("Array"),"to_ary"),(H=y["$nil?"]())===t||H.$$is_boolean&&1!=H)&&(g=y.$to_a());H="";var y=0,v,p=a.length,
l,r,x,w,N,L,U,Y,ba,R,da=1,W=0,D;for(v=a.indexOf("%");-1!==v;v=a.indexOf("%",v)){r=void 0;D=0;N=w=-1;R=void 0;n=v;v++;switch(a.charAt(v)){case "%":y=v;case "":case "\n":case "\x00":v++;continue}a:for(;v<p;v++)switch(a.charAt(v)){case " ":h();D|=16;continue a;case "#":h();D|=1;continue a;case "+":h();D|=4;continue a;case "-":h();D|=2;continue a;case "0":h();D|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":l=E("width");if("$"===a.charAt(v+1)){if(v+2===
p){r="%";v++;break a}void 0!==R&&u.$raise(d.get("ArgumentError"),"value given twice - %"+l+"$");R=e(l);v++}else c(),D|=32,w=l;continue a;case "<":case "{":for(x="<"===a.charAt(v)?">":"}",l="",v++;;v++){v===p&&u.$raise(d.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(v)===x)if(0<W&&u.$raise(d.get("ArgumentError"),"named "+l+" after unnumbered("+W+")"),-1===W&&u.$raise(d.get("ArgumentError"),"named "+l+" after numbered"),W=-2,void 0!==g[0]&&g[0].$$is_hash||u.$raise(d.get("ArgumentError"),
"one hash required"),R=g[0].$fetch(l),">"===x)continue a;else{r=R.toString();-1!==N&&(r=r.slice(0,N));if(D&2)for(;r.length<w;)r+=" ";else for(;r.length<w;)r=" "+r;break a}l+=a.charAt(v)}case "*":v++;c();D|=32;w=A("width");0>w&&(D|=2,w=-w);continue a;case ".":D&128&&u.$raise(d.get("ArgumentError"),"precision given twice");D|=192;N=0;v++;if("*"===a.charAt(v)){v++;N=A("precision");0>N&&(D&=-65);continue a}N=E("precision");continue a;case "d":case "i":case "u":l=u.$Integer(m());if(0<=l){for(r=l.toString();r.length<
N;)r="0"+r;if(D&2){if(D&4||D&16)r=(D&4?"+":" ")+r;for(;r.length<w;)r+=" "}else if(D&8&&-1===N){for(;r.length<w-(D&4||D&16?1:0);)r="0"+r;if(D&4||D&16)r=(D&4?"+":" ")+r}else{if(D&4||D&16)r=(D&4?"+":" ")+r;for(;r.length<w;)r=" "+r}}else{for(r=(-l).toString();r.length<N;)r="0"+r;if(D&2)for(r="-"+r;r.length<w;)r+=" ";else if(D&8&&-1===N){for(;r.length<w-1;)r="0"+r;r="-"+r}else for(r="-"+r;r.length<w;)r=" "+r}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(v)){case "b":case "B":L=2;
U="0b";Y=/^1+/;ba="1";break;case "o":L=8;U="0";Y=/^3?7+/;ba="7";break;case "x":case "X":L=16,U="0x",Y=/^f+/,ba="f"}l=u.$Integer(m());if(0<=l){for(r=l.toString(L);r.length<N;)r="0"+r;if(D&2){if(D&4||D&16)r=(D&4?"+":" ")+r;for(D&1&&0!==l&&(r=U+r);r.length<w;)r+=" "}else if(D&8&&-1===N){for(;r.length<w-(D&4||D&16?1:0)-(D&1&&0!==l?U.length:0);)r="0"+r;D&1&&0!==l&&(r=U+r);if(D&4||D&16)r=(D&4?"+":" ")+r}else{D&1&&0!==l&&(r=U+r);if(D&4||D&16)r=(D&4?"+":" ")+r;for(;r.length<w;)r=" "+r}}else if(D&4||D&16){for(r=
(-l).toString(L);r.length<N;)r="0"+r;if(D&2)for(D&1&&(r=U+r),r="-"+r;r.length<w;)r+=" ";else if(D&8&&-1===N){for(;r.length<w-1-(D&1?2:0);)r="0"+r;D&1&&(r=U+r);r="-"+r}else for(D&1&&(r=U+r),r="-"+r;r.length<w;)r=" "+r}else{for(r=(l>>>0).toString(L).replace(Y,ba);r.length<N-2;)r=ba+r;if(D&2)for(r=".."+r,D&1&&(r=U+r);r.length<w;)r+=" ";else if(D&8&&-1===N){for(;r.length<w-2-(D&1?U.length:0);)r=ba+r;r=".."+r;D&1&&(r=U+r)}else for(r=".."+r,D&1&&(r=U+r);r.length<w;)r=" "+r}a.charAt(v)===a.charAt(v).toUpperCase()&&
(r=r.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":l=u.$Float(m());if(0<=l||isNaN(l)){if(Infinity===l)r="Inf";else switch(a.charAt(v)){case "f":r=l.toFixed(-1===N?6:N);break;case "e":case "E":r=l.toExponential(-1===N?6:N);break;case "g":case "G":r=l.toExponential(),x=parseInt(r.split("e")[1],10),-4>x||x>=(-1===N?6:N)||(r=l.toPrecision(-1===N?D&1?6:void 0:N))}if(D&2){if(D&4||D&16)r=(D&4?"+":" ")+r;for(;r.length<w;)r+=" "}else if(D&8&&Infinity!==l&&!isNaN(l)){for(;r.length<w-(D&
4||D&16?1:0);)r="0"+r;if(D&4||D&16)r=(D&4?"+":" ")+r}else{if(D&4||D&16)r=(D&4?"+":" ")+r;for(;r.length<w;)r=" "+r}}else{if(-Infinity===l)r="Inf";else switch(a.charAt(v)){case "f":r=(-l).toFixed(-1===N?6:N);break;case "e":case "E":r=(-l).toExponential(-1===N?6:N);break;case "g":case "G":r=(-l).toExponential(),x=parseInt(r.split("e")[1],10),-4>x||x>=(-1===N?6:N)||(r=(-l).toPrecision(-1===N?D&1?6:void 0:N))}if(D&2)for(r="-"+r;r.length<w;)r+=" ";else if(D&8&&-Infinity!==l){for(;r.length<w-1;)r="0"+r;
r="-"+r}else for(r="-"+r;r.length<w;)r=" "+r}a.charAt(v)!==a.charAt(v).toUpperCase()||Infinity===l||-Infinity===l||isNaN(l)||(r=r.toUpperCase());r=r.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":u.$raise(d.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":l=m();l["$respond_to?"]("to_ary")&&(l=l.$to_ary()[0]);r=l["$respond_to?"]("to_str")?l.$to_str():String.fromCharCode(d.get("Opal").$coerce_to(l,d.get("Integer"),"to_int"));1!==
r.length&&u.$raise(d.get("ArgumentError"),"%c requires a character");if(D&2)for(;r.length<w;)r+=" ";else for(;r.length<w;)r=" "+r;break a;case "p":r=m().$inspect();-1!==N&&(r=r.slice(0,N));if(D&2)for(;r.length<w;)r+=" ";else for(;r.length<w;)r=" "+r;break a;case "s":r=m().$to_s();-1!==N&&(r=r.slice(0,N));if(D&2)for(;r.length<w;)r+=" ";else for(;r.length<w;)r=" "+r;break a;default:u.$raise(d.get("ArgumentError"),"malformed format string - %"+a.charAt(v))}void 0===r&&u.$raise(d.get("ArgumentError"),
"malformed format string - %");H+=a.slice(y,n)+r;y=v+1}k.DEBUG&&0<=W&&da<g.length&&u.$raise(d.get("ArgumentError"),"too many arguments for format string");return H+a.slice(y)});a.defn(b,"$hash",function(){return""+this.$class()+":"+this.$class().$__id__()+":"+this.$__id__()});a.defn(b,"$initialize_copy",function(a){return t});a.defn(b,"$inspect",function(){return this.$to_s()});a.defn(b,"$instance_of?",function(a){a.$$is_class||a.$$is_module||this.$raise(d.get("TypeError"),"class or module required");
return this.$$class===a});a.defn(b,"$instance_variable_defined?",function(b){b=d.get("Opal")["$instance_variable_name!"](b);return a.hasOwnProperty.call(this,b.substr(1))});a.defn(b,"$instance_variable_get",function(a){a=d.get("Opal")["$instance_variable_name!"](a);a=this[a.substr(1)];return null==a?t:a});a.defn(b,"$instance_variable_set",function(a,h){a=d.get("Opal")["$instance_variable_name!"](a);return this[a.substr(1)]=h});a.defn(b,"$instance_variables",function(){var a=[],h;for(h in this)"$"!==
h.charAt(0)&&"$$class"!==h&&"$$id"!==h&&a.push("@"+h);return a});a.defn(b,"$Integer",function(a,h){var c=this,b,f;if(!a.$$is_string)return void 0!==h&&c.$raise(d.get("ArgumentError"),"base specified for non string value"),a===t&&c.$raise(d.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&c.$raise(d.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(b=a.$to_int(),b!==t)?b:d.get("Opal")["$coerce_to!"](a,d.get("Integer"),
"to_i");void 0===h?h=0:(h=d.get("Opal").$coerce_to(h,d.get("Integer"),"to_int"),(1===h||0>h||36<h)&&c.$raise(d.get("ArgumentError"),"invalid radix "+h));b=a.toLowerCase();b=b.replace(/(\d)_(?=\d)/g,"$1");b=b.replace(/^(\s*[+-]?)(0[bodx]?)/,function(b,f,e){switch(e){case "0b":if(0===h||2===h)return h=2,f;case "0":case "0o":if(0===h||8===h)return h=8,f;case "0d":if(0===h||10===h)return h=10,f;case "0x":if(0===h||16===h)return h=16,f}c.$raise(d.get("ArgumentError"),'invalid value for Integer(): "'+a+
'"')});h=0===h?10:h;f="0-"+(10>=h?h-1:"9a-"+String.fromCharCode(97+(h-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(b)||c.$raise(d.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');b=parseInt(b,h);isNaN(b)&&c.$raise(d.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return b});a.defn(b,"$Float",function(a){var h;a===t&&this.$raise(d.get("TypeError"),"can't convert nil into Float");if(a.$$is_string){h=a.toString();h=h.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(h))return this.$Integer(h);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(h)||this.$raise(d.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(h)}return d.get("Opal")["$coerce_to!"](a,d.get("Float"),"to_f")});a.defn(b,"$Hash",function(a){var h,c;return(h=!1!==(c=a["$nil?"]())&&c!==t?c:a["$=="]([]))===t||h.$$is_boolean&&1!=h?(h=d.get("Hash")["$==="](a))===t||h.$$is_boolean&&1!=h?d.get("Opal")["$coerce_to!"](a,d.get("Hash"),"to_hash"):a:e([],{})});a.defn(b,"$is_a?",function(b){b.$$is_class||b.$$is_module||
this.$raise(d.get("TypeError"),"class or module required");return a.is_a(this,b)});a.alias(b,"kind_of?","is_a?");a.defn(b,"$lambda",v=function(){var a=v.$$p||t;v.$$p=null;a.$$is_lambda=!0;return a});a.defn(b,"$load",function(b){b=d.get("Opal")["$coerce_to!"](b,d.get("String"),"to_str");return a.load(b)});a.defn(b,"$loop",f=function(){var a=f.$$p||t;for(f.$$p=null;;)if(a()===l)return l.$v});a.defn(b,"$nil?",function(){return!1});a.alias(b,"object_id","__id__");a.defn(b,"$printf",function(){var b=arguments.length-
0;0>b&&(b=0);for(var h=Array(b),c=0;c<b;c++)h[c]=arguments[c+0];b=h.$length();("number"===typeof b?0<b:b["$>"](0))&&this.$print(this.$format.apply(this,a.to_a(h)));return t});a.defn(b,"$proc",m=function(){var a=m.$$p||t;m.$$p=null;!1!==a&&a!==t||this.$raise(d.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a});a.defn(b,"$puts",function(){var b;null==k.stdout&&(k.stdout=t);var h=arguments.length-0;0>h&&(h=0);for(var c=Array(h),f=0;f<h;f++)c[f]=arguments[f+
0];return(b=k.stdout).$puts.apply(b,a.to_a(c))});a.defn(b,"$p",function(){var a,b,c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),e=0;e<c;e++)f[e]=arguments[e+0];(a=f.$each,a.$$p=(b=function(a){null==k.stdout&&(k.stdout=t);null==a&&(a=t);return k.stdout.$puts(a.$inspect())},b.$$s=this,b),a).call(f);return p(f.$length(),1)?f["$[]"](0):f});a.defn(b,"$print",function(){var b;null==k.stdout&&(k.stdout=t);var h=arguments.length-0;0>h&&(h=0);for(var c=Array(h),f=0;f<h;f++)c[f]=arguments[f+0];return(b=
k.stdout).$print.apply(b,a.to_a(c))});a.defn(b,"$warn",function(){var b,h;null==k.VERBOSE&&(k.VERBOSE=t);null==k.stderr&&(k.stderr=t);var c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),e=0;e<c;e++)f[e]=arguments[e+0];return(b=!1!==(h=k.VERBOSE["$nil?"]())&&h!==t?h:f["$empty?"]())===t||b.$$is_boolean&&1!=b?(b=k.stderr).$puts.apply(b,a.to_a(f)):t});a.defn(b,"$raise",function(b,h,c){null==k["!"]&&(k["!"]=t);null==h&&(h=t);if(null==b&&k["!"]!==t)throw k["!"];null==b?b=d.get("RuntimeError").$new():
b.$$is_string?b=d.get("RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(h):b["$kind_of?"](d.get("Exception"))||(b=d.get("TypeError").$new("exception class/object expected"));k["!"]!==t&&a.exceptions.push(k["!"]);k["!"]=b;throw b;});a.alias(b,"fail","raise");a.defn(b,"$rand",function(a){if(void 0===a)return Math.random();if(a.$$is_range){var b=a.begin,c=a.end-b;a.exclude||c++;return this.$rand(c)+b}return Math.floor(Math.random()*Math.abs(d.get("Opal").$coerce_to(a,
d.get("Integer"),"to_int")))});a.defn(b,"$respond_to?",function(a,b){var c;null==b&&(b=!1);if((c=this["$respond_to_missing?"](a,b))!==t&&(!c.$$is_boolean||1==c))return!0;c=this["$"+a];return"function"!==typeof c||c.$$stub?!1:!0});a.defn(b,"$respond_to_missing?",function(a,b){return!1});a.defn(b,"$require",function(b){b=d.get("Opal")["$coerce_to!"](b,d.get("String"),"to_str");return a.require(b)});a.defn(b,"$require_relative",function(b){d.get("Opal")["$try_convert!"](b,d.get("String"),"to_str");b=
d.get("File").$expand_path(d.get("File").$join(a.current_file,"..",b));return a.require(b)});a.defn(b,"$require_tree",function(b){b=d.get("File").$expand_path(b);b["$=="](".")&&(b="");for(var h in a.modules)h["$start_with?"](b)&&a.require(h);return t});a.alias(b,"send","__send__");a.alias(b,"public_send","__send__");a.defn(b,"$singleton_class",function(){return a.get_singleton_class(this)});a.defn(b,"$sleep",function(a){null==a&&(a=t);a===t&&this.$raise(d.get("TypeError"),"can't convert NilClass into time interval");
a.$$is_number||this.$raise(d.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(d.get("ArgumentError"),"time interval must be positive");for(var b=new Date;new Date-b<=1E3*a;);return a});a.alias(b,"sprintf","format");a.alias(b,"srand","rand");a.defn(b,"$String",function(a){var b;return!1!==(b=d.get("Opal")["$coerce_to?"](a,d.get("String"),"to_str"))&&b!==t?b:d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_s")});a.defn(b,"$tap",u=function(){var b=u.$$p||t;u.$$p=
null;return a.yield1(b,this)===l?l.$v:this});a.defn(b,"$to_proc",function(){return this});a.defn(b,"$to_s",function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"});a.defn(b,"$catch",y=function(b){var h,c=y.$$p||t,f=t;y.$$p=null;try{return h=a.yieldX(c,[]),h}catch(e){if(a.rescue(e,[d.get("UncaughtThrowError")])){f=e;try{return f.$sym()["$=="](b)?f.$arg():this.$raise()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw e;}});a.defn(b,"$throw",function(){var a=arguments.length-
0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$raise(d.get("UncaughtThrowError").$new(b))})})(a.base);return function(a,$super){function e(){}var g=e=d(a,$super,"Object",e);return g.$include(g.$$scope.get("Kernel"))}(a.base,null)};
Opal.modules["corelib/error"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.klass,l=a.module;a.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));(function(g,$super){function e(){}var d=e=t(g,$super,"Exception",e);d.$$proto.message=p;a.defs(d,"$new",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),d=0;d<a;d++)e[d]=arguments[d+0];a=new this.$$alloc(0<e.length?e[0]:p);Error.captureStackTrace&&Error.captureStackTrace(a);a.name=
this.$$name;a.$initialize.apply(a,e);return a});a.defs(d,"$exception",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),d=0;d<b;d++)e[d]=arguments[d+0];return this.$new.apply(this,a.to_a(e))});a.defn(d,"$initialize",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),d=0;d<a;d++)e[d]=arguments[d+0];return this.message=0<e.length?e[0]:p});a.defn(d,"$backtrace",function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]});a.defn(d,
"$exception",function(a){null==a&&(a=p);if(a===p||this===a)return this;var e=this.$clone();e.message=a;return e});a.defn(d,"$message",function(){return this.$to_s()});a.defn(d,"$inspect",function(){var a,e=p,e=this.$to_s();return(a=e["$empty?"]())===p||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()});return(a.defn(d,"$to_s",function(){var a,e;return!1!==(a=(e=this.message,!1!==e&&e!==p?this.message.$to_s():e))&&a!==p?a:this.$class().$to_s()}),p)&&"to_s"})(a.base,
Error);(function(a,$super){function e(){}e=t(a,$super,"ScriptError",e);return p})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=t(a,$super,"SyntaxError",e);return p})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=t(a,$super,"LoadError",e);return p})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=t(a,$super,"NotImplementedError",e);return p})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=t(a,$super,"SystemExit",e);return p})(a.base,
a.get("Exception"));(function(a,$super){function e(){}e=t(a,$super,"NoMemoryError",e);return p})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=t(a,$super,"SignalException",e);return p})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=t(a,$super,"Interrupt",e);return p})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=t(a,$super,"SecurityError",e);return p})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=t(a,$super,"StandardError",e);return p})(a.base,
a.get("Exception"));(function(a,$super){function e(){}e=t(a,$super,"ZeroDivisionError",e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"NameError",e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"NoMethodError",e);return p})(a.base,a.get("NameError"));(function(a,$super){function e(){}e=t(a,$super,"RuntimeError",e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"LocalJumpError",
e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"TypeError",e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"ArgumentError",e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"IndexError",e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"StopIteration",e);return p})(a.base,a.get("IndexError"));(function(a,$super){function e(){}
e=t(a,$super,"KeyError",e);return p})(a.base,a.get("IndexError"));(function(a,$super){function e(){}e=t(a,$super,"RangeError",e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"FloatDomainError",e);return p})(a.base,a.get("RangeError"));(function(a,$super){function e(){}e=t(a,$super,"IOError",e);return p})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=t(a,$super,"SystemCallError",e);return p})(a.base,a.get("StandardError"));(function(g){g=
l(g,"Errno").$$scope;(function(g,$super){function d(){}var b=d=t(g,$super,"EINVAL",d),l;return(a.defs(b,"$new",l=function(){l.$$p=null;return a.find_super_dispatcher(this,"new",l,null,d).apply(this,["Invalid argument"])}),p)&&"new"})(g.base,g.get("SystemCallError"))})(a.base);(function(g,$super){function e(){}var d=e=t(g,$super,"UncaughtThrowError",e),b;d.$$proto.sym=p;d.$attr_reader("sym","arg");return(a.defn(d,"$initialize",b=function(e){b.$$p=null;this.sym=e["$[]"](0);var d=e.$length();if("number"===
typeof d?1<d:d["$>"](1))this.arg=e["$[]"](1);return a.find_super_dispatcher(this,"initialize",b,null).apply(this,["uncaught throw "+this.sym.$inspect()])}),p)&&"initialize"})(a.base,a.get("ArgumentError"));(function(g,$super){function e(){}var d=e=t(g,$super,"NameError",e),b;d.$attr_reader("name");return(a.defn(d,"$initialize",b=function(e,d){null==d&&(d=p);b.$$p=null;a.find_super_dispatcher(this,"initialize",b,null).apply(this,[e]);return this.name=d}),p)&&"initialize"})(a.base,null);return function(g,
$super){function e(){}var d=e=t(g,$super,"NoMethodError",e),b;d.$attr_reader("args");return(a.defn(d,"$initialize",b=function(e,d,g){null==g&&(g=[]);b.$$p=null;a.find_super_dispatcher(this,"initialize",b,null).apply(this,[e,d]);return this.args=g}),p)&&"initialize"}(a.base,null)};
Opal.modules["corelib/constants"]=function(a){a.dynamic_require_severity="warning";a.cdecl(a,"RUBY_PLATFORM","opal");a.cdecl(a,"RUBY_ENGINE","opal");a.cdecl(a,"RUBY_VERSION","2.1.5");a.cdecl(a,"RUBY_ENGINE_VERSION","0.9.0.beta2");a.cdecl(a,"RUBY_RELEASE_DATE","2015-11-06");a.cdecl(a,"RUBY_PATCHLEVEL",0);a.cdecl(a,"RUBY_REVISION",0);a.cdecl(a,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return a.cdecl(a,"RUBY_DESCRIPTION","opal "+a.get("RUBY_ENGINE_VERSION")+" ("+a.get("RUBY_RELEASE_DATE")+
" revision "+a.get("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){a.dynamic_require_severity="warning";var p=a.top;a.add_stubs(["$require"]);p.$require("corelib/runtime");p.$require("corelib/helpers");p.$require("corelib/module");p.$require("corelib/class");p.$require("corelib/basic_object");p.$require("corelib/kernel");p.$require("corelib/error");return p.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.klass;a.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(l,$super){function k(){}var e=k=t(l,$super,"NilClass",k),d=e.$$scope;e.$$proto.$$meta=e;a.defn(e,"$!",function(){return!0});a.defn(e,"$&",function(a){return!1});a.defn(e,"$|",function(a){return!1!==a&&a!==p});a.defn(e,"$^",function(a){return!1!==a&&a!==p});a.defn(e,"$==",function(a){return a===p});a.defn(e,"$dup",function(){return this.$raise(d.get("TypeError"),
"can't dup "+this.$class())});a.defn(e,"$clone",function(){return this.$raise(d.get("TypeError"),"can't clone "+this.$class())});a.defn(e,"$inspect",function(){return"nil"});a.defn(e,"$nil?",function(){return!0});a.defn(e,"$singleton_class",function(){return d.get("NilClass")});a.defn(e,"$to_a",function(){return[]});a.defn(e,"$to_h",function(){return a.hash()});a.defn(e,"$to_i",function(){return 0});a.alias(e,"to_f","to_i");a.defn(e,"$to_s",function(){return""});a.defn(e,"$to_c",function(){return d.get("Complex").$new(0,
0)});a.defn(e,"$rationalize",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),k=0;k<a;k++)e[k]=arguments[k+0];a=e.$length();("number"===typeof a?1<a:a["$>"](1))&&this.$raise(d.get("ArgumentError"));return this.$Rational(0,1)});return(a.defn(e,"$to_r",function(){return this.$Rational(0,1)}),p)&&"to_r"})(a.base,null);return a.cdecl(a,"NIL",p)};
Opal.modules["corelib/boolean"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.klass;a.add_stubs(["$raise","$class"]);(function(l,$super){function k(){}var e=k=t(l,$super,"Boolean",k),d=e.$$proto,b=e.$$scope;d.$$is_boolean=!0;d.$$meta=e;a.defn(e,"$__id__",function(){return this.valueOf()?2:0});a.alias(e,"object_id","__id__");a.defn(e,"$!",function(){return 1!=this});a.defn(e,"$&",function(a){return 1==this?!1!==a&&a!==p:!1});a.defn(e,"$|",function(a){return 1==this?!0:!1!==a&&a!==
p});a.defn(e,"$^",function(a){return 1==this?!1===a||a===p:!1!==a&&a!==p});a.defn(e,"$==",function(a){return 1==this===a.valueOf()});a.alias(e,"equal?","==");a.alias(e,"eql?","==");a.defn(e,"$singleton_class",function(){return b.get("Boolean")});a.defn(e,"$to_s",function(){return 1==this?"true":"false"});a.defn(e,"$dup",function(){return this.$raise(b.get("TypeError"),"can't dup "+this.$class())});return(a.defn(e,"$clone",function(){return this.$raise(b.get("TypeError"),"can't clone "+this.$class())}),
p)&&"clone"})(a.base,Boolean);a.cdecl(a,"TrueClass",a.get("Boolean"));a.cdecl(a,"FalseClass",a.get("Boolean"));a.cdecl(a,"TRUE",!0);return a.cdecl(a,"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function p(a,e){return"number"===typeof a&&"number"===typeof e?a>e:a["$>"](e)}function t(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="warning";var l=a.nil,g=a.module;a.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(k){k=g(k,"Comparable");var e=k.$$scope;a.defs(k,"$normalize",function(a){var b;return(b=e.get("Integer")["$==="](a))===l||b.$$is_boolean&&1!=b?p(a,
0)?1:t(a,0)?-1:0:a});a.defn(k,"$==",function(d){var b,g=l;try{return(b=this["$equal?"](d))===l||b.$$is_boolean&&1!=b?this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):(b=g=this["$<=>"](d))===l||b.$$is_boolean&&1!=b?!1:0==e.get("Comparable").$normalize(g):!0}catch(k){if(a.rescue(k,[e.get("StandardError")]))try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw k;}});a.defn(k,"$>",function(a){var b,g=l;((b=g=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&
this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<e.get("Comparable").$normalize(g)});a.defn(k,"$>=",function(a){var b,g=l;((b=g=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=e.get("Comparable").$normalize(g)});a.defn(k,"$<",function(a){var b,g=l;((b=g=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(e.get("ArgumentError"),"comparison of "+
this.$class()+" with "+a.$class()+" failed");return 0>e.get("Comparable").$normalize(g)});a.defn(k,"$<=",function(a){var b,g=l;((b=g=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=e.get("Comparable").$normalize(g)});a.defn(k,"$between?",function(a,b){return t(this,a)||p(this,b)?!1:!0})}(a.base)};
Opal.modules["corelib/regexp"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.slice,l=a.klass,g=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super){function d(){}d=l(a,$super,"RegexpError",d);return p})(a.base,a.get("StandardError"));(function(k,$super){function d(){}var b=d=l(k,$super,"Regexp",d),z=b.$$proto,x=b.$$scope,w;a.cdecl(x,
"IGNORECASE",1);a.cdecl(x,"MULTILINE",4);z.$$is_regexp=!0;(function(b){var d=b.$$scope,k;a.defn(b,"$allocate",k=function(){var b=t.call(arguments,0),m=k.$$p,d=p;k.$$p=null;d=a.find_super_dispatcher(this,"allocate",k,m).apply(this,b);d.uninitialized=!0;return d});a.defn(b,"$escape",function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")});a.defn(b,"$last_match",function(a){var b;null==g["~"]&&(g["~"]=
p);null==a&&(a=p);return(b=a["$nil?"]())===p||b.$$is_boolean&&1!=b?g["~"]["$[]"](a):g["~"]});a.alias(b,"quote","escape");a.defn(b,"$union",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),u=0;u<a;u++)b[u]=arguments[u+0];var y,q;if(0==b.length)return/(?!)/;a=b[0].$$is_array;1<b.length&&a&&this.$raise(d.get("TypeError"),"no implicit conversion of Array into String");a&&(b=b[0]);y=void 0;for(var a=[],h=0;h<b.length;h++)u=b[h],u.$$is_string?a.push(this.$escape(u)):u.$$is_regexp?(q=u.$options(),
void 0!=y&&y!=q&&this.$raise(d.get("TypeError"),"All expressions must use the same options"),y=q,a.push("("+u.source+")")):a.push(this.$escape(u.$to_str()));return this.$new(a.$join("|"),y)});return(a.defn(b,"$new",function(a,b){if(a.$$is_regexp)return new RegExp(a);a=d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&this.$raise(d.get("RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var u="";d.get("IGNORECASE")&
b&&(u+="i");d.get("MULTILINE")&b&&(u+="m");b=u}else b="i";return new RegExp(a,b)}),p)&&"new"})(a.get_singleton_class(b));a.defn(b,"$==",function(a){return a.constructor==RegExp&&this.toString()===a.toString()});a.defn(b,"$===",function(a){return this.$match(x.get("Opal")["$coerce_to?"](a,x.get("String"),"to_str"))!==p});a.defn(b,"$=~",function(a){var b;null==g["~"]&&(g["~"]=p);return b=this.$match(a),!1!==b&&b!==p?g["~"].$begin(0):b});a.alias(b,"eql?","==");a.defn(b,"$inspect",function(){return this.toString()});
a.defn(b,"$match",w=function(a,b){var d=w.$$p||p;null==g["~"]&&(g["~"]=p);w.$$p=null;this.uninitialized&&this.$raise(x.get("TypeError"),"uninitialized Regexp");b=void 0===b?0:x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int");if(a===p)return g["~"]=p;a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str");if(0>b&&(b+=a.length,0>b))return g["~"]=p;var f=this.source,m="g";this.multiline&&(f=f.replace(".","[\\s\\S]"),m+="m");for(m=new RegExp(f,m+(this.ignoreCase?"i":""));;){f=m.exec(a);if(null===f)return g["~"]=
p;if(f.index>=b)return g["~"]=x.get("MatchData").$new(m,f),d===p?g["~"]:d.$call(g["~"]);m.lastIndex=f.index+1}});a.defn(b,"$~",function(){null==g._&&(g._=p);return this["$=~"](g._)});a.defn(b,"$source",function(){return this.source});a.defn(b,"$options",function(){this.uninitialized&&this.$raise(x.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=x.get("MULTILINE"));this.ignoreCase&&(a|=x.get("IGNORECASE"));return a});a.defn(b,"$casefold?",function(){return this.ignoreCase});return a.alias(b,
"to_s","source")})(a.base,RegExp);return function(k,$super){function d(){}var b=d=l(k,$super,"MatchData",d),t=b.$$scope;b.$$proto.matches=p;b.$attr_reader("post_match","pre_match","regexp","string");a.defn(b,"$initialize",function(a,b){g["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var d=0,n=b.length;d<n;d++){var k=b[d];null==k?this.matches.push(p):this.matches.push(k)}});
a.defn(b,"$[]",function(){var b,d=arguments.length-0;0>d&&(d=0);for(var g=Array(d),n=0;n<d;n++)g[n]=arguments[n+0];return(b=this.matches)["$[]"].apply(b,a.to_a(g))});a.defn(b,"$offset",function(a){0!==a&&this.$raise(t.get("ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]});a.defn(b,"$==",function(a){var b,d,g,k;return(b=t.get("MatchData")["$==="](a))===p||b.$$is_boolean&&1!=b?!1:(b=(d=(g=(k=this.string==a.string,!1!==k&&k!==p?this.regexp.toString()==
a.regexp.toString():k),!1!==g&&g!==p?this.pre_match==a.pre_match:g),!1!==d&&d!==p?this.post_match==a.post_match:d),!1!==b&&b!==p?this.begin==a.begin:b)});a.alias(b,"eql?","==");a.defn(b,"$begin",function(a){0!==a&&this.$raise(t.get("ArgumentError"),"MatchData#begin only supports 0th element");return this.begin});a.defn(b,"$end",function(a){0!==a&&this.$raise(t.get("ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length});a.defn(b,"$captures",function(){return this.matches.slice(1)});
a.defn(b,"$inspect",function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,d=this.matches.length;b<d;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"});a.defn(b,"$length",function(){return this.matches.length});a.alias(b,"size","length");a.defn(b,"$to_a",function(){return this.matches});a.defn(b,"$to_s",function(){return this.matches[0]});return(a.defn(b,"$values_at",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),d=0;d<a;d++)b[d]=arguments[d+0];for(var g,d=[],
a=0;a<b.length;a++){b[a].$$is_range&&(g=b[a].$to_a(),g.unshift(a,1),Array.prototype.splice.apply(b,g));g=t.get("Opal")["$coerce_to!"](b[a],t.get("Integer"),"to_int");if(0>g&&(g+=this.matches.length,0>g)){d.push(p);continue}d.push(this.matches[g])}return d}),p)&&"values_at"}(a.base,null)};
Opal.modules["corelib/string"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var l=a.top,g=a.nil,k=a.breaker,e=a.slice,d=a.klass,b=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $class $each_line $match $captures $proc $shift $__send__ $succ $escape".split(" "));
l.$require("corelib/comparable");l.$require("corelib/regexp");(function(l,$super){function w(){}function r(a){function c(a){var b="",h,A=a.length,e,m;for(h=0;h<A;h++)if(e=a.charAt(h),"-"===e&&0<h&&h<A-1&&!m){m=a.charCodeAt(h-1);e=a.charCodeAt(h+1);m>e&&n.$raise(f.get("ArgumentError"),'invalid range "'+m+"-"+e+'" in string transliteration');for(m+=1;m<e+1;m++)b+=String.fromCharCode(m);m=!0;h++}else m="\\"===e,b+=e;return b}function b(a,c){if(0===a.length)return c;var h="",f,A=a.length,e;for(f=0;f<
A;f++)e=a.charAt(f),-1!==c.indexOf(e)&&(h+=e);return h}var h,e,m,d,q="",u="";h=0;for(e=a.length;h<e;h++)m=f.get("Opal").$coerce_to(a[h],f.get("String"),"to_str"),d="^"===m.charAt(0)&&1<m.length,m=c(d?m.slice(1):m),d?u=b(u,m):q=b(q,m);if(0<q.length&&0<u.length){m="";h=0;for(e=q.length;h<e;h++)a=q.charAt(h),-1===u.indexOf(a)&&(m+=a);q=m;u=""}return 0<q.length?"["+f.get("Regexp").$escape(q)+"]":0<u.length?"[^"+f.get("Regexp").$escape(u)+"]":null}var n=w=d(l,$super,"String",w),v=n.$$proto,f=n.$$scope,
m,u,y,q,h,c,O,B,J;v.length=g;n.$include(f.get("Comparable"));v.$$is_string=!0;a.defn(n,"$__id__",function(){return this.toString()});a.alias(n,"object_id","__id__");a.defs(n,"$try_convert",function(a){return f.get("Opal")["$coerce_to?"](a,f.get("String"),"to_str")});a.defs(n,"$new",function(a){null==a&&(a="");a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");return new String(a)});a.defn(n,"$initialize",function(a){return void 0===a?this:this.$raise(f.get("NotImplementedError"),"Mutable strings are not supported in Opal.")});
a.defn(n,"$%",function(c){var b;return(b=f.get("Array")["$==="](c))===g||b.$$is_boolean&&1!=b?this.$format(this,c):(b=this).$format.apply(b,[this].concat(a.to_a(c)))});a.defn(n,"$*",function(a){a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");0>a&&this.$raise(f.get("ArgumentError"),"negative argument");if(0===a)return"";var c="",b=this.toString();for(268435456<=b.length*a&&this.$raise(f.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(c+=b);a>>>=1;if(0===
a)break;b+=b}return c});a.defn(n,"$+",function(a){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");return this+a.$to_s()});a.defn(n,"$<=>",function(a){var c;if((c=a["$respond_to?"]("to_str"))===g||c.$$is_boolean&&1!=c)return a=a["$<=>"](this),a===g?g:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0});a.defn(n,"$==",function(a){return a.$$is_string?this.toString()===a.toString():f.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1});a.alias(n,"eql?","==");a.alias(n,"===",
"==");a.defn(n,"$=~",function(a){a.$$is_string&&this.$raise(f.get("TypeError"),"type mismatch: String given");return a["$=~"](this)});a.defn(n,"$[]",function(a,c){var h=this.length,e;if(a.$$is_range){e=a.exclude;c=f.get("Opal").$coerce_to(a.end,f.get("Integer"),"to_int");a=f.get("Opal").$coerce_to(a.begin,f.get("Integer"),"to_int");if(Math.abs(a)>h)return g;0>a&&(a+=h);0>c&&(c+=h);e||(c+=1);c-=a;0>c&&(c=0);return this.substr(a,c)}if(a.$$is_string)return null!=c&&this.$raise(f.get("TypeError")),-1!==
this.indexOf(a)?a:g;if(a.$$is_regexp){h=this.match(a);if(null===h)return b["~"]=g;b["~"]=f.get("MatchData").$new(a,h);if(null==c)return h[0];c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int");return 0>c&&-c<h.length?h[c+h.length]:0<=c&&c<h.length?h[c]:g}a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");0>a&&(a+=h);if(null==c)return a>=h||0>a?g:this.substr(a,1);c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int");return 0>c||a>h||0>a?g:this.substr(a,c)});a.alias(n,"byteslice","[]");a.defn(n,
"$capitalize",function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()});a.defn(n,"$casecmp",function(a){var c=this;a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();var b=/^[\x00-\x7F]*$/;b.test(c)&&b.test(a)&&(c=c.toLowerCase(),a=a.toLowerCase());return c["$<=>"](a)});a.defn(n,"$center",function(a,c){var b;null==c&&(c=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str").$to_s();(b=c["$empty?"]())===g||
b.$$is_boolean&&1!=b||this.$raise(f.get("ArgumentError"),"zero width padding");if((b=a<=this.length)!==g&&(!b.$$is_boolean||1==b))return this;b=this.$ljust(p(t(a,this.length),2).$ceil(),c);return this.$rjust(p(t(a,this.length),2).$floor(),c)+b.slice(this.length)});a.defn(n,"$chars",m=function(){var a,c=m.$$p||g;m.$$p=null;return!1===c||c===g?this.$each_char().$to_a():(a=this.$each_char,a.$$p=c.$to_proc(),a).call(this)});a.defn(n,"$chomp",function(a){var c;null==b["/"]&&(b["/"]=g);null==a&&(a=b["/"]);
if((c=a===g||0===this.length)!==g&&(!c.$$is_boolean||1==c))return this;a=f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this});a.defn(n,"$chop",function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)});a.defn(n,"$chr",function(){return this.charAt(0)});
a.defn(n,"$clone",function(){var a=g,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(n,"$dup",function(){var a=g,a=this.slice();a.$initialize_dup(this);return a});a.defn(n,"$count",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];0===c.length&&this.$raise(f.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=r(c);return null===a?0:this.length-this.replace(new RegExp(a,"g"),"").length});
a.defn(n,"$delete",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];0===c.length&&this.$raise(f.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=r(c);return null===a?this:this.replace(new RegExp(a,"g"),"")});a.defn(n,"$downcase",function(){return this.toLowerCase()});a.defn(n,"$each_char",u=function(){var c,b,h=u.$$p||g;u.$$p=null;if(h===g)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,
b),c).call(this,"each_char");c=0;for(var f=this.length;c<f;c++)if(a.yield1(h,this.charAt(c))===k)return k.$v;return this});a.defn(n,"$each_line",y=function(c){var h=y.$$p||g;null==b["/"]&&(b["/"]=g);null==c&&(c=b["/"]);y.$$p=null;if(h===g)return this.$enum_for("each_line",c);var e;if(c===g)return e=a.yield1(h,this),e===k?e.$v:this;c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str");var m,d,q,u;if(0===c.length){c=this.split(/(\n{2,})/);m=0;for(d=c.length;m<d;m+=2)if(c[m]||c[m+1])if(e=a.yield1(h,
(c[m]||"")+(c[m+1]||"")),e===k)return e.$v;return this}e=this.$chomp(c);d=this.length!=e.length;u=e.split(c);m=0;for(q=u.length;m<q;m++)if(e=m<q-1||d?a.yield1(h,u[m]+c):a.yield1(h,u[m]),e===k)return e.$v;return this});a.defn(n,"$empty?",function(){return 0===this.length});a.defn(n,"$end_with?",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];a=0;for(b=c.length;a<b;a++){var h=f.get("Opal").$coerce_to(c[a],f.get("String"),"to_str").$to_s();if(this.length>=
h.length&&this.substr(this.length-h.length,h.length)==h)return!0}return!1});a.alias(n,"eql?","==");a.alias(n,"equal?","===");a.defn(n,"$gsub",q=function(a,c){var h=this,e=q.$$p||g;q.$$p=null;if(void 0===c&&e===g)return h.$enum_for("gsub",a);var m="",d=g,u=0,y,B;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){y=a.exec(h);if(null===y){b["~"]=g;m+=h.slice(u);break}d=
f.get("MatchData").$new(a,y);void 0===c?B=e(y[0]):c.$$is_hash?B=c["$[]"](y[0]).$to_s():(c.$$is_string||(c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str")),B=c.replace(/([\\]+)([0-9+&`'])/g,function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=y.length-1;0<a;a--)if(void 0!==y[a])return c.slice(1)+y[a];return"";case "&":return c.slice(1)+y[0];case "`":return c.slice(1)+h.slice(0,y.index);case "'":return c.slice(1)+h.slice(y.index+y[0].length);default:return c.slice(1)+(y[b]||"")}}).replace(/\\\\/g,
"\\"));a.lastIndex===y.index?(m+=B+h.slice(u,y.index+1),a.lastIndex+=1):m+=h.slice(u,y.index)+B;u=a.lastIndex}b["~"]=d;return m});a.defn(n,"$hash",function(){return this.toString()});a.defn(n,"$hex",function(){return this.$to_i(16)});a.defn(n,"$include?",function(a){var c;if(a.$$is_string)return-1!==this.indexOf(a);((c=a["$respond_to?"]("to_str"))===g||c.$$is_boolean&&1!=c)&&this.$raise(f.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");return-1!==this.indexOf(a.$to_str())});
a.defn(n,"$index",function(a,c){var h,e;if(void 0===c)c=0;else if(c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return g;if(a.$$is_regexp)for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){h=e.exec(this);if(null===h){b["~"]=g;h=-1;break}if(h.index>=c){b["~"]=f.get("MatchData").$new(e,h);h=h.index;break}e.lastIndex=h.index+1}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),h=0===a.length&&c>this.length?-1:this.indexOf(a,c);return-1===h?g:h});a.defn(n,
"$inspect",function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(c){return a[c]||"\\u"+("0000"+c.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'});a.defn(n,"$intern",function(){return this});a.defn(n,"$lines",h=function(a){var c,
f=h.$$p||g,e=g;null==b["/"]&&(b["/"]=g);null==a&&(a=b["/"]);h.$$p=null;e=(c=this.$each_line,c.$$p=f.$to_proc(),c).call(this,a);return!1!==f&&f!==g?this:e.$to_a()});a.defn(n,"$length",function(){return this.length});a.defn(n,"$ljust",function(a,c){var b;null==c&&(c=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str").$to_s();(b=c["$empty?"]())===g||b.$$is_boolean&&1!=b||this.$raise(f.get("ArgumentError"),"zero width padding");if((b=a<=
this.length)!==g&&(!b.$$is_boolean||1==b))return this;b=-1;var h="";for(a-=this.length;++b<a;)h+=c;return this+h.slice(0,a)});a.defn(n,"$lstrip",function(){return this.replace(/^\s*/,"")});a.defn(n,"$match",c=function(a,b){var h,e,m=c.$$p||g;c.$$p=null;(h=!1!==(e=f.get("String")["$==="](a))&&e!==g?e:a["$respond_to?"]("to_str"))===g||h.$$is_boolean&&1!=h||(a=f.get("Regexp").$new(a.$to_str()));((h=f.get("Regexp")["$==="](a))===g||h.$$is_boolean&&1!=h)&&this.$raise(f.get("TypeError"),"wrong argument type "+
a.$class()+" (expected Regexp)");return(h=(e=a).$match,h.$$p=m.$to_proc(),h).call(e,this,b)});a.defn(n,"$next",function(){var a=this.length;if(0===a)return"";for(var c=this,b=this.search(/[a-zA-Z0-9]/),h=!1,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:h=!0;f=48;break;case 90:h=!0;f=65;break;case 122:h=!0;f=97;break;default:h=!1,f+=1}else-1===b?255===f?(h=!0,f=0):(h=!1,f+=1):h=!0;c=c.slice(0,a)+String.fromCharCode(f)+c.slice(a+1);if(h&&(0===a||a===b)){switch(f){case 65:break;
case 97:break;default:f+=1}c=0===a?String.fromCharCode(f)+c:c.slice(0,a)+String.fromCharCode(f)+c.slice(a);h=!1}if(!h)break}return c});a.defn(n,"$oct",function(){var a;a=this;var c=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,h,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===h)return a}switch(h){case "0b":c=2;break;case "0":case "0o":c=8;break;case "0d":c=10;break;case "0x":c=16}return b+f});a=parseInt(a.replace(/_(?!_)/g,
""),c);return isNaN(a)?0:a});a.defn(n,"$ord",function(){return this.charCodeAt(0)});a.defn(n,"$partition",function(a){var c;a.$$is_regexp?(c=a.exec(this),null===c?c=-1:(f.get("MatchData").$new(a,c),a=c[0],c=c.index)):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),c=this.indexOf(a));return-1===c?[this,"",""]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]});a.defn(n,"$reverse",function(){return this.split("").reverse().join("")});a.defn(n,"$rindex",function(a,c){var h,e,
m;if(void 0===c)c=this.length;else if(c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return g;if(a.$$is_regexp){h=null;for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){m=e.exec(this);if(null===m||m.index>c)break;h=m;e.lastIndex=h.index+1}null===h?(b["~"]=g,h=-1):(f.get("MatchData").$new(e,h),h=h.index)}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),h=this.lastIndexOf(a,c);return-1===h?g:h});a.defn(n,"$rjust",function(a,c){var b;null==c&&(c=" ");
a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str").$to_s();(b=c["$empty?"]())===g||b.$$is_boolean&&1!=b||this.$raise(f.get("ArgumentError"),"zero width padding");if((b=a<=this.length)!==g&&(!b.$$is_boolean||1==b))return this;b=Math.floor(a-this.length);var h=Array(Math.floor(b/c.length)+1).join(c);return h+c.slice(0,b-h.length)+this});a.defn(n,"$rpartition",function(a){var c,b,h;if(a.$$is_regexp){c=null;for(b=new RegExp(a.source,"gm"+(a.ignoreCase?
"i":""));;){h=b.exec(this);if(null===h)break;c=h;b.lastIndex=c.index+1}null===c?c=-1:(f.get("MatchData").$new(b,c),a=c[0],c=c.index)}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),c=this.lastIndexOf(a);return-1===c?["","",this]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]});a.defn(n,"$rstrip",function(){return this.replace(/[\s\u0000]*$/,"")});a.defn(n,"$scan",O=function(a){var c=O.$$p||g;O.$$p=null;var h=[],e=g,m;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?
"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(m=a.exec(this));)e=f.get("MatchData").$new(a,m),c===g?1==m.length?h.push(m[0]):h.push(e.$captures()):1==m.length?c(m[0]):c.call(this,e.$captures()),a.lastIndex===m.index&&(a.lastIndex+=1);b["~"]=e;return c!==g?this:h});a.alias(n,"size","length");a.alias(n,"slice","[]");a.defn(n,"$split",function(a,c){var h;null==b[";"]&&(b[";"]=g);if(0===this.length)return[];if(void 0===
c)c=0;else if(c=f.get("Opal")["$coerce_to!"](c,f.get("Integer"),"to_int"),1===c)return[this];if(void 0===a||a===g)a=!1!==(h=b[";"])&&h!==g?h:" ";h=[];var e=this.toString(),m=0,d,u;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,e=e.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));h=e.split(a);if(1===h.length&&h[0]===e)return h;for(;-1!==(u=h.indexOf(void 0));)h.splice(u,
1);if(0===c){for(;""===h[h.length-1];)--h.length;return h}d=a.exec(e);if(0>c){if(null!==d&&""===d[0]&&-1===a.source.indexOf("(?="))for(u=0;u<d.length;u++)h.push("");return h}if(null!==d&&""===d[0])return h.splice(c-1,h.length-1,h.slice(c-1).join("")),h;for(u=0;null!==d;){u++;m=a.lastIndex;if(u+1===c)break;d=a.exec(e)}h.splice(c-1,h.length-1,e.slice(m));return h});a.defn(n,"$squeeze",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];if(0===c.length)return this.replace(/(.)\1+/g,
"$1");a=r(c);return null===a?this:this.replace(new RegExp("("+a+")\\1+","g"),"$1")});a.defn(n,"$start_with?",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];a=0;for(b=c.length;a<b;a++){var h=f.get("Opal").$coerce_to(c[a],f.get("String"),"to_str").$to_s();if(0===this.indexOf(h))return!0}return!1});a.defn(n,"$strip",function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")});a.defn(n,"$sub",B=function(a,c){var h=this,e=B.$$p||g;B.$$p=null;
a.$$is_regexp||(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var m=a.exec(h);if(null===m)return b["~"]=g,h.toString();f.get("MatchData").$new(a,m);if(void 0===c)return e===g&&h.$raise(f.get("ArgumentError"),"wrong number of arguments (1 for 2)"),h.slice(0,m.index)+e(m[0])+h.slice(m.index+m[0].length);if(c.$$is_hash)return h.slice(0,m.index)+c["$[]"](m[0]).$to_s()+h.slice(m.index+m[0].length);c=f.get("Opal").$coerce_to(c,f.get("String"),
"to_str");c=c.replace(/([\\]+)([0-9+&`'])/g,function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=m.length-1;0<a;a--)if(void 0!==m[a])return c.slice(1)+m[a];return"";case "&":return c.slice(1)+m[0];case "`":return c.slice(1)+h.slice(0,m.index);case "'":return c.slice(1)+h.slice(m.index+m[0].length);default:return c.slice(1)+(m[b]||"")}}).replace(/\\\\/g,"\\");return h.slice(0,m.index)+c+h.slice(m.index+m[0].length)});a.alias(n,"succ","next");a.defn(n,"$sum",function(a){null==a&&(a=16);
a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");for(var c=0,b=this.length,h=0;h<b;h++)c+=this.charCodeAt(h);return 0>=a?c:c&Math.pow(2,a)-1});a.defn(n,"$swapcase",function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,c,b){return c?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)});a.defn(n,"$to_f",function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a});a.defn(n,"$to_i",
function(a){null==a&&(a=10);var c=this.toLowerCase(),b=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");(1===b||0>b||36<b)&&this.$raise(f.get("ArgumentError"),"invalid radix "+b);if(/^\s*_/.test(c))return 0;c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,c,h,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===h&&(0===b||16===b))return a}switch(h){case "0b":if(0===b||2===b)return b=2,c+f;break;case "0":case "0o":if(0===b||8===b)return b=8,c+f;break;case "0d":if(0===
b||10===b)return b=10,c+f;break;case "0x":if(0===b||16===b)return b=16,c+f}return a});a=parseInt(c.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a});a.defn(n,"$to_proc",function(){var c,b,h=g,h=this;return(c=this.$proc,c.$$p=(b=function(c){var m=b.$$s||this,d,u,q,y=g;c=e.call(arguments,0);d=b.$$p||g;b.$$p=null;(u=c["$empty?"]())===g||u.$$is_boolean&&1!=u||m.$raise(f.get("ArgumentError"),"no receiver given");y=c.$shift();return(u=(q=y).$__send__,u.$$p=d.$to_proc(),u).apply(q,[h].concat(a.to_a(c)))},b.$$s=
this,b),c).call(this)});a.defn(n,"$to_s",function(){return this.toString()});a.alias(n,"to_str","to_s");a.alias(n,"to_sym","intern");a.defn(n,"$tr",function(a,c){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str").$to_s();if(0==a.length||a===c)return this;var b,h,e,m,d,u={};d=a.split("");var q=d.length,y=c.split(""),g=y.length,B=!1,k=null;"^"===d[0]&&1<d.length&&(B=!0,d.shift(),k=y[g-1],--q);var n=[];e=null;h=!1;for(b=0;b<q;b++)if(m=
d[b],null==e)e=m,n.push(m);else if("-"===m)"-"===e?(n.push("-"),n.push("-")):b==q-1?n.push("-"):h=!0;else if(h){e=e.charCodeAt(0);h=m.charCodeAt(0);e>h&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(h)+'" in string transliteration');for(e+=1;e<h;e++)n.push(String.fromCharCode(e));n.push(m);e=h=null}else n.push(m);d=n;q=d.length;if(B)for(b=0;b<q;b++)u[d[b]]=!0;else{if(0<g){n=[];h=!1;for(b=0;b<g;b++)if(m=y[b],null==e)e=m,n.push(m);else if("-"===
m)b==g-1?n.push("-"):h=!0;else if(h){e=e.charCodeAt(0);h=m.charCodeAt(0);e>h&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(h)+'" in string transliteration');for(e+=1;e<h;e++)n.push(String.fromCharCode(e));n.push(m);e=h=null}else n.push(m);y=n;g=y.length}m=q-g;if(0<m)for(g=0<g?y[g-1]:"",b=0;b<m;b++)y.push(g);for(b=0;b<q;b++)u[d[b]]=y[b]}q="";b=0;for(d=this.length;b<d;b++)m=this.charAt(b),y=u[m],q=B?q+(null==y?k:m):q+(null!=y?y:m);return q});a.defn(n,
"$tr_s",function(a,c){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str").$to_s();if(0==a.length)return this;var b,h,e,m,d,u={};d=a.split("");var q=d.length,y=c.split(""),g=y.length,B=!1,n=null;"^"===d[0]&&1<d.length&&(B=!0,d.shift(),n=y[g-1],--q);var k=[];e=null;h=!1;for(b=0;b<q;b++)if(m=d[b],null==e)e=m,k.push(m);else if("-"===m)"-"===e?(k.push("-"),k.push("-")):b==q-1?k.push("-"):h=!0;else if(h){e=e.charCodeAt(0);h=m.charCodeAt(0);
e>h&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(h)+'" in string transliteration');for(e+=1;e<h;e++)k.push(String.fromCharCode(e));k.push(m);e=h=null}else k.push(m);d=k;q=d.length;if(B)for(b=0;b<q;b++)u[d[b]]=!0;else{if(0<g){k=[];h=!1;for(b=0;b<g;b++)if(m=y[b],null==e)e=m,k.push(m);else if("-"===m)b==g-1?k.push("-"):h=!0;else if(h){e=e.charCodeAt(0);h=m.charCodeAt(0);e>h&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+
"-"+String.fromCharCode(h)+'" in string transliteration');for(e+=1;e<h;e++)k.push(String.fromCharCode(e));k.push(m);e=h=null}else k.push(m);y=k;g=y.length}m=q-g;if(0<m)for(g=0<g?y[g-1]:"",b=0;b<m;b++)y.push(g);for(b=0;b<q;b++)u[d[b]]=y[b]}q="";y=null;b=0;for(d=this.length;b<d;b++)if(m=this.charAt(b),g=u[m],B)null==g?null==y&&(q+=n,y=!0):(q+=m,y=null);else if(null!=g){if(null==y||y!==g)q+=g,y=g}else q+=m,y=null;return q});a.defn(n,"$upcase",function(){return this.toUpperCase()});a.defn(n,"$upto",J=
function(a,c){var b=J.$$p||g;null==c&&(c=!1);J.$$p=null;if(b===g)return this.$enum_for("upto",a,c);a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");var h,e;h=this.toString();if(1===h.length&&1===a.length)for(h=h.charCodeAt(0),e=a.charCodeAt(0);h<=e&&(!c||h!==e);)b(String.fromCharCode(h)),h+=1;else if(parseInt(h,10).toString()===h&&parseInt(a,10).toString()===a)for(h=parseInt(h,10),e=parseInt(a,10);h<=e&&(!c||h!==e);)b(h.toString()),h+=1;else for(;h.length<=a.length&&h<=a&&(!c||h!==a);)b(h),
h=h.$succ();return this})})(a.base,String);return a.cdecl(a,"Symbol",a.get("String"))};
Opal.modules["corelib/enumerable"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.breaker,l=a.slice,g=a.module;a.add_stubs("$raise $new $yield $dup $enum_for $enumerator_size $flatten $map $== $destructure $respond_to? $coerce_to! $> $* $nil? $coerce_to $try_convert $< $+ $- $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $compare $<=> $proc $call $to_a $lambda $sort! $map! $first $zip".split(" "));return function(k){k=g(k,"Enumerable");var e=k.$$scope,d,b,z,x,w,r,n,v,f,m,u,
y,q,h,c,O,B,J,G,E,A,H,Z,C,P,fa,I,K,S,Q,M,V,N,L,U;a.defn(k,"$all?",d=function(){var c,b=d.$$p||p;d.$$p=null;var h=!0;this.$each.$$p=b!==p?function(){var f=a.yieldX(b,arguments);if(f===t)return h=t.$v,t;if((c=f)===p||c.$$is_boolean&&0==c)return h=!1,t}:function(a){if(1==arguments.length&&((c=a)===p||c.$$is_boolean&&0==c))return h=!1,t};this.$each();return h});a.defn(k,"$any?",b=function(){var c,h=b.$$p||p;b.$$p=null;var f=!1;this.$each.$$p=h!==p?function(){var b=a.yieldX(h,arguments);if(b===t)return f=
t.$v,t;if((c=b)!==p&&(!c.$$is_boolean||1==c))return f=!0,t}:function(a){if(1!=arguments.length||(c=a)!==p&&(!c.$$is_boolean||1==c))return f=!0,t};this.$each();return f});a.defn(k,"$chunk",z=function(c){var b,h,f,m=z.$$p||p;z.$$p=null;!1!==m&&m!==p||e.get("Kernel").$raise(e.get("ArgumentError"),"no block given");return(b=(h=a.get("Enumerator")).$new,b.$$p=(f=function(b){function h(){0<g.length&&b.$yield(H,g)}var d=f.$$s||this,q,u,A;null==b&&(b=p);var y,H=p,g=[];y=void 0==c||c===p?m:(q=(u=e.get("Proc")).$new,
q.$$p=(A=function(a){null==a&&(a=p);return m.$yield(a,c.$dup())},A.$$s=d,A),q).call(u);d.$each.$$p=function(c){var b=a.yield1(y,c);if(b===t)return t;b===p?(h(),g=[],H=p):(H===p||H===b?g.push(c):(h(),g=[c]),H=b)};d.$each();h()},f.$$s=this,f),b).call(h)});a.defn(k,"$collect",x=function(){var c,b,h=x.$$p||p;x.$$p=null;if(h===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"collect");var f=[];this.$each.$$p=function(){var c=a.yieldX(h,arguments);
if(c===t)return f=t.$v,t;f.push(c)};this.$each();return f});a.defn(k,"$collect_concat",w=function(){var c,b,h,f=w.$$p||p;w.$$p=null;return f===p?(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"collect_concat"):(c=this.$map,c.$$p=(h=function(c){var b;null==c&&(c=p);return b=a.yield1(f,c),b},h.$$s=this,h),c).call(this).$flatten(1)});a.defn(k,"$count",r=function(c){var b,h=r.$$p||p;r.$$p=null;var f=0;null!=c?h=function(){return e.get("Opal").$destructure(arguments)["$=="](c)}:
h===p&&(h=function(){return!0});this.$each.$$p=function(){var c=a.yieldX(h,arguments);if(c===t)return f=t.$v,t;(b=c)===p||b.$$is_boolean&&1!=b||f++};this.$each();return f});a.defn(k,"$cycle",n=function(c){var b,h,f=n.$$p||p;null==c&&(c=p);n.$$p=null;if(f===p)return(b=this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this,b;if(c["$=="](p))return(b=a["$respond_to?"]("size"))===p||b.$$is_boolean&&1!=b?p:e.get("Float").$$scope.get("INFINITY");c=e.get("Opal")["$coerce_to!"](c,e.get("Integer"),"to_int");
return("number"===typeof c?0<c:c["$>"](0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)):0},h.$$s=this,h),b).call(this,"cycle",c);if((b=c["$nil?"]())===p||b.$$is_boolean&&1!=b)if(c=e.get("Opal")["$coerce_to!"](c,e.get("Integer"),"to_int"),(b=0>=c)!==p&&(!b.$$is_boolean||1==b))return p;var m,d=[],q,u;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments);if(a.yield1(f,c)===t)return m=t.$v,t;d.push(c)};this.$each();if(void 0!==m)return m;if(0===d.length)return p;
if(c===p)for(;;)for(b=0,q=d.length;b<q;b++){if(u=a.yield1(f,d[b]),u===t)return t.$v}else for(;1<c;){b=0;for(q=d.length;b<q;b++)if(u=a.yield1(f,d[b]),u===t)return t.$v;c--}});a.defn(k,"$detect",v=function(c){var b,h=v.$$p||p;v.$$p=null;if(h===p)return this.$enum_for("detect",c);var f;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments),m=a.yield1(h,c);if(m===t)return f=t.$v,t;if((b=m)!==p&&(!b.$$is_boolean||1==b))return f=c,t};this.$each();void 0===f&&void 0!==c&&(f="function"===typeof c?
c():c);return void 0===f?p:f});a.defn(k,"$drop",function(a){var c;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(c=0>a)===p||c.$$is_boolean&&1!=c||this.$raise(e.get("ArgumentError"),"attempt to drop negative size");var b=[],h=0;this.$each.$$p=function(){a<=h&&b.push(e.get("Opal").$destructure(arguments));h++};this.$each();return b});a.defn(k,"$drop_while",f=function(){var c,b=f.$$p||p;f.$$p=null;if(b===p)return this.$enum_for("drop_while");var h=[],m=!0;this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments);
if(m){var d=a.yield1(b,f);if(d===t)return h=t.$v,t;if((c=d)===p||c.$$is_boolean&&0==c)m=!1,h.push(f)}else h.push(f)};this.$each();return h});a.defn(k,"$each_cons",m=function(c){var b,h,f=m.$$p||p;m.$$p=null;(b=1!=arguments.length)===p||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");c=e.get("Opal").$try_convert(c,e.get("Integer"),"to_int");(b=0>=c)===p||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"invalid size");if(f===
p)return(b=this.$enum_for,b.$$p=(h=function(){var a,b,f=p,f=(h.$$s||this).$enumerator_size();return(a=f["$nil?"]())===p||a.$$is_boolean&&1!=a?(a=!1!==(b=f["$=="](0))&&b!==p?b:"number"===typeof f&&"number"===typeof c?f<c:f["$<"](c))===p||a.$$is_boolean&&1!=a?(a="number"===typeof f&&"number"===typeof c?f-c:f["$-"](c),"number"===typeof a?a+1:a["$+"](1)):0:p},h.$$s=this,h),b).call(this,"each_cons",c);var d=[],q=p;this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments);d.push(b);d.length>
c&&d.shift();if(d.length==c&&a.yield1(f,d.slice(0,c))==t)return q=t.$v,t};this.$each();return q});a.defn(k,"$each_entry",u=function(){u.$$p=null;return this.$raise(e.get("NotImplementedError"))});a.defn(k,"$each_slice",y=function(c){var b,h,f=y.$$p||p;y.$$p=null;c=e.get("Opal").$coerce_to(c,e.get("Integer"),"to_int");(b=0>=c)===p||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"invalid slice size");if(f===p)return(b=this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this,b;if((b=a["$respond_to?"]("size"))===
p||b.$$is_boolean&&1!=b)return p;a=a.$size();return("number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)).$ceil()},h.$$s=this,h),b).call(this,"each_slice",c);var m,d=[];this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments);d.push(b);if(d.length===c){if(a.yield1(f,d)===t)return m=t.$v,t;d=[]}};this.$each();return void 0!==m?m:0<d.length&&a.yield1(f,d)===t?t.$v:p});a.defn(k,"$each_with_index",q=function(){var c,b,h=q.$$p||p,f=arguments.length-0;0>f&&(f=0);for(var m=Array(f),d=0;d<
f;d++)m[d]=arguments[d+0];q.$$p=null;if(h===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).apply(this,["each_with_index"].concat(a.to_a(m)));var u,A=0;this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(h(a,A)===t)return u=t.$v,t;A++};this.$each.apply(this,m);return void 0!==u?u:this});a.defn(k,"$each_with_object",h=function(a){var c,b,f=h.$$p||p;h.$$p=null;if(f===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||
this).$enumerator_size()},b.$$s=this,b),c).call(this,"each_with_object",a);var m;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments);if(f(c,a)===t)return m=t.$v,t};this.$each();return void 0!==m?m:a});a.defn(k,"$entries",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];var h=[];this.$each.$$p=function(){h.push(e.get("Opal").$destructure(arguments))};this.$each.apply(this,c);return h});a.alias(k,"find","detect");a.defn(k,"$find_all",
c=function(){var b,h,f=c.$$p||p;c.$$p=null;if(f===p)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$enumerator_size()},h.$$s=this,h),b).call(this,"find_all");var m=[];this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments),h=a.yield1(f,c);if(h===t)return m=t.$v,t;(b=h)===p||b.$$is_boolean&&1!=b||m.push(c)};this.$each();return m});a.defn(k,"$find_index",O=function(c){var b,h=O.$$p||p;O.$$p=null;if((b=void 0===c&&h===p)!==p&&(!b.$$is_boolean||1==b))return this.$enum_for("find_index");
var f=p,m=0;null!=c?this.$each.$$p=function(){if(e.get("Opal").$destructure(arguments)["$=="](c))return f=m,t;m+=1}:h!==p&&(this.$each.$$p=function(){var c=a.yieldX(h,arguments);if(c===t)return f=t.$v,t;if((b=c)!==p&&(!b.$$is_boolean||1==b))return f=m,t;m+=1});this.$each();return f});a.defn(k,"$first",function(a){var c,b=p;if((c=void 0===a)===p||c.$$is_boolean&&1!=c){b=[];a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(c=0>a)===p||c.$$is_boolean&&1!=c||this.$raise(e.get("ArgumentError"),
"attempt to take negative size");if((c=0==a)!==p&&(!c.$$is_boolean||1==c))return[];var h=0;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");this.$each.$$p=function(){b.push(e.get("Opal").$destructure(arguments));if(a<=++h)return t}}else b=p,this.$each.$$p=function(){b=e.get("Opal").$destructure(arguments);return t};this.$each();return b});a.alias(k,"flat_map","collect_concat");a.defn(k,"$grep",B=function(c){var b,h=B.$$p||p;B.$$p=null;var f=[];this.$each.$$p=h!==p?function(){var m=e.get("Opal").$destructure(arguments),
d=c["$==="](m);if((b=d)!==p&&(!b.$$is_boolean||1==b)){d=a.yield1(h,m);if(d===t)return f=t.$v,t;f.push(d)}}:function(){var a=e.get("Opal").$destructure(arguments);(b=c["$==="](a))===p||b.$$is_boolean&&1!=b||f.push(a)};this.$each();return f});a.defn(k,"$group_by",J=function(){var c,b,h,f,m=J.$$p||p,d=p;J.$$p=null;if(m===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"group_by");var d=e.get("Hash").$new(),q;this.$each.$$p=function(){var b=
e.get("Opal").$destructure(arguments),u=a.yield1(m,b);if(u===t)return q=t.$v,t;(c=u,h=d,!1!==(f=h["$[]"](c))&&f!==p?f:h["$[]="](c,[]))["$<<"](b)};this.$each();return void 0!==q?q:d});a.defn(k,"$include?",function(a){var c=!1;this.$each.$$p=function(){if(e.get("Opal").$destructure(arguments)["$=="](a))return c=!0,t};this.$each();return c});a.defn(k,"$inject",G=function(c,b){var h=G.$$p||p;G.$$p=null;var f=c;h!==p&&void 0===b?this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments);if(void 0!==
f&&(c=a.yieldX(h,[f,c]),c===t))return f=t.$v,t;f=c}:(void 0===b&&(e.get("Symbol")["$==="](c)||this.$raise(e.get("TypeError"),""+c.$inspect()+" is not a Symbol"),b=c,f=void 0),this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);f=void 0===f?a:f.$__send__(b,a)});this.$each();return void 0==f?p:f});a.defn(k,"$lazy",function(){var c,b,h;return(c=(b=e.get("Enumerator").$$scope.get("Lazy")).$new,c.$$p=(h=function(c,b){var h;null==c&&(c=p);b=l.call(arguments,1);return(h=c).$yield.apply(h,
a.to_a(b))},h.$$s=this,h),c).call(b,this,this.$enumerator_size())});a.defn(k,"$enumerator_size",function(){var a;return(a=this["$respond_to?"]("size"))===p||a.$$is_boolean&&1!=a?p:this.$size()});a.alias(k,"map","collect");a.defn(k,"$max",E=function(){var a=this,c=E.$$p||p;E.$$p=null;var b;a.$each.$$p=c!==p?function(){var h=e.get("Opal").$destructure(arguments);if(void 0===b)b=h;else{var f=c(h,b);if(f===t)return b=t.$v,t;f===p&&a.$raise(e.get("ArgumentError"),"comparison failed");0<f&&(b=h)}}:function(){var a=
e.get("Opal").$destructure(arguments);void 0===b?b=a:0<e.get("Opal").$compare(a,b)&&(b=a)};a.$each();return void 0===b?p:b});a.defn(k,"$max_by",A=function(){var c,b,h=A.$$p||p;A.$$p=null;if(!1===h||h===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"max_by");var f,m;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments),b=a.yield1(h,c);if(void 0===f)f=c,m=b;else{if(b===t)return f=t.$v,t;0<b["$<=>"](m)&&(f=c,m=b)}};this.$each();
return void 0===f?p:f});a.alias(k,"member?","include?");a.defn(k,"$min",H=function(){var a=this,c=H.$$p||p;H.$$p=null;var b;a.$each.$$p=c!==p?function(){var h=e.get("Opal").$destructure(arguments);if(void 0===b)b=h;else{var f=c(h,b);if(f===t)return b=t.$v,t;f===p&&a.$raise(e.get("ArgumentError"),"comparison failed");0>f&&(b=h)}}:function(){var a=e.get("Opal").$destructure(arguments);void 0===b?b=a:0>e.get("Opal").$compare(a,b)&&(b=a)};a.$each();return void 0===b?p:b});a.defn(k,"$min_by",Z=function(){var c,
b,h=Z.$$p||p;Z.$$p=null;if(!1===h||h===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"min_by");var f,m;this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments),b=a.yield1(h,c);if(void 0===f)f=c,m=b;else{if(b===t)return f=t.$v,t;0>b["$<=>"](m)&&(f=c,m=b)}};this.$each();return void 0===f?p:f});a.defn(k,"$minmax",C=function(){var a,c,b,h=this,f=C.$$p||p;C.$$p=null;!1!==(a=f)&&a!==p?a:f=(c=h.$proc,c.$$p=(b=function(a,c){null==
a&&(a=p);null==c&&(c=p);return a["$<=>"](c)},b.$$s=h,b),c).call(h);var m=p,d=p,q=!0;h.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(q)m=d=a,q=!1;else{var c=f.$call(m,a);c===p?h.$raise(e.get("ArgumentError"),"comparison failed"):0<c&&(m=a);c=f.$call(d,a);c===p?h.$raise(e.get("ArgumentError"),"comparison failed"):0>c&&(d=a)}};h.$each();return[m,d]});a.defn(k,"$minmax_by",P=function(){P.$$p=null;return this.$raise(e.get("NotImplementedError"))});a.defn(k,"$none?",fa=function(){var c,
b=fa.$$p||p;fa.$$p=null;var h=!0;this.$each.$$p=b!==p?function(){var f=a.yieldX(b,arguments);if(f===t)return h=t.$v,t;if((c=f)!==p&&(!c.$$is_boolean||1==c))return h=!1,t}:function(){if((c=e.get("Opal").$destructure(arguments))!==p&&(!c.$$is_boolean||1==c))return h=!1,t};this.$each();return h});a.defn(k,"$one?",I=function(){var c,b=I.$$p||p;I.$$p=null;var h=!1;this.$each.$$p=b!==p?function(){var f=a.yieldX(b,arguments);if(f===t)return h=t.$v,t;if((c=f)!==p&&(!c.$$is_boolean||1==c)){if(!0===h)return h=
!1,t;h=!0}}:function(){if((c=e.get("Opal").$destructure(arguments))!==p&&(!c.$$is_boolean||1==c)){if(!0===h)return h=!1,t;h=!0}};this.$each();return h});a.defn(k,"$partition",K=function(){var c,b,h=K.$$p||p;K.$$p=null;if(h===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"partition");var f=[],m=[];this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments),d=a.yield1(h,b);if(d===t)return t;(c=d)===p||c.$$is_boolean&&1!=c?
m.push(b):f.push(b)};this.$each();return[f,m]});a.alias(k,"reduce","inject");a.defn(k,"$reject",S=function(){var c,b,h=S.$$p||p;S.$$p=null;if(h===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"reject");var f=[];this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments),m=a.yield1(h,b);if(m===t)return f=t.$v,t;((c=m)===p||c.$$is_boolean&&0==c)&&f.push(b)};this.$each();return f});a.defn(k,"$reverse_each",Q=function(){var c,
b,h=Q.$$p||p;Q.$$p=null;if(h===p)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),c).call(this,"reverse_each");var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(c=f.length-1;0<=c;c--)a.yieldX(h,f[c]);return f});a.alias(k,"select","find_all");a.defn(k,"$slice_before",M=function(c){var b,h,f,m=M.$$p||p;M.$$p=null;(b=void 0===c&&m===p||1<arguments.length)===p||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+
arguments.length+" for 1)");return(b=(h=e.get("Enumerator")).$new,b.$$p=(f=function(b){var h=f.$$s||this,d;null==b&&(b=p);var q=[];h.$each.$$p=m!==p?void 0===c?function(){var c=e.get("Opal").$destructure(arguments);(d=a.yield1(m,c))!==p&&(!d.$$is_boolean||1==d)&&0<q.length&&(b["$<<"](q),q=[]);q.push(c)}:function(){var a=e.get("Opal").$destructure(arguments);(d=m(a,c.$dup()))!==p&&(!d.$$is_boolean||1==d)&&0<q.length&&(b["$<<"](q),q=[]);q.push(a)}:function(){var a=e.get("Opal").$destructure(arguments);
(d=c["$==="](a))!==p&&(!d.$$is_boolean||1==d)&&0<q.length&&(b["$<<"](q),q=[]);q.push(a)};h.$each();if(0<q.length)b["$<<"](q)},f.$$s=this,f),b).call(h)});a.defn(k,"$sort",V=function(){var a,c,b=V.$$p||p,h=p;V.$$p=null;h=this.$to_a();b===p&&(b=(a=this.$lambda,a.$$p=(c=function(a,c){null==a&&(a=p);null==c&&(c=p);return a["$<=>"](c)},c.$$s=this,c),a).call(this));return h.sort(b)});a.defn(k,"$sort_by",N=function(){var a,c,b,h,f,m,d,q=N.$$p||p,u=p;N.$$p=null;if(q===p)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||
this).$enumerator_size()},c.$$s=this,c),a).call(this,"sort_by");u=(a=this.$map,a.$$p=(b=function(){var a=p,a=e.get("Opal").$destructure(arguments);return[q.$call(a),a]},b.$$s=this,b),a).call(this);(a=(h=u)["$sort!"],a.$$p=(f=function(a,c){null==a&&(a=p);null==c&&(c=p);return a[0]["$<=>"](c[0])},f.$$s=this,f),a).call(h);return(a=(m=u)["$map!"],a.$$p=(d=function(a){null==a&&(a=p);return a[1]},d.$$s=this,d),a).call(m)});a.defn(k,"$take",function(a){return this.$first(a)});a.defn(k,"$take_while",L=function(){var c,
b=L.$$p||p;L.$$p=null;if(!1===b||b===p)return this.$enum_for("take_while");var h=[];this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments),m=a.yield1(b,f);if(m===t)return h=t.$v,t;if((c=m)===p||c.$$is_boolean&&0==c)return t;h.push(f)};this.$each();return h});a.alias(k,"to_a","entries");a.defn(k,"$zip",U=function(){var c,b=arguments.length-0;0>b&&(b=0);for(var h=Array(b),f=0;f<b;f++)h[f]=arguments[f+0];U.$$p=null;return(c=this.$to_a()).$zip.apply(c,a.to_a(h))})}(a.base)};
Opal.modules["corelib/enumerator"]=function(a){function p(a,e){return"number"===typeof a&&"number"===typeof e?a+e:a["$+"](e)}function t(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="warning";var l=a.top,g=a.nil,k=a.breaker,e=a.slice,d=a.klass;a.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
l.$require("corelib/enumerable");return function(b,$super){function l(){}var w=l=d(b,$super,"Enumerator",l),r=w.$$proto,n=w.$$scope,v,f,m,u;r.size=r.args=r.object=r.method=g;w.$include(n.get("Enumerable"));a.defs(w,"$for",v=function(a,b){var h=v.$$p||g,c=arguments.length-2;0>c&&(c=0);for(var f=Array(c),e=0;e<c;e++)f[e]=arguments[e+2];null==b&&(b="each");v.$$p=null;c=this.$allocate();c.object=a;c.size=h;c.method=b;c.args=f;return c});a.defn(w,"$initialize",f=function(){var a,b,h=f.$$p||g;f.$$p=null;
if(!1!==h&&h!==g)return this.object=(a=(b=n.get("Generator")).$new,a.$$p=h.$to_proc(),a).call(b),this.method="each",this.args=[],this.size=arguments[0]||g,(a=this.size)===g||a.$$is_boolean&&1!=a?g:this.size=n.get("Opal").$coerce_to(this.size,n.get("Integer"),"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=e.call(arguments,2);return this.size=g});a.defn(w,"$each",m=function(){var b,f,h,c=m.$$p||g,e=arguments.length-0;0>e&&(e=0);for(var d=Array(e),u=0;u<e;u++)d[u]=arguments[u+
0];m.$$p=null;if((b=(f=c["$nil?"](),!1!==f&&f!==g?d["$empty?"]():f))!==g&&(!b.$$is_boolean||1==b))return this;d=p(this.args,d);return(b=c["$nil?"]())===g||b.$$is_boolean&&1!=b?(f=(h=this.object).$__send__,f.$$p=c.$to_proc(),f).apply(h,[this.method].concat(a.to_a(d))):(b=this.$class()).$new.apply(b,[this.object,this.method].concat(a.to_a(d)))});a.defn(w,"$size",function(){var b;return(b=n.get("Proc")["$==="](this.size))===g||b.$$is_boolean&&1!=b?this.size:(b=this.size).$call.apply(b,a.to_a(this.args))});
a.defn(w,"$with_index",u=function(a){var b,h,c=u.$$p||g;null==a&&(a=0);u.$$p=null;a=!1!==a&&a!==g?n.get("Opal").$coerce_to(a,n.get("Integer"),"to_int"):0;if(!1===c||c===g)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$size()},h.$$s=this,h),b).call(this,"with_index",a);var f,e=a;this.$each.$$p=function(){var a=n.get("Opal").$destructure(arguments),a=c(a,e);if(a===k)return f=k.$v,k;e++;return a};this.$each();return void 0!==f?f:this.object});a.alias(w,"with_object","each_with_object");
a.defn(w,"$inspect",function(){var a,b=g,b="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((a=this.args["$empty?"]())===g||a.$$is_boolean&&1!=a)b=p(b,"("+this.args.$inspect()["$[]"](n.get("Range").$new(1,-2))+")");return p(b,">")});(function(b,$super){function h(){}var c=h=d(b,$super,"Generator",h),f=c.$$scope,e,m;c.$$proto.block=g;c.$include(f.get("Enumerable"));a.defn(c,"$initialize",e=function(){var a=e.$$p||g;e.$$p=null;!1!==a&&a!==g||this.$raise(f.get("LocalJumpError"),"no block given");
return this.block=a});return(a.defn(c,"$each",m=function(){var c,b,h=m.$$p||g,e=g,e=arguments.length-0;0>e&&(e=0);for(var d=Array(e),u=0;u<e;u++)d[u]=arguments[u+0];m.$$p=null;e=(c=(b=f.get("Yielder")).$new,c.$$p=h.$to_proc(),c).call(b);try{if(d.unshift(e),a.yieldX(this.block,d)===k)return k.$v}catch(y){if(y===k)return k.$v;throw y;}return this}),g)&&"each"})(n.base,null);(function(b,$super){function h(){}var c=h=d(b,$super,"Yielder",h),f;c.$$proto.block=g;a.defn(c,"$initialize",f=function(){var a=
f.$$p||g;f.$$p=null;return this.block=a});a.defn(c,"$yield",function(){var c=arguments.length-0;0>c&&(c=0);for(var b=Array(c),h=0;h<c;h++)b[h]=arguments[h+0];c=a.yieldX(this.block,b);if(c===k)throw k;return c});return(a.defn(c,"$<<",function(){var c=arguments.length-0;0>c&&(c=0);for(var b=Array(c),h=0;h<c;h++)b[h]=arguments[h+0];this.$yield.apply(this,a.to_a(b));return this}),g)&&"<<"})(n.base,null);return function(b,$super){function h(){}var c=h=d(b,$super,"Lazy",h),f=c.$$scope,m,u,n,E,A,H,Z,C,P;
c.$$proto.enumerator=g;(function(a,$super){function c(){}c=d(a,$super,"StopLazyError",c);return g})(f.base,f.get("Exception"));a.defn(c,"$initialize",m=function(c,b){var h,d=m.$$p||g;null==b&&(b=g);m.$$p=null;d===g&&this.$raise(f.get("ArgumentError"),"tried to call lazy new without a block");this.enumerator=c;return a.find_super_dispatcher(this,"initialize",m,(h=function(b,m){var u=h.$$s||this,A,y;null==b&&(b=g);m=e.call(arguments,1);try{return(A=c.$each,A.$$p=(y=function(c){c=e.call(arguments,0);
c.unshift(b);if(a.yieldX(d,c)===k)return k},y.$$s=u,y),A).apply(c,a.to_a(m))}catch(H){if(a.rescue(H,[f.get("Exception")]))try{return g}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw H;}},h.$$s=this,h)).apply(this,[b])});a.alias(c,"force","to_a");a.defn(c,"$lazy",function(){return this});a.defn(c,"$collect",u=function(){var c,b,h,m=u.$$p||g;u.$$p=null;!1!==m&&m!==g||this.$raise(f.get("ArgumentError"),"tried to call lazy map without a block");return(c=(b=f.get("Lazy")).$new,c.$$p=(h=function(c,
b){null==c&&(c=g);b=e.call(arguments,1);var h=a.yieldX(m,b);if(h===k)return k;c.$yield(h)},h.$$s=this,h),c).call(b,this,this.$enumerator_size())});a.defn(c,"$collect_concat",n=function(){var c,b,h,m=n.$$p||g;n.$$p=null;!1!==m&&m!==g||this.$raise(f.get("ArgumentError"),"tried to call lazy map without a block");return(c=(b=f.get("Lazy")).$new,c.$$p=(h=function(c,b){var d=h.$$s||this,u,A,y,H,E;null==c&&(c=g);b=e.call(arguments,1);var n=a.yieldX(m,b);if(n===k)return k;n["$respond_to?"]("force")&&n["$respond_to?"]("each")?
(u=(A=n).$each,u.$$p=(y=function(a){null==a&&(a=g);return c.$yield(a)},y.$$s=d,y),u).call(A):f.get("Opal").$try_convert(n,f.get("Array"),"to_ary")===g?c.$yield(n):(u=(H=n).$each,u.$$p=(E=function(a){null==a&&(a=g);return c.$yield(a)},E.$$s=d,E),u).call(H)},h.$$s=this,h),c).call(b,this,g)});a.defn(c,"$drop",function(c){var b,h,m,d=g,u=d=g;c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int");t(c,0)&&this.$raise(f.get("ArgumentError"),"attempt to drop negative size");d=this.$enumerator_size();d=(b=
f.get("Integer")["$==="](d))===g||b.$$is_boolean&&1!=b?d:t(c,d)?c:d;u=0;return(b=(h=f.get("Lazy")).$new,b.$$p=(m=function(b,h){var f;null==b&&(b=g);h=e.call(arguments,1);return t(u,c)?u=p(u,1):(f=b).$yield.apply(f,a.to_a(h))},m.$$s=this,m),b).call(h,this,d)});a.defn(c,"$drop_while",E=function(){var c,b,h,m=E.$$p||g,d=g;E.$$p=null;!1!==m&&m!==g||this.$raise(f.get("ArgumentError"),"tried to call lazy drop_while without a block");d=!0;return(c=(b=f.get("Lazy")).$new,c.$$p=(h=function(c,b){var h,f;null==
c&&(c=g);b=e.call(arguments,1);if(!1!==d&&d!==g){f=a.yieldX(m,b);if(f===k)return k;if((h=f)===g||h.$$is_boolean&&0==h)d=!1,(h=c).$yield.apply(h,a.to_a(b))}else return(f=c).$yield.apply(f,a.to_a(b))},h.$$s=this,h),c).call(b,this,g)});a.defn(c,"$enum_for",A=function(c){var b,h,f=A.$$p||g,e=arguments.length-1;0>e&&(e=0);for(var m=Array(e),d=0;d<e;d++)m[d]=arguments[d+1];null==c&&(c="each");A.$$p=null;return(b=(h=this.$class()).$for,b.$$p=f.$to_proc(),b).apply(h,[this,c].concat(a.to_a(m)))});a.defn(c,
"$find_all",H=function(){var c,b,h,m=H.$$p||g;H.$$p=null;!1!==m&&m!==g||this.$raise(f.get("ArgumentError"),"tried to call lazy select without a block");return(c=(b=f.get("Lazy")).$new,c.$$p=(h=function(c,b){var h;null==c&&(c=g);b=e.call(arguments,1);var f=a.yieldX(m,b);if(f===k)return k;(h=f)===g||h.$$is_boolean&&1!=h||(h=c).$yield.apply(h,a.to_a(b))},h.$$s=this,h),c).call(b,this,g)});a.alias(c,"flat_map","collect_concat");a.defn(c,"$grep",Z=function(c){var b,h,m,d,u,A=Z.$$p||g;Z.$$p=null;return!1!==
A&&A!==g?(b=(h=f.get("Lazy")).$new,b.$$p=(m=function(b,h){var m;null==b&&(b=g);h=e.call(arguments,1);var d=f.get("Opal").$destructure(h),u=c["$==="](d);if((m=u)!==g&&(!m.$$is_boolean||1==m)){u=a.yield1(A,d);if(u===k)return k;b.$yield(a.yield1(A,d))}},m.$$s=this,m),b).call(h,this,g):(b=(d=f.get("Lazy")).$new,b.$$p=(u=function(a,b){var h;null==a&&(a=g);b=e.call(arguments,1);var m=f.get("Opal").$destructure(b);(h=c["$==="](m))===g||h.$$is_boolean&&1!=h||a.$yield(m)},u.$$s=this,u),b).call(d,this,g)});
a.alias(c,"map","collect");a.alias(c,"select","find_all");a.defn(c,"$reject",C=function(){var c,b,h,m=C.$$p||g;C.$$p=null;!1!==m&&m!==g||this.$raise(f.get("ArgumentError"),"tried to call lazy reject without a block");return(c=(b=f.get("Lazy")).$new,c.$$p=(h=function(c,b){var h;null==c&&(c=g);b=e.call(arguments,1);var f=a.yieldX(m,b);if(f===k)return k;((h=f)===g||h.$$is_boolean&&0==h)&&(h=c).$yield.apply(h,a.to_a(b))},h.$$s=this,h),c).call(b,this,g)});a.defn(c,"$take",function(c){var b,h,m,d=g,u=d=
g;c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int");t(c,0)&&this.$raise(f.get("ArgumentError"),"attempt to take negative size");d=this.$enumerator_size();d=(b=f.get("Integer")["$==="](d))===g||b.$$is_boolean&&1!=b?d:t(c,d)?c:d;u=0;return(b=(h=f.get("Lazy")).$new,b.$$p=(m=function(b,h){var d=m.$$s||this,A;null==b&&(b=g);h=e.call(arguments,1);return t(u,c)?((A=b).$yield.apply(A,a.to_a(h)),u=p(u,1)):d.$raise(f.get("StopLazyError"))},m.$$s=this,m),b).call(h,this,d)});a.defn(c,"$take_while",P=function(){var c,
b,h,m=P.$$p||g;P.$$p=null;!1!==m&&m!==g||this.$raise(f.get("ArgumentError"),"tried to call lazy take_while without a block");return(c=(b=f.get("Lazy")).$new,c.$$p=(h=function(c,b){var d=h.$$s||this,u;null==c&&(c=g);b=e.call(arguments,1);var A=a.yieldX(m,b);if(A===k)return k;(u=A)===g||u.$$is_boolean&&1!=u?d.$raise(f.get("StopLazyError")):(u=c).$yield.apply(u,a.to_a(b))},h.$$s=this,h),c).call(b,this,g)});a.alias(c,"to_enum","enum_for");return(a.defn(c,"$inspect",function(){return"#<"+this.$class()+
": "+this.enumerator.$inspect()+">"}),g)&&"inspect"}(n.base,w)}(a.base,null)};
Opal.modules["corelib/numeric"]=function(a){function p(a,e){return"number"===typeof a&&"number"===typeof e?a-e:a["$-"](e)}function t(a,e){return"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)}function l(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}function g(a,e){return"number"===typeof a&&"number"===typeof e?a/e:a["$/"](e)}a.dynamic_require_severity="warning";var k=a.top,e=a.nil,d=a.klass;a.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));
k.$require("corelib/comparable");return function(b,$super){function k(){}var w=k=d(b,$super,"Numeric",k),r=w.$$scope;w.$include(r.get("Comparable"));a.defn(w,"$coerce",function(a){var b;return(b=a["$instance_of?"](this.$class()))===e||b.$$is_boolean&&1!=b?[this.$Float(a),this.$Float(this)]:[a,this]});a.defn(w,"$__coerced__",function(b,d){var f,m=e,u=e,y=e;try{f=a.to_ary(d.$coerce(this)),m=null==f[0]?e:f[0],u=null==f[1]?e:f[1]}catch(q){try{y=b,"+"["$==="](y)||"-"["$==="](y)||"*"["$==="](y)||"/"["$==="](y)||
"%"["$==="](y)||"&"["$==="](y)||"|"["$==="](y)||"^"["$==="](y)||"**"["$==="](y)?this.$raise(r.get("TypeError"),""+d.$class()+" can't be coerce into Numeric"):(">"["$==="](y)||">="["$==="](y)||"<"["$==="](y)||"<="["$==="](y)||"<=>"["$==="](y))&&this.$raise(r.get("ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return m.$__send__(b,u)});a.defn(w,"$<=>",function(a){var b;return(b=this["$equal?"](a))===e||b.$$is_boolean&&1!=
b?e:0});a.defn(w,"$[]",function(a){var b=e,f=e;a=r.get("Opal")["$coerce_to!"](a,r.get("Integer"),"to_int");b=2["$**"](30)["$-@"]();f=p(2["$**"](30),1);return a<b||a>f?0:(this>>a)%2});a.defn(w,"$+@",function(){return this});a.defn(w,"$-@",function(){return p(0,this)});a.defn(w,"$%",function(a){return p(this,t(a,this.$div(a)))});a.defn(w,"$abs",function(){return l(this,0)?this["$-@"]():this});a.defn(w,"$abs2",function(){return t(this,this)});a.defn(w,"$angle",function(){return l(this,0)?r.get("Math").$$scope.get("PI"):
0});a.alias(w,"arg","angle");a.defn(w,"$ceil",function(){return this.$to_f().$ceil()});a.defn(w,"$conj",function(){return this});a.alias(w,"conjugate","conj");a.defn(w,"$denominator",function(){return this.$to_r().$denominator()});a.defn(w,"$div",function(a){a["$=="](0)&&this.$raise(r.get("ZeroDivisionError"),"divided by o");return g(this,a).$floor()});a.defn(w,"$divmod",function(a){return[this.$div(a),this["$%"](a)]});a.defn(w,"$fdiv",function(a){return g(this.$to_f(),a)});a.defn(w,"$floor",function(){return this.$to_f().$floor()});
a.defn(w,"$i",function(){return this.$Complex(0,this)});a.defn(w,"$imag",function(){return 0});a.alias(w,"imaginary","imag");a.defn(w,"$integer?",function(){return!1});a.alias(w,"magnitude","abs");a.alias(w,"modulo","%");a.defn(w,"$nonzero?",function(){var a;return(a=this["$zero?"]())===e||a.$$is_boolean&&1!=a?this:e});a.defn(w,"$numerator",function(){return this.$to_r().$numerator()});a.alias(w,"phase","arg");a.defn(w,"$polar",function(){return[this.$abs(),this.$arg()]});a.defn(w,"$quo",function(a){return g(r.get("Opal")["$coerce_to!"](this,
r.get("Rational"),"to_r"),a)});a.defn(w,"$real",function(){return this});a.defn(w,"$real?",function(){return!0});a.defn(w,"$rect",function(){return[this,0]});a.alias(w,"rectangular","rect");a.defn(w,"$round",function(a){return this.$to_f().$round(a)});a.defn(w,"$to_c",function(){return this.$Complex(this,0)});a.defn(w,"$to_int",function(){return this.$to_i()});a.defn(w,"$truncate",function(){return this.$to_f().$truncate()});a.defn(w,"$zero?",function(){return this["$=="](0)});a.defn(w,"$positive?",
function(){return"number"===typeof this?0<this:this["$>"](0)});a.defn(w,"$negative?",function(){return l(this,0)});a.defn(w,"$dup",function(){return this.$raise(r.get("TypeError"),"can't dup "+this.$class())});return(a.defn(w,"$clone",function(){return this.$raise(r.get("TypeError"),"can't clone "+this.$class())}),e)&&"clone"}(a.base,null)};
Opal.modules["corelib/array"]=function(a){function p(a,e){return"number"===typeof a&&"number"===typeof e?a>e:a["$>"](e)}a.dynamic_require_severity="warning";var t=a.top,l=a.nil,g=a.breaker,k=a.klass,e=a.hash2,d=a.gvars;a.add_stubs("$require $include $raise $=== $to_a $respond_to? $to_ary $coerce_to $initialize $to_proc $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $copy_singleton_methods $initialize_clone $initialize_dup $replace $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $!= $times $[]= $<< $kind_of? $last $first $upto".split(" "));
t.$require("corelib/enumerable");t.$require("corelib/numeric");return function(b,$super){function t(){}function w(a,c){return a===c||0===c?1:0<c&&a>c?w(a-1,c-1)+w(a-1,c):0}var r=t=k(b,$super,"Array",t),n=r.$$proto,v=r.$$scope,f,m,u,y,q,h,c,O,B,J,G,E,A,H,Z,C,P,fa,I,K,S,Q,M,V,N,L,U,Y,ba;n.length=l;r.$include(v.get("Enumerable"));n.$$is_array=!0;a.defs(r,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];return c});a.defn(r,"$initialize",f=function(a,
c){var b,h=f.$$p||l;null==a&&(a=l);null==c&&(c=l);f.$$p=null;(b=2<arguments.length)===l||b.$$is_boolean&&1!=b||this.$raise(v.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if((b=1===arguments.length)!==l&&(!b.$$is_boolean||1==b)){if((b=v.get("Array")["$==="](a))!==l&&(!b.$$is_boolean||1==b))return a.$to_a();if((b=a["$respond_to?"]("to_ary"))!==l&&(!b.$$is_boolean||1==b))return a.$to_ary()}a=v.get("Opal").$coerce_to(a,
v.get("Integer"),"to_int");(b=0>a)===l||b.$$is_boolean&&1!=b||this.$raise(v.get("ArgumentError"),"negative array size");this.splice(0,this.length);var e;if(h===l)for(b=0;b<a;b++)this.push(c);else for(b=0,e;b<a;b++){e=h(b);if(e===g)return g.$v;this[b]=e}return this});a.defs(r,"$new",m=function(){var c,b,h=m.$$p||l,f=arguments.length-0;0>f&&(f=0);for(var e=Array(f),d=0;d<f;d++)e[d]=arguments[d+0];m.$$p=null;return(c=(b=[]).$initialize,c.$$p=h.$to_proc(),c).apply(b,a.to_a(e))});a.defs(r,"$try_convert",
function(a){return v.get("Opal")["$coerce_to?"](a,v.get("Array"),"to_ary")});a.defn(r,"$&",function(c){var b;c=(b=v.get("Array")["$==="](c))===l||b.$$is_boolean&&1!=b?v.get("Opal").$coerce_to(c,v.get("Array"),"to_ary").$to_a():c.$to_a();b=[];var h=e([],{}),f,m;f=0;for(m=c.length;f<m;f++)a.hash_put(h,c[f],!0);f=0;for(m=this.length;f<m;f++)c=this[f],void 0!==a.hash_delete(h,c)&&b.push(c);return b});a.defn(r,"$|",function(c){var b;c=(b=v.get("Array")["$==="](c))===l||b.$$is_boolean&&1!=b?v.get("Opal").$coerce_to(c,
v.get("Array"),"to_ary").$to_a():c.$to_a();b=e([],{});var h,f;h=0;for(f=this.length;h<f;h++)a.hash_put(b,this[h],!0);h=0;for(f=c.length;h<f;h++)a.hash_put(b,c[h],!0);return b.$keys()});a.defn(r,"$*",function(a){var c;if((c=a["$respond_to?"]("to_str"))!==l&&(!c.$$is_boolean||1==c))return this.$join(a.$to_str());((c=a["$respond_to?"]("to_int"))===l||c.$$is_boolean&&1!=c)&&this.$raise(v.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=v.get("Opal").$coerce_to(a,v.get("Integer"),
"to_int");(c=0>a)===l||c.$$is_boolean&&1!=c||this.$raise(v.get("ArgumentError"),"negative argument");c=[];for(var b=0;b<a;b++)c=c.concat(this);return c});a.defn(r,"$+",function(a){var c;a=(c=v.get("Array")["$==="](a))===l||c.$$is_boolean&&1!=c?v.get("Opal").$coerce_to(a,v.get("Array"),"to_ary").$to_a():a.$to_a();return this.concat(a)});a.defn(r,"$-",function(c){var b;c=(b=v.get("Array")["$==="](c))===l||b.$$is_boolean&&1!=b?v.get("Opal").$coerce_to(c,v.get("Array"),"to_ary").$to_a():c.$to_a();if((b=
0===this.length)!==l&&(!b.$$is_boolean||1==b))return[];if((b=0===c.length)!==l&&(!b.$$is_boolean||1==b))return this.$clone();b=[];var h=e([],{}),f,m;f=0;for(m=c.length;f<m;f++)a.hash_put(h,c[f],!0);f=0;for(m=this.length;f<m;f++)c=this[f],void 0===a.hash_get(h,c)&&b.push(c);return b});a.defn(r,"$<<",function(a){this.push(a);return this});a.defn(r,"$<=>",function(a){var c;if((c=v.get("Array")["$==="](a))===l||c.$$is_boolean&&1!=c){if((c=a["$respond_to?"]("to_ary"))===l||c.$$is_boolean&&1!=c)return l;
a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;c=Math.min(this.length,a.length);for(var b=0;b<c;b++){var h=this[b]["$<=>"](a[b]);if(0!==h)return h}return this.length["$<=>"](a.length)});a.defn(r,"$==",function(a){function c(a,h){var f,e,m,d;if(!h.$$is_array)return v.get("Opal")["$respond_to?"](h,"to_ary")?h["$=="](a):!1;h=h.$to_a();if(a.length!==h.length)return!1;b[a.$object_id()]=!0;f=0;for(e=a.length;f<e;f++)if(m=a[f],d=h[f],m.$$is_array){if(d.$$is_array&&d.length!==
m.length||!b.hasOwnProperty(m.$object_id())&&!c(m,d))return!1}else if(!m["$=="](d))return!1;return!0}var b={};return c(this,a)});a.defn(r,"$[]",function(a,c){var b=this.length,h,f,e;if(a.$$is_range){h=a.exclude;f=v.get("Opal").$coerce_to(a.begin,v.get("Integer"),"to_int");e=v.get("Opal").$coerce_to(a.end,v.get("Integer"),"to_int");if(0>f&&(f+=b,0>f)||f>b)return l;if(0>e&&(e+=b,0>e))return[];h||(e+=1);return this.slice(f,e)}a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");if(0>a&&(a+=b,0>a))return l;
if(void 0===c)return a>=b||0>a?l:this[a];c=v.get("Opal").$coerce_to(c,v.get("Integer"),"to_int");return 0>c||a>b||0>a?l:this.slice(a,a+c)});a.defn(r,"$[]=",function(a,c,b){var h,f=l,e=l,m;m=this.length;if((h=v.get("Range")["$==="](a))===l||h.$$is_boolean&&1!=h){(h=void 0===b)===l||h.$$is_boolean&&1!=h?(e=c,c=b,f=(h=v.get("Array")["$==="](c))===l||h.$$is_boolean&&1!=h?(h=c["$respond_to?"]("to_ary"))===l||h.$$is_boolean&&1!=h?[c]:c.$to_ary().$to_a():c.$to_a()):e=1;a=v.get("Opal").$coerce_to(a,v.get("Integer"),
"to_int");e=v.get("Opal").$coerce_to(e,v.get("Integer"),"to_int");0>a&&(h=a,a+=m,0>a&&this.$raise(v.get("IndexError"),"index "+h+" too small for array; minimum "+-this.length));0>e&&this.$raise(v.get("IndexError"),"negative length ("+e+")");if(a>m)for(;m<a;m++)this[m]=l;void 0===b?this[a]=c:this.splice.apply(this,[a,e].concat(f))}else{f=(h=v.get("Array")["$==="](c))===l||h.$$is_boolean&&1!=h?(h=c["$respond_to?"]("to_ary"))===l||h.$$is_boolean&&1!=h?[c]:c.$to_ary().$to_a():c.$to_a();h=a.exclude;b=
v.get("Opal").$coerce_to(a.begin,v.get("Integer"),"to_int");e=v.get("Opal").$coerce_to(a.end,v.get("Integer"),"to_int");0>b&&(b+=m,0>b&&this.$raise(v.get("RangeError"),""+a.$inspect()+" out of range"));0>e&&(e+=m);h||(e+=1);if(b>m)for(;m<b;m++)this[m]=l;0>e?this.splice.apply(this,[b,0].concat(f)):this.splice.apply(this,[b,e-b].concat(f))}return c});a.defn(r,"$assoc",function(a){for(var c=0,b=this.length,h;c<b;c++)if(h=this[c],h.length&&h[0]["$=="](a))return h;return l});a.defn(r,"$at",function(a){a=
v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?l:this[a]});a.defn(r,"$bsearch",u=function(){var a=u.$$p||l;u.$$p=null;if(a===l)return this.$enum_for("bsearch");for(var c=0,b=this.length,h,f,e,m=!1,d=l;c<b;){h=c+Math.floor((b-c)/2);f=this[h];e=a(f);if(e===g)return g.$v;if(!0===e)d=f,m=!0;else if(!1===e||e===l)m=!1;else if(e.$$is_number){if(0===e)return f;m=0>e}else this.$raise(v.get("TypeError"),"wrong argument type "+e.$class()+" (must be numeric, true, false or nil)");
m?b=h:c=h+1}return d});a.defn(r,"$cycle",y=function(c){var b,h,f,e=y.$$p||l;null==c&&(c=l);y.$$p=null;if(e===l)return(b=this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this;if(c["$=="](l))return v.get("Float").$$scope.get("INFINITY");c=v.get("Opal")["$coerce_to!"](c,v.get("Integer"),"to_int");return p(c,0)?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)):0},h.$$s=this,h),b).call(this,"cycle",c);if((b=!1!==(f=this["$empty?"]())&&f!==l?f:c["$=="](0))!==l&&(!b.$$is_boolean||
1==b))return l;var m;if(c===l)for(;;)for(b=0,f=this.length;b<f;b++){if(m=a.yield1(e,this[b]),m===g)return g.$v}else{c=v.get("Opal")["$coerce_to!"](c,v.get("Integer"),"to_int");if(0>=c)return this;for(;0<c;){b=0;for(f=this.length;b<f;b++)if(m=a.yield1(e,this[b]),m===g)return g.$v;c--}}return this});a.defn(r,"$clear",function(){this.splice(0,this.length);return this});a.defn(r,"$clone",function(){var a=l,a=[];a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(r,"$dup",function(){var a=
l,a=[];a.$initialize_dup(this);return a});a.defn(r,"$initialize_copy",function(a){return this.$replace(a)});a.defn(r,"$collect",q=function(){var c,b,h=q.$$p||l;q.$$p=null;if(h===l)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"collect");c=[];for(var f=0,e=this.length;f<e;f++){var m=a.yield1(h,this[f]);if(m===g)return g.$v;c.push(m)}return c});a.defn(r,"$collect!",h=function(){var c,b,f=h.$$p||l;h.$$p=null;if(f===l)return(c=this.$enum_for,c.$$p=
(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"collect!");c=0;for(var e=this.length;c<e;c++){var m=a.yield1(f,this[c]);if(m===g)return g.$v;this[c]=m}return this});a.defn(r,"$combination",c=function(b){var h,f,e=c.$$p||l,m=l;c.$$p=null;m=v.get("Opal")["$coerce_to!"](b,v.get("Integer"),"to_int");if(e===l)return(h=this.$enum_for,h.$$p=(f=function(){return w((f.$$s||this).length,m)},f.$$s=this,f),h).call(this,"combination",m);var d,u,q;if(0===m)(h=a.yield1(e,[]))===g?g.$v:h;else if(1===
m)for(d=0,b=this.length;d<b;d++)(h=a.yield1(e,[this[d]]))===g?g.$v:h;else if(m===this.length)(h=a.yield1(e,this.slice()))===g?g.$v:h;else if(0<=m&&m<this.length){b=[];for(d=0;d<=m+1;d++)b.push(0);d=[];u=0;q=!1;for(b[0]=-1;!q;){for(d[u]=this[b[u+1]];u<m-1;)u++,q=b[u+1]=b[u]+1,d[u]=this[q];(h=a.yield1(e,d.slice()))===g?g.$v:h;u++;do q=0===u,b[u]++,u--;while(b[u+1]+m===this.length+u+1)}}return this});a.defn(r,"$compact",function(){for(var a=[],c=0,b=this.length,h;c<b;c++)(h=this[c])!==l&&a.push(h);return a});
a.defn(r,"$compact!",function(){for(var a=this.length,c=0,b=this.length;c<b;c++)this[c]===l&&(this.splice(c,1),b--,c--);return this.length===a?l:this});a.defn(r,"$concat",function(a){var c;a=(c=v.get("Array")["$==="](a))===l||c.$$is_boolean&&1!=c?v.get("Opal").$coerce_to(a,v.get("Array"),"to_ary").$to_a():a.$to_a();c=0;for(var b=a.length;c<b;c++)this.push(a[c]);return this});a.defn(r,"$delete",O=function(c){var b,h=O.$$p||l;O.$$p=null;for(var f=this.length,e=0,m=f;e<m;e++)this[e]["$=="](c)&&(this.splice(e,
1),m--,e--);return this.length===f?h!==l?(b=a.yieldX(h,[]))===g?g.$v:b:l:c});a.defn(r,"$delete_at",function(a){a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return l;var c=this[a];this.splice(a,1);return c});a.defn(r,"$delete_if",B=function(){var a,c,b=B.$$p||l;B.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"delete_if");a=0;for(var h=this.length,f;a<h;a++){if((f=b(this[a]))===
g)return g.$v;!1!==f&&f!==l&&(this.splice(a,1),h--,a--)}return this});a.defn(r,"$drop",function(a){0>a&&this.$raise(v.get("ArgumentError"));return this.slice(a)});a.defn(r,"$each",J=function(){var c,b,h=J.$$p||l;J.$$p=null;if(h===l)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"each");c=0;for(var f=this.length;c<f;c++)if(a.yield1(h,this[c])==g)return g.$v;return this});a.defn(r,"$each_index",G=function(){var c,b,h=G.$$p||l;G.$$p=null;if(h===l)return(c=
this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"each_index");c=0;for(var f=this.length;c<f;c++)if(a.yield1(h,c)===g)return g.$v;return this});a.defn(r,"$empty?",function(){return 0===this.length});a.defn(r,"$eql?",function(a){function c(a,h){var f,e,m,d;if(!h.$$is_array)return!1;h=h.$to_a();if(a.length!==h.length)return!1;b[a.$object_id()]=!0;f=0;for(e=a.length;f<e;f++)if(m=a[f],d=h[f],m.$$is_array){if(d.$$is_array&&d.length!==m.length||!b.hasOwnProperty(m.$object_id())&&
!c(m,d))return!1}else if(!m["$eql?"](d))return!1;return!0}var b={};return c(this,a)});a.defn(r,"$fetch",E=function(a,c){var b=E.$$p||l;E.$$p=null;var h=a;a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(b!==l)return b(h);if(null!=c)return c;0===this.length?this.$raise(v.get("IndexError"),"index "+h+" outside of array bounds: 0...0"):this.$raise(v.get("IndexError"),"index "+h+" outside of array bounds: -"+this.length+"..."+this.length)});
a.defn(r,"$fill",A=function(){var c,b=A.$$p||l,h=l,f=l,e=l,m=l,f=l,m=arguments.length-0;0>m&&(m=0);f=Array(m);for(h=0;h<m;h++)f[h]=arguments[h+0];A.$$p=null;!1!==b&&b!==l?((c=2<f.length)===l||c.$$is_boolean&&1!=c||this.$raise(v.get("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 0..2)"),c=a.to_ary(f),h=null==c[0]?l:c[0],f=null==c[1]?l:c[1]):((c=0==f.length)===l||c.$$is_boolean&&1!=c?(c=3<f.length)===l||c.$$is_boolean&&1!=c||this.$raise(v.get("ArgumentError"),"wrong number of arguments ("+
f.$length()+" for 1..3)"):this.$raise(v.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),c=a.to_ary(f),e=null==c[0]?l:c[0],h=null==c[1]?l:c[1],f=null==c[2]?l:c[2]);if((c=v.get("Range")["$==="](h))===l||c.$$is_boolean&&1!=c)if(!1!==h&&h!==l)if(m=v.get("Opal").$coerce_to(h,v.get("Integer"),"to_int"),(c=0>m)===l||c.$$is_boolean&&1!=c||(m+=this.length),(c=0>m)===l||c.$$is_boolean&&1!=c||(m=0),!1!==f&&f!==l){f=v.get("Opal").$coerce_to(f,v.get("Integer"),"to_int");if((c=0==f)!==l&&(!c.$$is_boolean||
1==c))return this;f+=m}else f=this.length;else m=0,f=this.length;else{!1!==f&&f!==l&&this.$raise(v.get("TypeError"),"length invalid with range");m=v.get("Opal").$coerce_to(h.$begin(),v.get("Integer"),"to_int");(c=0>m)===l||c.$$is_boolean&&1!=c||(m+=this.length);(c=0>m)===l||c.$$is_boolean&&1!=c||this.$raise(v.get("RangeError"),""+h.$inspect()+" out of range");f=v.get("Opal").$coerce_to(h.$end(),v.get("Integer"),"to_int");(c=0>f)===l||c.$$is_boolean&&1!=c||(f+=this.length);if((c=h["$exclude_end?"]())===
l||c.$$is_boolean&&1!=c)f+=1;if((c=f<=m)!==l&&(!c.$$is_boolean||1==c))return this}if((c=m>this.length)!==l&&(!c.$$is_boolean||1==c))for(h=this.length;h<f;h++)this[h]=l;(c=f>this.length)===l||c.$$is_boolean&&1!=c||(this.length=f);if(!1!==b&&b!==l)for(;m<f;m++){c=b(m);if(c===g)return g.$v;this[m]=c}else for(;m<f;m++)this[m]=e;return this});a.defn(r,"$first",function(a){if(null==a)return 0===this.length?l:this[0];a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");0>a&&this.$raise(v.get("ArgumentError"),
"negative array size");return this.slice(0,a)});a.defn(r,"$flatten",function(a){function c(a,h){var f=[],e,m,d,u;a=a.$to_a();e=0;for(m=a.length;e<m;e++)if(d=a[e],v.get("Opal")["$respond_to?"](d,"to_ary"))if(u=d.$to_ary(),u===l)f.push(d);else switch(u.$$is_array||b.$raise(v.get("TypeError")),u===b&&b.$raise(v.get("ArgumentError")),h){case void 0:f.push.apply(f,c(u));break;case 0:f.push(u);break;default:f.push.apply(f,c(u,h-1))}else f.push(d);return f}var b=this;void 0!==a&&(a=v.get("Opal").$coerce_to(a,
v.get("Integer"),"to_int"));return c(b,a)});a.defn(r,"$flatten!",function(a){a=this.$flatten(a);if(this.length==a.length){for(var c=0,b=this.length;c<b&&this[c]===a[c];c++);if(c==b)return l}this.$replace(a);return this});a.defn(r,"$hash",function(){var c=void 0==a.hash_ids,b=["A"],h=this.$object_id(),f,e,m;try{c&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(h))return"self";for(m in a.hash_ids)if(a.hash_ids.hasOwnProperty(m)&&(f=a.hash_ids[m],this["$eql?"](f)))return"self";a.hash_ids[h]=this;for(e=
0;e<this.length;e++)f=this[e],b.push(f.$hash());return b.join(",")}finally{c&&delete a.hash_ids}});a.defn(r,"$include?",function(a){for(var c=0,b=this.length;c<b;c++)if(this[c]["$=="](a))return!0;return!1});a.defn(r,"$index",H=function(a){var c=H.$$p||l;H.$$p=null;var b,h;if(null!=a)for(b=0,h=this.length;b<h;b++){if(this[b]["$=="](a))return b}else if(c!==l)for(b=0,h=this.length;b<h;b++){if((a=c(this[b]))===g)return g.$v;if(!1!==a&&a!==l)return b}else return this.$enum_for("index");return l});a.defn(r,
"$insert",function(a){var c=arguments.length-1;0>c&&(c=0);for(var b=Array(c),h=0;h<c;h++)b[h]=arguments[h+1];a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");if(0<b.length){0>a&&(a+=this.length+1,0>a&&this.$raise(v.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(c=this.length;c<a;c++)this.push(l);this.splice.apply(this,[a,0].concat(b))}return this});a.defn(r,"$inspect",function(){for(var a=[],c=this.$__id__(),b=0,h=this.length;b<h;b++){var f=this["$[]"](b);f.$__id__()===c?
a.push("[...]"):a.push(f.$inspect())}return"["+a.join(", ")+"]"});a.defn(r,"$join",function(a){var c;null==d[","]&&(d[","]=l);null==a&&(a=l);if((c=0===this.length)!==l&&(!c.$$is_boolean||1==c))return"";(c=a===l)===l||c.$$is_boolean&&1!=c||(a=d[","]);c=[];var b,h,f,e;b=0;for(h=this.length;b<h;b++){f=this[b];if(v.get("Opal")["$respond_to?"](f,"to_str")&&(e=f.$to_str(),e!==l)){c.push(e.$to_s());continue}if(v.get("Opal")["$respond_to?"](f,"to_ary")&&(e=f.$to_ary(),e===this&&this.$raise(v.get("ArgumentError")),
e!==l)){c.push(e.$join(a));continue}if(v.get("Opal")["$respond_to?"](f,"to_s")&&(e=f.$to_s(),e!==l)){c.push(e);continue}this.$raise(v.get("NoMethodError").$new(""+v.get("Opal").$inspect(f)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===l?c.join(""):c.join(v.get("Opal")["$coerce_to!"](a,v.get("String"),"to_str").$to_s())});a.defn(r,"$keep_if",Z=function(){var a,c,b=Z.$$p||l;Z.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,
c),a).call(this,"keep_if");a=0;for(var h=this.length,f;a<h;a++){if((f=b(this[a]))===g)return g.$v;if(!1===f||f===l)this.splice(a,1),h--,a--}return this});a.defn(r,"$last",function(a){if(null==a)return 0===this.length?l:this[this.length-1];a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");0>a&&this.$raise(v.get("ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)});a.defn(r,"$length",function(){return this.length});a.alias(r,"map",
"collect");a.alias(r,"map!","collect!");a.defn(r,"$permutation",C=function(c){var b,h,f,e=this,m=C.$$p||l,d=l,u=l;C.$$p=null;if(m===l)return(b=(h=e).$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=e,f),b).call(h,"permutation",c);var q,A;c=void 0===c?e.length:v.get("Opal").$coerce_to(c,v.get("Integer"),"to_int");if(!(0>c||e.length<c))if(0===c)(b=a.yield1(m,[]))===g?g.$v:b;else if(1===c)for(c=0;c<e.length;c++)(b=a.yield1(m,[e[c]]))===g?g.$v:b;else d=v.get("Array").$new(c),u=v.get("Array").$new(e.length,
!1),q=function(c,b,h,f,m){e=this;for(var d=0;d<e.length;d++)if(f["$[]"](d)["$!"]())if(b[h]=d,h<c-1)f[d]=!0,q.call(e,c,b,h+1,f,m),f[d]=!1;else{A=[];for(var u=0;u<b.length;u++)A.push(e[b[u]]);a.yield1(m,A)}},m!==l?(b=e.slice(),q.call(b,c,d,0,u,m)):q.call(e,c,d,0,u,m);return e});a.defn(r,"$pop",function(a){var c;if((c=void 0===a)!==l&&(!c.$$is_boolean||1==c))return(c=0===this.length)===l||c.$$is_boolean&&1!=c?this.pop():l;a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");(c=0>a)===l||c.$$is_boolean&&
1!=c||this.$raise(v.get("ArgumentError"),"negative array size");return(c=0===this.length)===l||c.$$is_boolean&&1!=c?(c=a>this.length)===l||c.$$is_boolean&&1!=c?this.splice(this.length-a,this.length):this.splice(0,this.length):[]});a.defn(r,"$product",P=function(){var c,b=P.$$p||l,h=arguments.length-0;0>h&&(h=0);for(var f=Array(h),e=0;e<h;e++)f[e]=arguments[e+0];P.$$p=null;var h=b!==l?null:[],e=f.length+1,m=Array(e),d=Array(e),u=Array(e),q,A=1;u[0]=this;for(q=1;q<e;q++)u[q]=v.get("Opal").$coerce_to(f[q-
1],v.get("Array"),"to_ary");for(q=0;q<e;q++){f=u[q].length;if(0===f)return h||this;A*=f;2147483647<A&&this.$raise(v.get("RangeError"),"too big to product");d[q]=f;m[q]=0}a:for(;;){f=[];for(q=0;q<e;q++)f.push(u[q][m[q]]);h?h.push(f):(c=a.yield1(b,f))===g?g.$v:c;f=e-1;for(m[f]++;m[f]===d[f];){m[f]=0;if(0>--f)break a;m[f]++}}return h||this});a.defn(r,"$push",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];a=0;for(b=c.length;a<b;a++)this.push(c[a]);return this});
a.defn(r,"$rassoc",function(a){for(var c=0,b=this.length,h;c<b;c++)if(h=this[c],h.length&&void 0!==h[1]&&h[1]["$=="](a))return h;return l});a.defn(r,"$reject",fa=function(){var a,c,b=fa.$$p||l;fa.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"reject");a=[];for(var h=0,f=this.length,e;h<f;h++){if((e=b(this[h]))===g)return g.$v;!1!==e&&e!==l||a.push(this[h])}return a});a.defn(r,"$reject!",I=function(){var a,c,b=I.$$p||l,h=l;I.$$p=
null;if(b===l)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"reject!");h=this.$length();(a=this.$delete_if,a.$$p=b.$to_proc(),a).call(this);return this.$length()["$=="](h)?l:this});a.defn(r,"$replace",function(a){var c;a=(c=v.get("Array")["$==="](a))===l||c.$$is_boolean&&1!=c?v.get("Opal").$coerce_to(a,v.get("Array"),"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this});a.defn(r,"$reverse",function(){return this.slice(0).reverse()});
a.defn(r,"$reverse!",function(){return this.reverse()});a.defn(r,"$reverse_each",K=function(){var a,c,b,h=K.$$p||l;K.$$p=null;if(h===l)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"reverse_each");(a=(b=this.$reverse()).$each,a.$$p=h.$to_proc(),a).call(b);return this});a.defn(r,"$rindex",S=function(a){var c=S.$$p||l;S.$$p=null;var b;if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==l)for(b=this.length-
1;0<=b&&!(b>=this.length);b--){if((a=c(this[b]))===g)return g.$v;if(!1!==a&&a!==l)return b}else if(null==a)return this.$enum_for("rindex");return l});a.defn(r,"$rotate",function(a){null==a&&(a=1);a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");var c,b;if(1===this.length)return this.slice();if(0===this.length)return[];c=this.slice();b=a%c.length;a=c.slice(b);c=c.slice(0,b);return a.concat(c)});a.defn(r,"$rotate!",function(a){var c=l;null==a&&(a=1);if(0===this.length||1===this.length)return this;
a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");c=this.$rotate(a);return this.$replace(c)});(function(c,$super){function b(){}var h=b=k(c,$super,"SampleRandom",b),f=h.$$scope;h.$$proto.rng=l;a.defn(h,"$initialize",function(a){return this.rng=a});return(a.defn(h,"$rand",function(a){var c,b=l,b=f.get("Opal").$coerce_to(this.rng.$rand(a),f.get("Integer"),"to_int");(c=0>b)===l||c.$$is_boolean&&1!=c||this.$raise(f.get("RangeError"),"random value must be >= 0");((c=b<a)===l||c.$$is_boolean&&1!=
c)&&this.$raise(f.get("RangeError"),"random value must be less than Array size");return b}),l)&&"rand"})(v.base,null);a.defn(r,"$sample",function(a,c){var b,h=l,f=l;if((b=void 0===a)!==l&&(!b.$$is_boolean||1==b))return this.$at(v.get("Kernel").$rand(this.length));(b=void 0===c)===l||b.$$is_boolean&&1!=b?(a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int"),c=v.get("Opal").$coerce_to(c,v.get("Hash"),"to_hash")):(b=h=v.get("Opal")["$coerce_to?"](a,v.get("Hash"),"to_hash"))===l||b.$$is_boolean&&1!=
b?(c=l,a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int")):(c=h,a=l);(b=!1!==a&&a!==l?0>a:a)===l||b.$$is_boolean&&1!=b||this.$raise(v.get("ArgumentError"),"count must be greater than 0");!1!==c&&c!==l&&(f=c["$[]"]("random"));f=(b=!1!==f&&f!==l?f["$respond_to?"]("rand"):f)===l||b.$$is_boolean&&1!=b?v.get("Kernel"):v.get("SampleRandom").$new(f);if(!1===a||a===l)return this[f.$rand(this.length)];var e,m,d,u;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[f.$rand(this.length)]];
case 2:return m=f.$rand(this.length),d=f.$rand(this.length),m===d&&(d=0===m?m+1:m-1),[this[m],this[d]];default:if(3<this.length/a){h=!1;e=0;b=v.get("Array").$new(a);m=1;for(b[0]=f.$rand(this.length);m<a;){u=f.$rand(this.length);for(d=0;d<m;){for(;u===b[d];){e++;if(100<e){h=!0;break}u=f.$rand(this.length)}if(h)break;d++}if(h)break;b[m]=u;m++}if(!h){for(m=0;m<a;)b[m]=this[b[m]],m++;return b}}b=this.slice();for(m=0;m<a;m++)h=f.$rand(this.length),e=b[m],b[m]=b[h],b[h]=e;return a===this.length?b:b["$[]"](0,
a)}});a.defn(r,"$select",Q=function(){var c,b,h=Q.$$p||l;Q.$$p=null;if(h===l)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"select");c=[];for(var f=0,e=this.length,m,d;f<e;f++){m=this[f];if((d=a.yield1(h,m))===g)return g.$v;!1!==d&&d!==l&&c.push(m)}return c});a.defn(r,"$select!",M=function(){var a,c,b=M.$$p||l;M.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"select!");var h=
this.length;(a=this.$keep_if,a.$$p=b.$to_proc(),a).call(this);return this.length===h?l:this});a.defn(r,"$shift",function(a){var c;if((c=void 0===a)!==l&&(!c.$$is_boolean||1==c))return(c=0===this.length)===l||c.$$is_boolean&&1!=c?this.shift():l;a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int");(c=0>a)===l||c.$$is_boolean&&1!=c||this.$raise(v.get("ArgumentError"),"negative array size");return(c=0===this.length)===l||c.$$is_boolean&&1!=c?this.splice(0,a):[]});a.alias(r,"size","length");a.defn(r,
"$shuffle",function(a){return this.$dup()["$shuffle!"](a)});a.defn(r,"$shuffle!",function(a){var c,b=this.length,h;void 0!==a&&(a=v.get("Opal")["$coerce_to?"](a,v.get("Hash"),"to_hash"),a!==l&&(a=a["$[]"]("random"),a!==l&&a["$respond_to?"]("rand")&&(c=a)));for(;b;)c?(a=c.$rand(b).$to_int(),0>a&&this.$raise(v.get("RangeError"),"random number too small "+a),a>=b&&this.$raise(v.get("RangeError"),"random number too big "+a)):a=Math.floor(Math.random()*b),h=this[--b],this[b]=this[a],this[a]=h;return this});
a.alias(r,"slice","[]");a.defn(r,"$slice!",function(a,c){0>a&&(a+=this.length);return null!=c?this.splice(a,c):0>a||a>=this.length?l:this.splice(a,1)[0]});a.defn(r,"$sort",V=function(){var a,c=this,b=V.$$p||l;V.$$p=null;if((a=1<c.length)===l||a.$$is_boolean&&1!=a)return c;b===l&&(b=function(a,c){return a["$<=>"](c)});try{return c.slice().sort(function(a,h){var f=b(a,h);if(f===g)throw g;f===l&&c.$raise(v.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+h.$inspect()+" failed");return p(f,
0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})}catch(h){if(h===g)return g.$v;throw h;}});a.defn(r,"$sort!",N=function(){var a,c,b=N.$$p||l;N.$$p=null;b=b!==l?(a=(c=this.slice()).$sort,a.$$p=b.$to_proc(),a).call(c):this.slice().$sort();a=this.length=0;for(c=b.length;a<c;a++)this.push(b[a]);return this});a.defn(r,"$take",function(a){0>a&&this.$raise(v.get("ArgumentError"));return this.slice(0,a)});a.defn(r,"$take_while",L=function(){var a=L.$$p||l;L.$$p=null;for(var c=[],b=0,h=this.length,f,e;b<h;b++){f=
this[b];if((e=a(f))===g)return g.$v;if(!1===e||e===l)break;c.push(f)}return c});a.defn(r,"$to_a",function(){return this});a.alias(r,"to_ary","to_a");a.defn(r,"$to_h",function(){var c,b=this.length,h,f,m=e([],{});for(c=0;c<b;c++)h=v.get("Opal")["$coerce_to?"](this[c],v.get("Array"),"to_ary"),h.$$is_array||this.$raise(v.get("TypeError"),"wrong element type "+h.$class()+" at "+c+" (expected array)"),2!==h.length&&this.$raise(v.get("ArgumentError"),"wrong array length at "+c+" (expected 2, was "+h.$length()+
")"),f=h[0],h=h[1],a.hash_put(m,f,h);return m});a.alias(r,"to_s","inspect");a.defn(r,"$transpose",function(){var a,c,b=l,h=l;if((a=this["$empty?"]())!==l&&(!a.$$is_boolean||1==a))return[];b=[];h=l;(a=this.$each,a.$$p=(c=function(a){var f=c.$$s||this,e,m,d;null==a&&(a=l);a=(e=v.get("Array")["$==="](a))===l||e.$$is_boolean&&1!=e?v.get("Opal").$coerce_to(a,v.get("Array"),"to_ary").$to_a():a.$to_a();!1!==(e=h)&&e!==l?e:h=a.length;(e=a.length["$!="](h))===l||e.$$is_boolean&&1!=e||f.$raise(v.get("IndexError"),
"element size differs ("+a.length+" should be "+h);return(e=(m=a.length).$times,e.$$p=(d=function(c){var h,f,e,m=l;null==c&&(c=l);m=(h=c,f=b,!1!==(e=f["$[]"](h))&&e!==l?e:f["$[]="](h,[]));return m["$<<"](a.$at(c))},d.$$s=f,d),e).call(m)},c.$$s=this,c),a).call(this);return b});a.defn(r,"$uniq",U=function(){var c=U.$$p||l;U.$$p=null;var b=e([],{}),h,f,m,d;if(c===l)for(h=0,f=this.length;h<f;h++)m=this[h],void 0===a.hash_get(b,m)&&a.hash_put(b,m,m);else for(h=0,f=this.length;h<f;h++)m=this[h],d=a.yield1(c,
m),void 0===a.hash_get(b,d)&&a.hash_put(b,d,m);return b.$values()});a.defn(r,"$uniq!",Y=function(){var c=Y.$$p||l;Y.$$p=null;var b=this.length,h=e([],{}),f,m,d,u;f=0;for(m=b;f<m;f++)d=this[f],u=c===l?d:a.yield1(c,d),void 0===a.hash_get(h,u)?a.hash_put(h,u,d):(this.splice(f,1),m--,f--);return this.length===b?l:this});a.defn(r,"$unshift",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];for(a=c.length-1;0<=a;a--)this.unshift(c[a]);return this});a.defn(r,
"$values_at",function(){var a,c,b=l,h=arguments.length-0;0>h&&(h=0);for(var f=Array(h),e=0;e<h;e++)f[e]=arguments[e+0];b=[];(a=f.$each,a.$$p=(c=function(a){var h=c.$$s||this,f,e,m,d=l,u=l,d=l;null==a&&(a=l);if((f=a["$kind_of?"](v.get("Range")))===l||f.$$is_boolean&&1!=f)return d=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int"),b["$<<"](h.$at(d));d=v.get("Opal").$coerce_to(a.$last(),v.get("Integer"),"to_int");u=v.get("Opal").$coerce_to(a.$first(),v.get("Integer"),"to_int");if(0>u)return u+=h.length,
l;0>d&&(d+=h.length);a["$exclude_end?"]()&&d--;return d<u?l:(f=(e=u).$upto,f.$$p=(m=function(a){var c=m.$$s||this;null==a&&(a=l);return b["$<<"](c.$at(a))},m.$$s=h,m),f).call(e,d)},c.$$s=this,c),a).call(f);return b});return(a.defn(r,"$zip",ba=function(){var a,c=ba.$$p||l,b=arguments.length-0;0>b&&(b=0);for(var h=Array(b),f=0;f<b;f++)h[f]=arguments[f+0];ba.$$p=null;var b=[],f=this.length,e,m,d,u;d=0;for(u=h.length;d<u;d++)e=h[d],e.$$is_array||(h[d]=(!1!==(a=v.get("Opal")["$coerce_to?"](e,v.get("Array"),
"to_ary"))&&a!==l?a:v.get("Opal")["$coerce_to!"](e,v.get("Enumerator"),"each")).$to_a());for(m=0;m<f;m++){a=[this[m]];d=0;for(u=h.length;d<u;d++)e=h[d][m],null==e&&(e=l),a[d+1]=e;b[m]=a}if(c!==l){for(m=0;m<f;m++)c(b[m]);return l}return b}),l)&&"zip"}(a.base,Array)};
Opal.modules["corelib/hash"]=function(a){a.dynamic_require_severity="warning";var p=a.top,t=a.nil,l=a.breaker,g=a.klass;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));p.$require("corelib/enumerable");return function(k,$super){function d(){}var b=d=g(k,$super,"Hash",d),p=b.$$proto,x=b.$$scope,w,r,n,
v,f,m,u,y,q,h,c,O,B,J;p.proc=p.none=t;b.$include(x.get("Enumerable"));p.$$is_hash=!0;a.defs(b,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),b=0;b<a;b++)c[b]=arguments[b+0];var b=c.length,h;if(1===b){a=x.get("Opal")["$coerce_to?"](c["$[]"](0),x.get("Hash"),"to_hash");if(a!==t)return this.$allocate()["$merge!"](a);c=x.get("Opal")["$coerce_to?"](c["$[]"](0),x.get("Array"),"to_ary");c===t&&this.$raise(x.get("ArgumentError"),"odd number of arguments for Hash");b=c.length;a=this.$allocate();
for(h=0;h<b;h++)if(c[h].$$is_array)switch(c[h].length){case 1:a.$store(c[h][0],t);break;case 2:a.$store(c[h][0],c[h][1]);break;default:this.$raise(x.get("ArgumentError"),"invalid number of elements ("+c[h].length+" for 1..2)")}return a}0!==b%2&&this.$raise(x.get("ArgumentError"),"odd number of arguments for Hash");a=this.$allocate();for(h=0;h<b;h+=2)a.$store(c[h],c[h+1]);return a});a.defs(b,"$allocate",function(){var c=new this.$$alloc;a.hash_init(c);c.none=t;c.proc=t;return c});a.defs(b,"$try_convert",
function(a){return x.get("Opal")["$coerce_to?"](a,x.get("Hash"),"to_hash")});a.defn(b,"$initialize",w=function(a){var c=w.$$p||t;w.$$p=null;void 0!==a&&c!==t&&this.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.none=void 0===a?t:a;this.proc=c;return this});a.defn(b,"$==",function(c){if(this===c)return!0;if(!c.$$is_hash||this.keys.length!==c.keys.length)return!1;for(var b=0,h=this.keys,f=h.length,m,d;b<f;b++)if(m=h[b],m.$$is_string?(d=this.smap[m],m=c.smap[m]):(d=m.value,
m=a.hash_get(c,m.key)),void 0===m||!d["$eql?"](m))return!1;return!0});a.defn(b,"$[]",function(c){var b=a.hash_get(this,c);return void 0!==b?b:this.$default(c)});a.defn(b,"$[]=",function(c,b){a.hash_put(this,c,b);return b});a.defn(b,"$assoc",function(a){for(var c=0,b=this.keys,h=b.length,f;c<h;c++)if(f=b[c],f.$$is_string){if(f["$=="](a))return[f,this.smap[f]]}else if(f.key["$=="](a))return[f.key,f.value];return t});a.defn(b,"$clear",function(){a.hash_init(this);return this});a.defn(b,"$clone",function(){var c=
new this.$$class.$$alloc;a.hash_init(c);a.hash_clone(this,c);return c});a.defn(b,"$default",function(a){return void 0!==a&&this.proc!==t?this.proc.$call(this,a):this.none});a.defn(b,"$default=",function(a){this.proc=t;return this.none=a});a.defn(b,"$default_proc",function(){return this.proc});a.defn(b,"$default_proc=",function(a){a!==t&&(a=x.get("Opal")["$coerce_to!"](a,x.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&this.$raise(x.get("TypeError"),"default_proc takes two arguments"));
this.none=t;return this.proc=a});a.defn(b,"$delete",r=function(c){var b=r.$$p||t;r.$$p=null;var h=a.hash_delete(this,c);return void 0!==h?h:b!==t?b.$call(c):t});a.defn(b,"$delete_if",n=function(){var c,b,h=n.$$p||t;n.$$p=null;if(!1===h||h===t)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"delete_if");c=0;for(var f=this.keys,m=f.length,d,u;c<m;c++){d=f[c];d.$$is_string?u=this.smap[d]:(u=d.value,d=d.key);u=h(d,u);if(u===l)return l.$v;!1!==u&&u!==
t&&void 0!==a.hash_delete(this,d)&&(m--,c--)}return this});a.alias(b,"dup","clone");a.defn(b,"$each",v=function(){var c,b,h=v.$$p||t;v.$$p=null;if(!1===h||h===t)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"each");c=0;for(var f=this.keys,m=f.length,d,u;c<m;c++)if(d=f[c],d.$$is_string?u=this.smap[d]:(u=d.value,d=d.key),d=a.yield1(h,[d,u]),d===l)return l.$v;return this});a.defn(b,"$each_key",f=function(){var a,c,b=f.$$p||t;f.$$p=null;if(!1===b||
b===t)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"each_key");a=0;for(var h=this.keys,m=h.length,d;a<m;a++)if(d=h[a],b(d.$$is_string?d:d.key)===l)return l.$v;return this});a.alias(b,"each_pair","each");a.defn(b,"$each_value",m=function(){var a,c,b=m.$$p||t;m.$$p=null;if(!1===b||b===t)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),a).call(this,"each_value");a=0;for(var h=this.keys,f=h.length,d;a<f;a++)if(d=
h[a],b(d.$$is_string?this.smap[d]:d.value)===l)return l.$v;return this});a.defn(b,"$empty?",function(){return 0===this.keys.length});a.alias(b,"eql?","==");a.defn(b,"$fetch",u=function(c,b){var h=u.$$p||t;u.$$p=null;var f=a.hash_get(this,c);return void 0!==f?f:h!==t?(f=h(c),f===l?l.$v:f):void 0!==b?b:this.$raise(x.get("KeyError"),"key not found: "+c.$inspect())});a.defn(b,"$flatten",function(a){null==a&&(a=1);a=x.get("Opal")["$coerce_to!"](a,x.get("Integer"),"to_int");for(var c=[],b=0,h=this.keys,
f=h.length,m,d;b<f;b++)m=h[b],m.$$is_string?d=this.smap[m]:(d=m.value,m=m.key),c.push(m),d.$$is_array?1===a?c.push(d):c=c.concat(d.$flatten(a-2)):c.push(d);return c});a.defn(b,"$has_key?",function(c){return void 0!==a.hash_get(this,c)});a.defn(b,"$has_value?",function(a){for(var c=0,b=this.keys,h=b.length,f;c<h;c++)if(f=b[c],(f.$$is_string?this.smap[f]:f.value)["$=="](a))return!0;return!1});a.defn(b,"$hash",function(){var c=void 0===a.hash_ids,b=this.$object_id(),h=["Hash"],f,m;try{c&&(a.hash_ids=
{});if(a.hash_ids.hasOwnProperty(b))return"self";for(f in a.hash_ids)if(a.hash_ids.hasOwnProperty(f)&&(m=a.hash_ids[f],this["$eql?"](m)))return"self";a.hash_ids[b]=this;for(var b=0,d=this.keys,u=d.length;b<u;b++)f=d[b],f.$$is_string?h.push([f,this.smap[f].$hash()]):h.push([f.key_hash,f.value.$hash()]);return h.sort().join()}finally{c&&delete a.hash_ids}});a.alias(b,"include?","has_key?");a.defn(b,"$index",function(a){for(var c=0,b=this.keys,h=b.length,f,m;c<h;c++)if(f=b[c],f.$$is_string?m=this.smap[f]:
(m=f.value,f=f.key),m["$=="](a))return f;return t});a.defn(b,"$indexes",function(){var c=arguments.length-0;0>c&&(c=0);for(var b=Array(c),h=0;h<c;h++)b[h]=arguments[h+0];for(var c=[],h=0,f=b.length,m;h<f;h++)m=b[h],m=a.hash_get(this,m),void 0===m?c.push(this.$default()):c.push(m);return c});a.alias(b,"indices","indexes");var G;a.defn(b,"$inspect",function(){var a=void 0===G,c=this.$object_id(),b=[];try{a&&(G={});if(G.hasOwnProperty(c))return"{...}";G[c]=!0;for(var c=0,h=this.keys,f=h.length,m,d;c<
f;c++)m=h[c],m.$$is_string?d=this.smap[m]:(d=m.value,m=m.key),b.push(m.$inspect()+"=>"+d.$inspect());return"{"+b.join(", ")+"}"}finally{a&&(G=void 0)}});a.defn(b,"$invert",function(){for(var c=a.hash(),b=0,h=this.keys,f=h.length,m,d;b<f;b++)m=h[b],m.$$is_string?d=this.smap[m]:(d=m.value,m=m.key),a.hash_put(c,d,m);return c});a.defn(b,"$keep_if",y=function(){var c,b,h=y.$$p||t;y.$$p=null;if(!1===h||h===t)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,
"keep_if");c=0;for(var f=this.keys,m=f.length,d,u;c<m;c++){d=f[c];d.$$is_string?u=this.smap[d]:(u=d.value,d=d.key);u=h(d,u);if(u===l)return l.$v;!1!==u&&u!==t||void 0===a.hash_delete(this,d)||(m--,c--)}return this});a.alias(b,"key","index");a.alias(b,"key?","has_key?");a.defn(b,"$keys",function(){for(var a=[],c=0,b=this.keys,h=b.length,f;c<h;c++)f=b[c],f.$$is_string?a.push(f):a.push(f.key);return a});a.defn(b,"$length",function(){return this.keys.length});a.alias(b,"member?","has_key?");a.defn(b,
"$merge",q=function(a){var c,b,h=q.$$p||t;q.$$p=null;return(c=(b=this.$dup())["$merge!"],c.$$p=h.$to_proc(),c).call(b,a)});a.defn(b,"$merge!",h=function(c){var b=h.$$p||t;h.$$p=null;x.get("Hash")["$==="](c)||(c=x.get("Opal")["$coerce_to!"](c,x.get("Hash"),"to_hash"));var f,m=c.keys,d=m.length,u,q,y;if(b===t){for(f=0;f<d;f++)u=m[f],u.$$is_string?y=c.smap[u]:(y=u.value,u=u.key),a.hash_put(this,u,y);return this}for(f=0;f<d;f++)u=m[f],u.$$is_string?y=c.smap[u]:(y=u.value,u=u.key),q=a.hash_get(this,u),
void 0===q?a.hash_put(this,u,y):a.hash_put(this,u,b(u,q,y));return this});a.defn(b,"$rassoc",function(a){for(var c=0,b=this.keys,h=b.length,f,m;c<h;c++)if(f=b[c],f.$$is_string?m=this.smap[f]:(m=f.value,f=f.key),m["$=="](a))return[f,m];return t});a.defn(b,"$rehash",function(){a.hash_rehash(this);return this});a.defn(b,"$reject",c=function(){var b,h,f=c.$$p||t;c.$$p=null;if(!1===f||f===t)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$size()},h.$$s=this,h),b).call(this,"reject");b=
a.hash();for(var m=0,d=this.keys,u=d.length,q,y,g;m<u;m++){q=d[m];q.$$is_string?y=this.smap[q]:(y=q.value,q=q.key);g=f(q,y);if(g===l)return l.$v;!1!==g&&g!==t||a.hash_put(b,q,y)}return b});a.defn(b,"$reject!",O=function(){var c,b,h=O.$$p||t;O.$$p=null;if(!1===h||h===t)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"reject!");c=!1;for(var f=0,m=this.keys,d=m.length,u,q;f<d;f++){u=m[f];u.$$is_string?q=this.smap[u]:(q=u.value,u=u.key);q=h(u,q);if(q===
l)return l.$v;!1!==q&&q!==t&&void 0!==a.hash_delete(this,u)&&(c=!0,d--,f--)}return c?this:t});a.defn(b,"$replace",function(c){var b;c=x.get("Opal")["$coerce_to!"](c,x.get("Hash"),"to_hash");a.hash_init(this);for(var h=0,f=c.keys,m=f.length,d,u;h<m;h++)d=f[h],d.$$is_string?u=c.smap[d]:(u=d.value,d=d.key),a.hash_put(this,d,u);(b=c.$default_proc())===t||b.$$is_boolean&&1!=b?(b=[c.$default()],c=this,c["$default="].apply(c,b)):(b=[c.$default_proc()],c=this,c["$default_proc="].apply(c,b));b[b.length-1];
return this});a.defn(b,"$select",B=function(){var c,b,h=B.$$p||t;B.$$p=null;if(!1===h||h===t)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"select");c=a.hash();for(var f=0,m=this.keys,d=m.length,u,q,y;f<d;f++){u=m[f];u.$$is_string?q=this.smap[u]:(q=u.value,u=u.key);y=h(u,q);if(y===l)return l.$v;!1!==y&&y!==t&&a.hash_put(c,u,q)}return c});a.defn(b,"$select!",J=function(){var c,b,h=J.$$p||t;J.$$p=null;if(!1===h||h===t)return(c=this.$enum_for,c.$$p=
(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),c).call(this,"select!");c=t;for(var f=0,m=this.keys,d=m.length,u,q;f<d;f++){u=m[f];u.$$is_string?q=this.smap[u]:(q=u.value,u=u.key);q=h(u,q);if(q===l)return l.$v;if(!1===q||q===t)void 0!==a.hash_delete(this,u)&&(d--,f--),c=this}return c});a.defn(b,"$shift",function(){var c=this.keys;return 0<c.length?(c=c[0],c=c.$$is_string?c:c.key,[c,a.hash_delete(this,c)]):this.$default(t)});a.alias(b,"size","length");b.$alias_method("store","[]=");a.defn(b,
"$to_a",function(){for(var a=[],c=0,b=this.keys,h=b.length,f,m;c<h;c++)f=b[c],f.$$is_string?m=this.smap[f]:(m=f.value,f=f.key),a.push([f,m]);return a});a.defn(b,"$to_h",function(){if(this.$$class===a.Hash)return this;var c=new a.Hash.$$alloc;a.hash_init(c);a.hash_clone(this,c);return c});a.defn(b,"$to_hash",function(){return this});a.alias(b,"to_s","inspect");a.alias(b,"update","merge!");a.alias(b,"value?","has_value?");a.alias(b,"values_at","indexes");return(a.defn(b,"$values",function(){for(var a=
[],c=0,b=this.keys,h=b.length,f;c<h;c++)f=b[c],f.$$is_string?a.push(this.smap[f]):a.push(f.value);return a}),t)&&"values"}(a.base,null)};
Opal.modules["corelib/number"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
a.dynamic_require_severity="warning";var d=a.top,b=a.nil,z=a.breaker,x=a.slice,w=a.klass;a.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));d.$require("corelib/numeric");(function(d,$super){function v(){}var f=v=w(d,$super,"Number",v),m=f.$$scope,u,y,q,h,c,O,B,J,G,E;m.get("Opal").$bridge(f,Number);Number.prototype.$$is_number=
!0;a.defn(f,"$coerce",function(a){if(a!==b){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[m.get("Opal")["$coerce_to!"](a,m.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(m.get("TypeError"),"can't convert "+a.$class()+" into Float")});a.defn(f,"$__id__",function(){return 2*this+1});a.alias(f,"object_id","__id__");a.defn(f,"$+",function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)});a.defn(f,"$-",function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)});a.defn(f,"$*",function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)});a.defn(f,"$/",function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)});a.alias(f,"fdiv","/");a.defn(f,"$%",function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(m.get("ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)});a.defn(f,"$&",function(a){return a.$$is_number?this&a:this.$__coerced__("&",
a)});a.defn(f,"$|",function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)});a.defn(f,"$^",function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)});a.defn(f,"$<",function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)});a.defn(f,"$<=",function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)});a.defn(f,"$>",function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)});a.defn(f,"$>=",function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)});a.defn(f,
"$<=>",function(c){try{return c.$$is_number?isNaN(this)||isNaN(c)?b:this>c?1:this<c?-1:0:this.$__coerced__("<=>",c)}catch(h){if(a.rescue(h,[m.get("ArgumentError")]))try{return b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw h;}});a.defn(f,"$<<",function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0<a?this<<a:this>>-a});a.defn(f,"$>>",function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0<a?this>>a:this<<-a});a.defn(f,"$[]",function(a){a=
m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return a<m.get("Integer").$$scope.get("MIN")||a>m.get("Integer").$$scope.get("MAX")?0:0>this?(~this+1>>a)%2:(this>>a)%2});a.defn(f,"$+@",function(){return+this});a.defn(f,"$-@",function(){return-this});a.defn(f,"$~",function(){return~this});a.defn(f,"$**",function(a){var c,h,f;return(c=m.get("Integer")["$==="](a))===b||c.$$is_boolean&&1!=c?(c=t(this,0)?!1!==(f=m.get("Float")["$==="](a))&&f!==b?f:m.get("Rational")["$==="](a):t(this,0))===b||
c.$$is_boolean&&1!=c?(c=null!=a.$$is_number)===b||c.$$is_boolean&&1!=c?this.$__coerced__("**",a):Math.pow(this,a):m.get("Complex").$new(this,0)["$**"](a.$to_f()):(c=!1!==(h=m.get("Integer")["$==="](this)["$!"]())&&h!==b?h:p(a,0))===b||c.$$is_boolean&&1!=c?m.get("Rational").$new(this,1)["$**"](a):Math.pow(this,a)});a.defn(f,"$==",function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1});a.defn(f,"$abs",function(){return Math.abs(this)});a.defn(f,"$abs2",function(){return Math.abs(this*
this)});a.defn(f,"$angle",function(){var a;return(a=this["$nan?"]())===b||a.$$is_boolean&&1!=a?0==this?0<1/this?0:Math.PI:0>this?Math.PI:0:this});a.alias(f,"arg","angle");a.alias(f,"phase","angle");a.defn(f,"$bit_length",function(){var a;((a=m.get("Integer")["$==="](this))===b||a.$$is_boolean&&1!=a)&&this.$raise(m.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var c=0>this?~this:this;0!=c;)a+=1,c>>>=1;return a});
a.defn(f,"$ceil",function(){return Math.ceil(this)});a.defn(f,"$chr",function(a){return String.fromCharCode(this)});a.defn(f,"$denominator",u=function(){var c=x.call(arguments,0),h,f,m=u.$$p;u.$$p=null;return(h=!1!==(f=this["$nan?"]())&&f!==b?f:this["$infinite?"]())===b||h.$$is_boolean&&1!=h?a.find_super_dispatcher(this,"denominator",u,m).apply(this,c):1});a.defn(f,"$downto",y=function(a){var c,h,f=y.$$p||b;y.$$p=null;if(f===b)return(c=this.$enum_for,c.$$p=(h=function(){var c=h.$$s||this,f;((f=m.get("Numeric")["$==="](a))===
b||f.$$is_boolean&&1!=f)&&c.$raise(m.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return p(a,c)?0:l(g(c,a),1)},h.$$s=this,h),c).call(this,"downto",a);a.$$is_number||this.$raise(m.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c>=a;c--)if(f(c)===z)return z.$v;return this});a.alias(f,"eql?","==");a.defn(f,"$equal?",function(a){var c;return!1!==(c=this["$=="](a))&&c!==b?c:isNaN(this)&&isNaN(a)});a.defn(f,"$even?",function(){return 0===
this%2});a.defn(f,"$floor",function(){return Math.floor(this)});a.defn(f,"$gcd",function(a){var c;((c=m.get("Integer")["$==="](a))===b||c.$$is_boolean&&1!=c)&&this.$raise(m.get("TypeError"),"not an integer");c=Math.abs(this);for(a=Math.abs(a);0<c;){var h=c;c=a%c;a=h}return a});a.defn(f,"$gcdlcm",function(a){return[this.$gcd(),this.$lcm()]});a.defn(f,"$hash",function(){return"Numeric:"+this.toString()});a.defn(f,"$integer?",function(){return 0===this%1});a.defn(f,"$is_a?",q=function(c){var h=x.call(arguments,
0),f,e=q.$$p;q.$$p=null;return((f=c["$=="](m.get("Fixnum"))?m.get("Integer")["$==="](this):c["$=="](m.get("Fixnum")))===b||f.$$is_boolean&&1!=f)&&((f=c["$=="](m.get("Integer"))?m.get("Integer")["$==="](this):c["$=="](m.get("Integer")))===b||f.$$is_boolean&&1!=f)&&((f=c["$=="](m.get("Float"))?m.get("Float")["$==="](this):c["$=="](m.get("Float")))===b||f.$$is_boolean&&1!=f)?a.find_super_dispatcher(this,"is_a?",q,e).apply(this,h):!0});a.alias(f,"kind_of?","is_a?");a.defn(f,"$instance_of?",h=function(c){var f=
x.call(arguments,0),e,d=h.$$p;h.$$p=null;return((e=c["$=="](m.get("Fixnum"))?m.get("Integer")["$==="](this):c["$=="](m.get("Fixnum")))===b||e.$$is_boolean&&1!=e)&&((e=c["$=="](m.get("Integer"))?m.get("Integer")["$==="](this):c["$=="](m.get("Integer")))===b||e.$$is_boolean&&1!=e)&&((e=c["$=="](m.get("Float"))?m.get("Float")["$==="](this):c["$=="](m.get("Float")))===b||e.$$is_boolean&&1!=e)?a.find_super_dispatcher(this,"instance_of?",h,d).apply(this,f):!0});a.defn(f,"$lcm",function(a){var c;((c=m.get("Integer")["$==="](a))===
b||c.$$is_boolean&&1!=c)&&this.$raise(m.get("TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))});a.alias(f,"magnitude","abs");a.alias(f,"modulo","%");a.defn(f,"$next",function(){return this+1});a.defn(f,"$nonzero?",function(){return 0==this?b:this});a.defn(f,"$numerator",c=function(){var h=x.call(arguments,0),f,m,e=c.$$p;c.$$p=null;return(f=!1!==(m=this["$nan?"]())&&m!==b?m:this["$infinite?"]())===b||f.$$is_boolean&&1!=f?a.find_super_dispatcher(this,"numerator",c,
e).apply(this,h):this});a.defn(f,"$odd?",function(){return 0!==this%2});a.defn(f,"$ord",function(){return this});a.defn(f,"$pred",function(){return this-1});a.defn(f,"$quo",O=function(c){var h=x.call(arguments,0),f,e=O.$$p;O.$$p=null;return(f=m.get("Integer")["$==="](this))===b||f.$$is_boolean&&1!=f?k(this,c):a.find_super_dispatcher(this,"quo",O,e).apply(this,h)});a.defn(f,"$rationalize",function(c){var h,f=b,d=b;1<arguments.length&&this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+
arguments.length+" for 0..1)");if((h=m.get("Integer")["$==="](this))===b||h.$$is_boolean&&1!=h){if((h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h){if((h=this["$nan?"]())===b||h.$$is_boolean&&1!=h){if((h=null==c)===b||h.$$is_boolean&&1!=h)return this.$to_r().$rationalize(c);h=a.to_ary(m.get("Math").$frexp(this));f=null==h[0]?b:h[0];d=null==h[1]?b:h[1];f=m.get("Math").$ldexp(f,m.get("Float").$$scope.get("MANT_DIG")).$to_i();d=g(d,m.get("Float").$$scope.get("MANT_DIG"));return m.get("Rational").$new(e(2,
f),1["$<<"](g(1,d))).$rationalize(m.get("Rational").$new(1,1["$<<"](g(1,d))))}return this.$raise(m.get("FloatDomainError"),"NaN")}return this.$raise(m.get("FloatDomainError"),"Infinity")}return m.get("Rational").$new(this,1)});a.defn(f,"$round",function(c){var h,f,e=b;if((h=m.get("Integer")["$==="](this))===b||h.$$is_boolean&&1!=h){(h=(f=this["$nan?"](),!1!==f&&f!==b?null==c:f))===b||h.$$is_boolean&&1!=h||this.$raise(m.get("FloatDomainError"),"NaN");c=m.get("Opal")["$coerce_to!"](c||0,m.get("Integer"),
"to_int");if("number"===typeof c?0>=c:c["$<="](0))(h=this["$nan?"]())===b||h.$$is_boolean&&1!=h?(h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h||this.$raise(m.get("FloatDomainError"),"Infinity"):this.$raise(m.get("RangeError"),"NaN");else{if(c["$=="](0))return Math.round(this);if((h=!1!==(f=this["$nan?"]())&&f!==b?f:this["$infinite?"]())!==b&&(!h.$$is_boolean||1==h))return this}h=a.to_ary(m.get("Math").$frexp(this));var e=null==h[1]?b:h[1],d=g(l(m.get("Float").$$scope.get("DIG"),2),p(e,0)?k(e,
4):g(k(e,3),1));return("number"===typeof c&&"number"===typeof d?c>=d:c["$>="](d))?this:t(c,(p(e,0)?l(k(e,3),1):k(e,4))["$-@"]())?0:Math.round(this*Math.pow(10,c))/Math.pow(10,c)}if((h=null==c)!==b&&(!h.$$is_boolean||1==h))return this;(h=(f=m.get("Float")["$==="](c),!1!==f&&f!==b?c["$infinite?"]():f))===b||h.$$is_boolean&&1!=h||this.$raise(m.get("RangeError"),"Infinity");c=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");t(c,m.get("Integer").$$scope.get("MIN"))&&this.$raise(m.get("RangeError"),
"out of bounds");if((h=0<=c)!==b&&(!h.$$is_boolean||1==h))return this;c=c["$-@"]();if(.415241*c-.125>this.$size())return 0;c=Math.pow(10,c);d=Math.floor((Math.abs(d)+c/2)/c)*c;return 0>this?-d:d});a.defn(f,"$step",B=function(a,c){var h,f=B.$$p||b;null==c&&(c=1);B.$$p=null;if(!1===f||f===b)return this.$enum_for("step",a,c);(h=0==c)===b||h.$$is_boolean&&1!=h||this.$raise(m.get("ArgumentError"),"step cannot be 0");h=this;if(Infinity===a||-Infinity===a)return f(h),this;if(0<c)for(;h<=a;)f(h),h+=c;else for(;h>=
a;)f(h),h+=c;return this});a.alias(f,"succ","next");a.defn(f,"$times",J=function(){var a=J.$$p||b;J.$$p=null;if(!1===a||a===b)return this.$enum_for("times");for(var c=0;c<this;c++)if(a(c)===z)return z.$v;return this});a.defn(f,"$to_f",function(){return this});a.defn(f,"$to_i",function(){return parseInt(this,10)});a.alias(f,"to_int","to_i");a.defn(f,"$to_r",function(){var c,h=b,f=b;return(c=m.get("Integer")["$==="](this))===b||c.$$is_boolean&&1!=c?(c=a.to_ary(m.get("Math").$frexp(this)),h=null==c[0]?
b:c[0],f=null==c[1]?b:c[1],h=m.get("Math").$ldexp(h,m.get("Float").$$scope.get("MANT_DIG")).$to_i(),f=g(f,m.get("Float").$$scope.get("MANT_DIG")),e(h,m.get("Float").$$scope.get("RADIX")["$**"](f)).$to_r()):m.get("Rational").$new(this,1)});a.defn(f,"$to_s",function(a){var c,h;null==a&&(a=10);(c=!1!==(h=t(a,2))&&h!==b?h:p(a,36))===b||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"base must be between 2 and 36");return this.toString(a)});a.alias(f,"truncate","to_i");a.alias(f,"inspect","to_s");
a.defn(f,"$divmod",G=function(c){var h=x.call(arguments,0),f,e,d=G.$$p;G.$$p=null;return(f=!1!==(e=this["$nan?"]())&&e!==b?e:c["$nan?"]())===b||f.$$is_boolean&&1!=f?(f=this["$infinite?"]())===b||f.$$is_boolean&&1!=f?a.find_super_dispatcher(this,"divmod",G,d).apply(this,h):this.$raise(m.get("FloatDomainError"),"Infinity"):this.$raise(m.get("FloatDomainError"),"NaN")});a.defn(f,"$upto",E=function(a){var c,h,f=E.$$p||b;E.$$p=null;if(f===b)return(c=this.$enum_for,c.$$p=(h=function(){var c=h.$$s||this,
f;((f=m.get("Numeric")["$==="](a))===b||f.$$is_boolean&&1!=f)&&c.$raise(m.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return t(a,c)?0:l(g(a,c),1)},h.$$s=this,h),c).call(this,"upto",a);a.$$is_number||this.$raise(m.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c<=a;c++)if(f(c)===z)return z.$v;return this});a.defn(f,"$zero?",function(){return 0==this});a.defn(f,"$size",function(){return 4});a.defn(f,"$nan?",function(){return isNaN(this)});
a.defn(f,"$finite?",function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)});a.defn(f,"$infinite?",function(){return Infinity==this?1:-Infinity==this?-1:b});a.defn(f,"$positive?",function(){return Infinity==this||0<1/this});return(a.defn(f,"$negative?",function(){return-Infinity==this||0>1/this}),b)&&"negative?"})(a.base,a.get("Numeric"));a.cdecl(a,"Fixnum",a.get("Number"));(function(b,$super){function e(){}var f=e=w(b,$super,"Integer",e),m=f.$$scope;a.defs(f,"$===",function(a){return a.$$is_number?
0===a%1:!1});a.cdecl(m,"MAX",Math.pow(2,30)-1);return a.cdecl(m,"MIN",-Math.pow(2,30))})(a.base,a.get("Numeric"));return function(e,$super){function d(){}var f=d=w(e,$super,"Float",d),m=f.$$scope,u;a.defs(f,"$===",function(a){return!!a.$$is_number});a.cdecl(m,"INFINITY",Infinity);a.cdecl(m,"MAX",Number.MAX_VALUE);a.cdecl(m,"MIN",Number.MIN_VALUE);a.cdecl(m,"NAN",NaN);a.cdecl(m,"DIG",15);a.cdecl(m,"MANT_DIG",53);a.cdecl(m,"RADIX",2);return(u="undefined"!==typeof Number.EPSILON)===b||u.$$is_boolean&&
1!=u?a.cdecl(m,"EPSILON",2.220446049250313E-16):a.cdecl(m,"EPSILON",Number.EPSILON)}(a.base,a.get("Numeric"))};
Opal.modules["corelib/range"]=function(a){function p(a,e){return"number"===typeof a&&"number"===typeof e?a<=e:a["$<="](e)}function t(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="warning";var l=a.top,g=a.nil,k=a.breaker,e=a.slice,d=a.klass;a.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect".split(" "));l.$require("corelib/enumerable");return function(b,
$super){function l(){}var w=l=d(b,$super,"Range",l),r=w.$$proto,n=w.$$scope,v,f,m;r.begin=r.exclude=r.end=g;w.$include(n.get("Enumerable"));r.$$is_range=!0;w.$attr_reader("begin","end");a.defn(w,"$initialize",function(a,b,f){var h;null==f&&(f=!1);((h=a["$<=>"](b))===g||h.$$is_boolean&&1!=h)&&this.$raise(n.get("ArgumentError"));this.begin=a;this.end=b;return this.exclude=f});a.defn(w,"$==",function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1});a.defn(w,
"$===",function(a){return this["$include?"](a)});a.defn(w,"$cover?",function(a){var b;return p(this.begin,a)?(b=this.exclude)===g||b.$$is_boolean&&1!=b?p(a,this.end):t(a,this.end):p(this.begin,a)});a.defn(w,"$each",v=function(){var b,f,m=v.$$p||g,h=g,c=g;v.$$p=null;if(m===g)return this.$enum_for("each");h=this.begin;for(c=this.end;t(h,c);){if(a.yield1(m,h)===k)return k.$v;h=h.$succ()}return(b=(f=this.exclude["$!"](),!1!==f&&f!==g?h["$=="](c):f))===g||b.$$is_boolean&&1!=b||a.yield1(m,h)!==k?this:k.$v});
a.defn(w,"$eql?",function(a){var b,f;return(b=n.get("Range")["$==="](a))===g||b.$$is_boolean&&1!=b?!1:(b=(f=this.exclude["$==="](a["$exclude_end?"]()),!1!==f&&f!==g?this.begin["$eql?"](a.$begin()):f),!1!==b&&b!==g?this.end["$eql?"](a.$end()):b)});a.defn(w,"$exclude_end?",function(){return this.exclude});a.alias(w,"first","begin");a.alias(w,"include?","cover?");a.alias(w,"last","end");a.defn(w,"$max",f=function(){var b=e.call(arguments,0),m=f.$$p,d=m||g;f.$$p=null;return d!==g?a.find_super_dispatcher(this,
"max",f,m).apply(this,b):this.exclude?this.end-1:this.end});a.alias(w,"member?","cover?");a.defn(w,"$min",m=function(){var b=e.call(arguments,0),f=m.$$p,d=f||g;m.$$p=null;return d!==g?a.find_super_dispatcher(this,"min",m,f).apply(this,b):this.begin});a.alias(w,"member?","include?");a.defn(w,"$size",function(){var a,b,f=g,h=g,c=g,f=this.begin,h=this.end;(a=this.exclude)===g||a.$$is_boolean&&1!=a||(h="number"===typeof h?h-1:h["$-"](1));if((a=(b=n.get("Numeric")["$==="](f),!1!==b&&b!==g?n.get("Numeric")["$==="](h):
b))===g||a.$$is_boolean&&1!=a)return g;if(t(h,f))return 0;c=n.get("Float").$$scope.get("INFINITY");return(a=!1!==(b=c["$=="](f.$abs()))&&b!==g?b:h.$abs()["$=="](c))===g||a.$$is_boolean&&1!=a?(Math.abs(h-f)+1).$to_i():c});a.defn(w,"$step",function(a){return this.$raise(n.get("NotImplementedError"))});a.defn(w,"$to_s",function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()});return a.alias(w,"inspect","to_s")}(a.base,null)};
Opal.modules["corelib/proc"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.breaker,l=a.slice,g=a.klass;a.add_stubs(["$raise","$coerce_to!"]);return function(k,$super){function d(){}var b=d=g(k,$super,"Proc",d),z=b.$$proto,x=b.$$scope,w,r;z.$$is_proc=!0;z.$$is_lambda=!1;a.defs(b,"$new",w=function(){var a=w.$$p||p;w.$$p=null;!1!==a&&a!==p||this.$raise(x.get("ArgumentError"),"tried to create a Proc object without a block");return a});a.defn(b,"$call",r=function(){var b=r.$$p||p,d=
arguments.length-0;0>d&&(d=0);for(var f=Array(d),m=0;m<d;m++)f[m]=arguments[m+0];r.$$p=null;b!==p&&(this.$$p=b);b=this.$$is_lambda?this.apply(null,f):a.yieldX(this,f);return b===t?t.$v:b});a.alias(b,"[]","call");a.alias(b,"===","call");a.alias(b,"yield","call");a.defn(b,"$to_proc",function(){return this});a.defn(b,"$lambda?",function(){return!!this.$$is_lambda});a.defn(b,"$arity",function(){return this.$$is_curried?-1:this.$$arity?this.$$arity:this.length});a.defn(b,"$source_location",function(){return p});
a.defn(b,"$binding",function(){this.$$is_curried&&this.$raise(x.get("ArgumentError"),"Can't create Binding");return p});a.defn(b,"$parameters",function(){return this.$$is_curried?[["rest"]]:p});a.defn(b,"$curry",function(a){function b(){var m=l.call(arguments),d=m.length;d>a&&f.$$is_lambda&&!f.$$is_curried&&f.$raise(x.get("ArgumentError"),"wrong number of arguments ("+d+" for "+a+")");if(d>=a)return f.$call.apply(f,m);d=function(){return b.apply(null,m.concat(l.call(arguments)))};d.$$is_lambda=f.$$is_lambda;
d.$$is_curried=!0;return d}var f=this;void 0===a?a=f.length:(a=x.get("Opal")["$coerce_to!"](a,x.get("Integer"),"to_int"),f.$$is_lambda&&a!==f.length&&f.$raise(x.get("ArgumentError"),"wrong number of arguments ("+a+" for "+f.length+")"));b.$$is_lambda=f.$$is_lambda;b.$$is_curried=!0;return b});a.defn(b,"$dup",function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},f;for(f in this)this.hasOwnProperty(f)&&(b[f]=this[f]);return b});return a.alias(b,"clone","dup")}(a.base,
Function)};
Opal.modules["corelib/method"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.slice,l=a.klass;a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(g,$super){function e(){}var d=e=l(g,$super,"Method",e),b=d.$$proto,z=d.$$scope,x;b.method=b.receiver=b.owner=b.name=p;d.$attr_reader("owner","receiver","name");a.defn(d,"$initialize",function(a,b,e){this.receiver=a;this.owner=a.$class();this.name=e;return this.method=b});a.defn(d,"$arity",function(){return this.method.$arity()});a.defn(d,
"$call",x=function(){var a=x.$$p||p,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),d=0;d<b;d++)e[d]=arguments[d+0];x.$$p=null;this.method.$$p=a;return this.method.apply(this.receiver,e)});a.alias(d,"[]","call");a.defn(d,"$unbind",function(){return z.get("UnboundMethod").$new(this.owner,this.method,this.name)});a.defn(d,"$to_proc",function(){var a=this,b=function(){return a.$call.apply(a,t.call(arguments))};b.$$unbound=a.method;b.$$is_lambda=!0;return b});return(a.defn(d,"$inspect",function(){return"#<Method: "+
this.receiver.$class()+"#"+this.name+">"}),p)&&"inspect"})(a.base,null);return function(g,$super){function e(){}var d=e=l(g,$super,"UnboundMethod",e),b=d.$$proto,t=d.$$scope;b.method=b.name=b.owner=p;d.$attr_reader("owner","name");a.defn(d,"$initialize",function(a,b,e){this.owner=a;this.method=b;return this.name=e});a.defn(d,"$arity",function(){return this.method.$arity()});a.defn(d,"$bind",function(a){return t.get("Method").$new(a,this.method,this.name)});return(a.defn(d,"$inspect",function(){return"#<UnboundMethod: "+
this.owner.$name()+"#"+this.name+">"}),p)&&"inspect"}(a.base,null)};Opal.modules["corelib/variables"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.gvars,l=a.hash2;a.add_stubs(["$new"]);t["&"]=t["~"]=t["`"]=t["'"]=p;t.LOADED_FEATURES=t['"']=a.loaded_features;t.LOAD_PATH=t[":"]=[];t["/"]="\n";t[","]=p;a.cdecl(a,"ARGV",[]);a.cdecl(a,"ARGF",a.get("Object").$new());a.cdecl(a,"ENV",l([],{}));t.VERBOSE=!1;t.DEBUG=!1;return t.SAFE=0};
Opal.modules["opal/mini"]=function(a){a.dynamic_require_severity="warning";var p=a.top;a.add_stubs(["$require"]);p.$require("opal/base");p.$require("corelib/nil");p.$require("corelib/boolean");p.$require("corelib/string");p.$require("corelib/comparable");p.$require("corelib/enumerable");p.$require("corelib/enumerator");p.$require("corelib/array");p.$require("corelib/hash");p.$require("corelib/number");p.$require("corelib/range");p.$require("corelib/proc");p.$require("corelib/method");p.$require("corelib/regexp");
return p.$require("corelib/variables")};
Opal.modules["corelib/array/inheritance"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.slice,l=a.klass;a.add_stubs("$new $allocate $initialize $to_proc $__send__ $clone $respond_to? $== $eql? $inspect $hash $* $class $slice $uniq $flatten $- $+".split(" "));(function(g,$super){function e(){}var d=e=l(g,$super,"Array",e),b=d.$$scope;return(a.defs(d,"$inherited",function(a){var e=p,e=b.get("Class").$new(b.get("Array").$$scope.get("Wrapper"));a.$$proto=e.$$proto;a.$$proto.$$class=
a;a.$$alloc=e.$$alloc;a.$$parent=b.get("Array").$$scope.get("Wrapper");a.$allocate=e.$allocate;a.$new=e.$new;a["$[]"]=e["$[]"]}),p)&&"inherited"})(a.base,null);return function(g,$super){function e(){}var d=e=l(g,$super,"Wrapper",e),b=d.$$proto,z=d.$$scope,x,w,r,n,v;b.literal=p;b.$$is_array=!0;a.defs(d,"$allocate",x=function(b){var m=p;null==b&&(b=[]);x.$$p=null;m=a.find_super_dispatcher(this,"allocate",x,null,e).apply(this,[]);m.literal=b;return m});a.defs(d,"$new",w=function(){var b,m,e=w.$$p||p,
d=p,d=arguments.length-0;0>d&&(d=0);for(var q=Array(d),h=0;h<d;h++)q[h]=arguments[h+0];w.$$p=null;d=this.$allocate();(b=(m=d).$initialize,b.$$p=e.$to_proc(),b).apply(m,a.to_a(q));return d});a.defs(d,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return this.$allocate(b)});a.defn(d,"$initialize",r=function(){var b,m,e=r.$$p||p,d=arguments.length-0;0>d&&(d=0);for(var q=Array(d),h=0;h<d;h++)q[h]=arguments[h+0];r.$$p=null;return this.literal=(b=
(m=z.get("Array")).$new,b.$$p=e.$to_proc(),b).apply(m,a.to_a(q))});a.defn(d,"$method_missing",n=function(){var b,m,e=n.$$p||p,d=p,d=arguments.length-0;0>d&&(d=0);for(var q=Array(d),h=0;h<d;h++)q[h]=arguments[h+0];n.$$p=null;d=(b=(m=this.literal).$__send__,b.$$p=e.$to_proc(),b).apply(m,a.to_a(q));return(b=d===this.literal)===p||b.$$is_boolean&&1!=b?d:this});a.defn(d,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(d,"$respond_to?",v=function(b){var m=t.call(arguments,
0),e,d=v.$$p;v.$$p=null;return!1!==(e=a.find_super_dispatcher(this,"respond_to?",v,d).apply(this,m))&&e!==p?e:this.literal["$respond_to?"](b)});a.defn(d,"$==",function(a){return this.literal["$=="](a)});a.defn(d,"$eql?",function(a){return this.literal["$eql?"](a)});a.defn(d,"$to_a",function(){return this.literal});a.defn(d,"$to_ary",function(){return this});a.defn(d,"$inspect",function(){return this.literal.$inspect()});a.defn(d,"$hash",function(){return this.literal.$hash()});a.defn(d,"$*",function(a){var b=
this.literal;a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_array?this.$class().$allocate(a):a});a.defn(d,"$[]",function(a,b){var e=this.literal.$slice(a,b);return e.$$is_array&&(a.$$is_range||void 0!==b)?this.$class().$allocate(e):e});a.alias(d,"slice","[]");a.defn(d,"$uniq",function(){return this.$class().$allocate(this.literal.$uniq())});a.defn(d,"$flatten",function(a){return this.$class().$allocate(this.literal.$flatten(a))});a.defn(d,"$-",function(a){var b=this.literal;
return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)});return(a.defn(d,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}),p)&&"+"}(a.get("Array"),null)};
Opal.modules["corelib/string/inheritance"]=function(a){a.dynamic_require_severity="warning";var p=a.top,t=a.nil,l=a.slice,g=a.klass,k=a.gvars;a.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $%".split(" "));p.$require("corelib/string");(function(e,$super){function b(){}var k=b=g(e,$super,"String",b),l=k.$$scope;return(a.defs(k,"$inherited",function(a){var b=t,b=l.get("Class").$new(l.get("String").$$scope.get("Wrapper"));
a.$$proto=b.$$proto;a.$$proto.$$class=a;a.$$alloc=b.$$alloc;a.$$parent=l.get("String").$$scope.get("Wrapper");a.$allocate=b.$allocate;a.$new=b.$new}),t)&&"inherited"})(a.base,null);return function(e,$super){function b(){}var p=b=g(e,$super,"Wrapper",b),x=p.$$proto,w,r,n,v,f,m;x.literal=t;x.$$is_string=!0;a.defs(p,"$allocate",w=function(f){var e=t;null==f&&(f="");w.$$p=null;e=a.find_super_dispatcher(this,"allocate",w,null,b).apply(this,[]);e.literal=f;return e});a.defs(p,"$new",r=function(){var b,
f,e=r.$$p||t,h=t,h=arguments.length-0;0>h&&(h=0);for(var c=Array(h),m=0;m<h;m++)c[m]=arguments[m+0];r.$$p=null;h=this.$allocate();(b=(f=h).$initialize,b.$$p=e.$to_proc(),b).apply(f,a.to_a(c));return h});a.defs(p,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),f=0;f<a;f++)b[f]=arguments[f+0];return this.$allocate(b)});a.defn(p,"$initialize",function(a){null==a&&(a="");return this.literal=a});a.defn(p,"$method_missing",n=function(){var b,f,e=n.$$p||t,h=t,h=arguments.length-0;
0>h&&(h=0);for(var c=Array(h),m=0;m<h;m++)c[m]=arguments[m+0];n.$$p=null;h=(b=(f=this.literal).$__send__,b.$$p=e.$to_proc(),b).apply(f,a.to_a(c));return(b=null!=h.$$is_string)===t||b.$$is_boolean&&1!=b?h:(b=h==this.literal)===t||b.$$is_boolean&&1!=b?this.$class().$allocate(h):this});a.defn(p,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(p,"$respond_to?",v=function(b){var f=l.call(arguments,0),e,h=v.$$p;v.$$p=null;return!1!==(e=a.find_super_dispatcher(this,"respond_to?",
v,h).apply(this,f))&&e!==t?e:this.literal["$respond_to?"](b)});a.defn(p,"$==",function(a){return this.literal["$=="](a)});a.alias(p,"eql?","==");a.alias(p,"===","==");a.defn(p,"$to_s",function(){return this.literal});a.alias(p,"to_str","to_s");a.defn(p,"$inspect",function(){return this.literal.$inspect()});a.defn(p,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)});a.defn(p,"$*",function(a){var b=this.literal;a="number"===typeof b&&"number"===typeof a?
b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):a});a.defn(p,"$split",function(a,b){var f,h,c;return(f=(h=this.literal.$split(a,b)).$map,f.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=t);return b.$class().$allocate(a)},c.$$s=this,c),f).call(h)});a.defn(p,"$replace",function(a){return this.literal=a});a.defn(p,"$each_line",f=function(b){var e,m,h,c=f.$$p||t;null==k["/"]&&(k["/"]=t);null==b&&(b=k["/"]);f.$$p=null;return c===t?this.$enum_for("each_line",b):(e=(m=this.literal).$each_line,
e.$$p=(h=function(b){var f=h.$$s||this,e;null==b&&(b=t);return e=a.yield1(c,f.$class().$allocate(b)),e},h.$$s=this,h),e).call(m,b)});a.defn(p,"$lines",m=function(a){var b,f=m.$$p||t,h=t;null==k["/"]&&(k["/"]=t);null==a&&(a=k["/"]);m.$$p=null;h=(b=this.$each_line,b.$$p=f.$to_proc(),b).call(this,a);return!1!==f&&f!==t?this:h.$to_a()});return(a.defn(p,"$%",function(a){return this.literal["$%"](a)}),t)&&"%"}(a.get("String"),null)};
Opal.modules["corelib/string/encoding"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var t,l,g,k,e,d,b,z=a.top,x=a.nil,w=a.breaker,r=a.klass,n=a.hash2;a.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
z.$require("corelib/string");(function(b,$super){function e(){}var d=e=r(b,$super,"Encoding",e),y=d.$$proto,q=d.$$scope,h;y.ascii=y.dummy=y.name=x;a.defs(d,"$register",h=function(a,b){var e,m,d,u,y=h.$$p||x,g=x,k=x;null==b&&(b=n([],{}));h.$$p=null;g=p([a],!1!==(e=b["$[]"]("aliases"))&&e!==x?e:[]);k=(e=(m=q.get("Class")).$new,e.$$p=y.$to_proc(),e).call(m,this).$new(a,g,!1!==(e=b["$[]"]("ascii"))&&e!==x?e:!1,!1!==(e=b["$[]"]("dummy"))&&e!==x?e:!1);return(e=(d=g).$each,e.$$p=(u=function(a){var c=u.$$s||
this;null==a&&(a=x);return c.$const_set(a.$sub("-","_"),k)},u.$$s=this,u),e).call(d)});a.defs(d,"$find",function(c){try{var b,h,e,m=x,m=c.$upcase();(b=(h=this.$constants()).$each,b.$$p=(e=function(c){var b=e.$$s||this,h,d,u=x;null==c&&(c=x);u=b.$const_get(c);if((h=q.get("Encoding")["$==="](u))===x||h.$$is_boolean&&1!=h||(h=!1!==(d=u.$name()["$=="](m))&&d!==x?d:u.$names()["$include?"](m))===x||h.$$is_boolean&&1!=h)return x;a.ret(u)},e.$$s=this,e),b).call(h);return this.$raise(q.get("ArgumentError"),
"unknown encoding name - "+c)}catch(d){if(d===a.returner)return d.$v;throw d;}});(function(a){return a.$attr_accessor("default_external")})(a.get_singleton_class(d));d.$attr_reader("name","names");a.defn(d,"$initialize",function(a,b,h,e){this.name=a;this.names=b;this.ascii=h;return this.dummy=e});a.defn(d,"$ascii_compatible?",function(){return this.ascii});a.defn(d,"$dummy?",function(){return this.dummy});a.defn(d,"$to_s",function(){return this.name});a.defn(d,"$inspect",function(){var a;return"#<Encoding:"+
this.name+((a=this.dummy)===x||a.$$is_boolean&&1!=a?x:" (dummy)")+">"});a.defn(d,"$each_byte",function(){return this.$raise(q.get("NotImplementedError"))});a.defn(d,"$getbyte",function(){return this.$raise(q.get("NotImplementedError"))});a.defn(d,"$bytesize",function(){return this.$raise(q.get("NotImplementedError"))});(function(a,$super){function b(){}b=r(a,$super,"EncodingError",b);return x})(q.base,q.get("StandardError"));return function(a,$super){function b(){}b=r(a,$super,"CompatibilityError",
b);return x}(q.base,q.get("EncodingError"))})(a.base,null);(t=(l=a.get("Encoding")).$register,t.$$p=(g=function(){var b=g.$$s||this,f;a.def(b,"$each_byte",f=function(b){var e,d=f.$$p||x;f.$$p=null;for(var q=0,h=b.length;q<h;q++){var c=b.charCodeAt(q);if(127>=c)(e=a.yield1(d,c))===w?w.$v:e;else for(var c=encodeURIComponent(b.charAt(q)).substr(1).split("%"),g=0,k=c.length;g<k;g++)(e=a.yield1(d,parseInt(c[g],16)))===w?w.$v:e}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),x)&&
"bytesize"},g.$$s=z,g),t).call(l,"UTF-8",n(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(t=(k=a.get("Encoding")).$register,t.$$p=(e=function(){var b=e.$$s||this,f;a.def(b,"$each_byte",f=function(b){var e,d=f.$$p||x;f.$$p=null;for(var q=0,h=b.length;q<h;q++){var c=b.charCodeAt(q);(e=a.yield1(d,c&255))===w?w.$v:e;(e=a.yield1(d,c>>8))===w?w.$v:e}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),x)&&"bytesize"},e.$$s=z,e),t).call(k,"UTF-16LE");(t=(d=a.get("Encoding")).$register,
t.$$p=(b=function(){var e=b.$$s||this,f;a.def(e,"$each_byte",f=function(b){var e,d=f.$$p||x;f.$$p=null;for(var q=0,h=b.length;q<h;q++)(e=a.yield1(d,b.charCodeAt(q)&255))===w?w.$v:e});return(a.def(e,"$bytesize",function(){return this.$bytes().$length()}),x)&&"bytesize"},b.$$s=z,b),t).call(d,"ASCII-8BIT",n(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(b,$super){function e(){}var d=e=r(b,$super,"String",e),y=d.$$scope,q;d.$$proto.encoding=x;String.prototype.encoding=y.get("Encoding").$$scope.get("UTF_16LE");
a.defn(d,"$bytes",function(){return this.$each_byte().$to_a()});a.defn(d,"$bytesize",function(){return this.encoding.$bytesize(this)});a.defn(d,"$each_byte",q=function(){var a,c,b=q.$$p||x;q.$$p=null;if(b===x)return this.$enum_for("each_byte");(a=(c=this.encoding).$each_byte,a.$$p=b.$to_proc(),a).call(c,this);return this});a.defn(d,"$encode",function(a){return this.$dup().$force_encoding(a)});a.defn(d,"$encoding",function(){return this.encoding});a.defn(d,"$force_encoding",function(a){var c;a=y.get("Opal")["$coerce_to!"](a,
y.get("String"),"to_str");a=y.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(c=a["$nil?"]())===x||c.$$is_boolean&&1!=c||this.$raise(y.get("ArgumentError"),"unknown encoding name - "+a);c=new String(this);c.encoding=a;return c});return(a.defn(d,"$getbyte",function(a){return this.encoding.$getbyte(this,a)}),x)&&"getbyte"}(a.base,null)};
Opal.modules["corelib/math"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.module;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(l){l=t(l,"Math");var g=l.$$scope,k;a.cdecl(g,"E",Math.E);a.cdecl(g,"PI",Math.PI);a.cdecl(g,"DomainError",g.get("Class").$new(g.get("StandardError")));a.defs(l,"$checked",function(a){var d=arguments.length-1;0>d&&(d=0);for(var b=Array(d),k=0;k<d;k++)b[k]=
arguments[k+1];if(isNaN(b[0])||2==b.length&&isNaN(b[1]))return NaN;d=Math[a].apply(null,b);isNaN(d)&&this.$raise(g.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return d});a.defs(l,"$float!",function(e){try{return this.$Float(e)}catch(d){if(a.rescue(d,[g.get("ArgumentError")]))try{return this.$raise(g.get("Opal").$type_error(e,g.get("Float")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw d;}});a.defs(l,"$integer!",function(e){try{return this.$Integer(e)}catch(d){if(a.rescue(d,
[g.get("ArgumentError")]))try{return this.$raise(g.get("Opal").$type_error(e,g.get("Integer")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw d;}});l.$module_function();a.defn(l,"$acos",function(a){return g.get("Math").$checked("acos",g.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.acosh)===p||k.$$is_boolean&&1!=k)Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};a.defn(l,"$acosh",function(a){return g.get("Math").$checked("acosh",g.get("Math")["$float!"](a))});
a.defn(l,"$asin",function(a){return g.get("Math").$checked("asin",g.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.asinh)===p||k.$$is_boolean&&1!=k)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};a.defn(l,"$asinh",function(a){return g.get("Math").$checked("asinh",g.get("Math")["$float!"](a))});a.defn(l,"$atan",function(a){return g.get("Math").$checked("atan",g.get("Math")["$float!"](a))});a.defn(l,"$atan2",function(a,d){return g.get("Math").$checked("atan2",g.get("Math")["$float!"](a),
g.get("Math")["$float!"](d))});if((k="undefined"!==typeof Math.atanh)===p||k.$$is_boolean&&1!=k)Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))};a.defn(l,"$atanh",function(a){return g.get("Math").$checked("atanh",g.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.cbrt)===p||k.$$is_boolean&&1!=k)Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var d=a,b=0;.125>d;)d*=8,b--;for(;1<d;)d*=.125,b++;for(d=(-.46946116*d+1.072302)*d+.3812513;0>b;)d*=.5,b++;for(;0<b;)d*=
2,b--;d=2/3*d+1/3*a/(d*d);d=2/3*d+1/3*a/(d*d);d=2/3*d+1/3*a/(d*d);return 2/3*d+1/3*a/(d*d)};a.defn(l,"$cbrt",function(a){return g.get("Math").$checked("cbrt",g.get("Math")["$float!"](a))});a.defn(l,"$cos",function(a){return g.get("Math").$checked("cos",g.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.cosh)===p||k.$$is_boolean&&1!=k)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};a.defn(l,"$cosh",function(a){return g.get("Math").$checked("cosh",g.get("Math")["$float!"](a))});
if((k="undefined"!==typeof Math.erf)===p||k.$$is_boolean&&1!=k)Math.erf=function(a){var d=1;0>a&&(d=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return d*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*b+.254829592)*b*Math.exp(-a*a))};a.defn(l,"$erf",function(a){return g.get("Math").$checked("erf",g.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.erfc)===p||k.$$is_boolean&&1!=k)Math.erfc=function(a){var d=Math.abs(a),b=1/(.5*d+1),d=b*Math.exp(-d*d-1.26551223+b*(b*(b*(b*(b*
(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-d:d};a.defn(l,"$erfc",function(a){return g.get("Math").$checked("erfc",g.get("Math")["$float!"](a))});a.defn(l,"$exp",function(a){return g.get("Math").$checked("exp",g.get("Math")["$float!"](a))});a.defn(l,"$frexp",function(a){a=g.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var d=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,d),d]});a.defn(l,
"$gamma",function(a){a=g.get("Math")["$float!"](a);var d,b,k,l;k=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(g.get("DomainError"),'Numerical argument is out of domain - "gamma"');
if(g.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;b=a-2;for(--a;1<b;)a*=b,b--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*g.get("Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return b=a*a,d=b*a,k=d*a,l=k*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*b)-139/(51840*d)-571/(2488320*k)+163879/(209018880*l)+5246819/(75246796800*l*a));--a;b=k[0];for(d=1;d<k.length;++d)b+=k[d]/
(a+d);d=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(d,a+.5)*Math.exp(-d)*b});if((k="undefined"!==typeof Math.hypot)===p||k.$$is_boolean&&1!=k)Math.hypot=function(a,d){return Math.sqrt(a*a+d*d)};a.defn(l,"$hypot",function(a,d){return g.get("Math").$checked("hypot",g.get("Math")["$float!"](a),g.get("Math")["$float!"](d))});a.defn(l,"$ldexp",function(a,d){a=g.get("Math")["$float!"](a);d=g.get("Math")["$integer!"](d);isNaN(d)&&this.$raise(g.get("RangeError"),"float NaN out of range of integer");
return a*Math.pow(2,d)});a.defn(l,"$lgamma",function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(g.get("Math").$gamma(a))),0>g.get("Math").$gamma(a)?-1:1]});a.defn(l,"$log",function(a,d){var b;(b=g.get("String")["$==="](a))===p||b.$$is_boolean&&1!=b||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));if((b=null==d)===p||b.$$is_boolean&&1!=b){(b=g.get("String")["$==="](d))===p||b.$$is_boolean&&1!=b||this.$raise(g.get("Opal").$type_error(d,g.get("Float")));b=g.get("Math").$checked("log",g.get("Math")["$float!"](a));
var k=g.get("Math").$checked("log",g.get("Math")["$float!"](d));return"number"===typeof b&&"number"===typeof k?b/k:b["$/"](k)}return g.get("Math").$checked("log",g.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.log10)===p||k.$$is_boolean&&1!=k)Math.log10=function(a){return Math.log(a)/Math.LN10};a.defn(l,"$log10",function(a){var d;(d=g.get("String")["$==="](a))===p||d.$$is_boolean&&1!=d||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));return g.get("Math").$checked("log10",g.get("Math")["$float!"](a))});
if((k="undefined"!==typeof Math.log2)===p||k.$$is_boolean&&1!=k)Math.log2=function(a){return Math.log(a)/Math.LN2};a.defn(l,"$log2",function(a){var d;(d=g.get("String")["$==="](a))===p||d.$$is_boolean&&1!=d||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));return g.get("Math").$checked("log2",g.get("Math")["$float!"](a))});a.defn(l,"$sin",function(a){return g.get("Math").$checked("sin",g.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.sinh)===p||k.$$is_boolean&&1!=k)Math.sinh=
function(a){return(Math.exp(a)-Math.exp(-a))/2};a.defn(l,"$sinh",function(a){return g.get("Math").$checked("sinh",g.get("Math")["$float!"](a))});a.defn(l,"$sqrt",function(a){return g.get("Math").$checked("sqrt",g.get("Math")["$float!"](a))});a.defn(l,"$tan",function(a){var d;a=g.get("Math")["$float!"](a);return(d=a["$infinite?"]())===p||d.$$is_boolean&&1!=d?g.get("Math").$checked("tan",g.get("Math")["$float!"](a)):g.get("Float").$$scope.get("NAN")});if((k="undefined"!==typeof Math.tanh)===p||k.$$is_boolean&&
1!=k)Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};a.defn(l,"$tanh",function(a){return g.get("Math").$checked("tanh",g.get("Math")["$float!"](a))})}(a.base)};
Opal.modules["corelib/complex"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var k=a.top,e=a.nil,d=a.klass,b=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
k.$require("corelib/numeric");(function(b,$super){function k(){}var r=k=d(b,$super,"Complex",k),n=r.$$proto,v=r.$$scope;n.real=n.imag=e;a.defs(r,"$rect",function(a,b){var d,y,q,h;null==b&&(b=0);((d=(y=(q=(h=v.get("Numeric")["$==="](a),!1!==h&&h!==e?a["$real?"]():h),!1!==q&&q!==e?v.get("Numeric")["$==="](b):q),!1!==y&&y!==e?b["$real?"]():y))===e||d.$$is_boolean&&1!=d)&&this.$raise(v.get("TypeError"),"not a real");return this.$new(a,b)});(function(b){return a.alias(b,"rectangular","rect")})(a.get_singleton_class(r));
a.defs(r,"$polar",function(a,b){var d,y,q,h;null==b&&(b=0);((d=(y=(q=(h=v.get("Numeric")["$==="](a),!1!==h&&h!==e?a["$real?"]():h),!1!==q&&q!==e?v.get("Numeric")["$==="](b):q),!1!==y&&y!==e?b["$real?"]():y))===e||d.$$is_boolean&&1!=d)&&this.$raise(v.get("TypeError"),"not a real");return this.$new(p(a,v.get("Math").$cos(b)),p(a,v.get("Math").$sin(b)))});r.$attr_reader("real","imag");a.defn(r,"$initialize",function(a,b){null==b&&(b=0);this.real=a;return this.imag=b});a.defn(r,"$coerce",function(a){var b,
d;return(b=v.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(d=v.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))===e||b.$$is_boolean&&1!=b?this.$raise(v.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[v.get("Complex").$new(a,0),this]:[a,this]});a.defn(r,"$==",function(a){var b,d;return(b=v.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(d=v.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))===e||b.$$is_boolean&&1!=b?a["$=="](this):this.real["$=="](a)?
this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real())});a.defn(r,"$-@",function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())});a.defn(r,"$+",function(a){var b,d;return(b=v.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(d=v.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))===e||b.$$is_boolean&&1!=b?this.$__coerced__("+",a):this.$Complex(t(this.real,a),this.imag):this.$Complex(t(this.real,a.$real()),
t(this.imag,a.$imag()))});a.defn(r,"$-",function(a){var b,d;return(b=v.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(d=v.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))===e||b.$$is_boolean&&1!=b?this.$__coerced__("-",a):this.$Complex(l(this.real,a),this.imag):this.$Complex(l(this.real,a.$real()),l(this.imag,a.$imag()))});a.defn(r,"$*",function(a){var b,d;return(b=v.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(d=v.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():
d))===e||b.$$is_boolean&&1!=b?this.$__coerced__("*",a):this.$Complex(p(this.real,a),p(this.imag,a)):this.$Complex(l(p(this.real,a.$real()),p(this.imag,a.$imag())),t(p(this.real,a.$imag()),p(this.imag,a.$real())))});a.defn(r,"$/",function(a){var b,d,y,q,h;return(b=v.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(d=v.get("Numeric")["$==="](a),!1!==d&&d!==e?a["$real?"]():d))===e||b.$$is_boolean&&1!=b?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(b=!1!==(d=!1!==
(y=!1!==(q=(h=v.get("Number")["$==="](this.real),!1!==h&&h!==e?this.real["$nan?"]():h))&&q!==e?q:(h=v.get("Number")["$==="](this.imag),!1!==h&&h!==e?this.imag["$nan?"]():h))&&y!==e?y:(q=v.get("Number")["$==="](a.$real()),!1!==q&&q!==e?a.$real()["$nan?"]():q))&&d!==e?d:(y=v.get("Number")["$==="](a.$imag()),!1!==y&&y!==e?a.$imag()["$nan?"]():y))===e||b.$$is_boolean&&1!=b?g(p(this,a.$conj()),a.$abs2()):v.get("Complex").$new(v.get("Float").$$scope.get("NAN"),v.get("Float").$$scope.get("NAN"))});a.defn(r,
"$**",function(b){var d,u,y,q,h=e,c=e,k=e,B=e,n=e,B=k=c=h=n=h=e;if(b["$=="](0))return v.get("Complex").$new(1,0);if((d=v.get("Complex")["$==="](b))===e||d.$$is_boolean&&1!=d){if((d=v.get("Integer")["$==="](b))===e||d.$$is_boolean&&1!=d){if((d=!1!==(u=v.get("Float")["$==="](b))&&u!==e?u:v.get("Rational")["$==="](b))===e||d.$$is_boolean&&1!=d)return this.$__coerced__("**",b);d=a.to_ary(this.$polar());h=null==d[0]?e:d[0];c=null==d[1]?e:d[1];return v.get("Complex").$polar(h["$**"](b),p(c,b))}if("number"===
typeof b?0<b:b["$>"](0)){h=n=this;for(c=l(b,1);(u=c["$!="](0))!==e&&(!u.$$is_boolean||1==u);){for(;(y=(q=a.to_ary(c.$divmod(2)),k=null==q[0]?e:q[0],B=null==q[1]?e:q[1],B["$=="](0)))!==e&&(!y.$$is_boolean||1==y);)n=this.$Complex(l(p(n.$real(),n.$real()),p(n.$imag(),n.$imag())),p(p(2,n.$real()),n.$imag())),c=k;h=p(h,n);c=l(c,1)}return h}return g(v.get("Rational").$new(1,1),this)["$**"](b["$-@"]())}d=a.to_ary(this.$polar());h=null==d[0]?e:d[0];c=null==d[1]?e:d[1];k=b.$real();B=b.$imag();n=v.get("Math").$exp(l(p(k,
v.get("Math").$log(h)),p(B,c)));h=t(p(c,k),p(B,v.get("Math").$log(h)));return v.get("Complex").$polar(n,h)});a.defn(r,"$abs",function(){return v.get("Math").$hypot(this.real,this.imag)});a.defn(r,"$abs2",function(){return t(p(this.real,this.real),p(this.imag,this.imag))});a.defn(r,"$angle",function(){return v.get("Math").$atan2(this.imag,this.real)});a.alias(r,"arg","angle");a.defn(r,"$conj",function(){return this.$Complex(this.real,this.imag["$-@"]())});a.alias(r,"conjugate","conj");a.defn(r,"$denominator",
function(){return this.real.$denominator().$lcm(this.imag.$denominator())});a.alias(r,"divide","/");a.defn(r,"$eql?",function(a){var b,d;return b=(d=v.get("Complex")["$==="](a),!1!==d&&d!==e?this.real.$class()["$=="](this.imag.$class()):d),!1!==b&&b!==e?this["$=="](a):b});a.defn(r,"$fdiv",function(a){var b;((b=v.get("Numeric")["$==="](a))===e||b.$$is_boolean&&1!=b)&&this.$raise(v.get("TypeError"),""+a.$class()+" can't be coerced into Complex");return g(this,a)});a.defn(r,"$hash",function(){return"Complex:"+
this.real+":"+this.imag});a.alias(r,"imaginary","imag");a.defn(r,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(r,"magnitude","abs");a.defn(r,"$numerator",function(){var a=e,a=this.$denominator();return this.$Complex(p(this.real.$numerator(),g(a,this.real.$denominator())),p(this.imag.$numerator(),g(a,this.imag.$denominator())))});a.alias(r,"phase","arg");a.defn(r,"$polar",function(){return[this.$abs(),this.$arg()]});a.alias(r,"quo","/");a.defn(r,"$rationalize",function(a){var b;1<arguments.length&&
this.$raise(v.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(b=this.imag["$!="](0))===e||b.$$is_boolean&&1!=b||this.$raise(v.get("RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)});a.defn(r,"$real?",function(){return!1});a.defn(r,"$rect",function(){return[this.real,this.imag]});a.alias(r,"rectangular","rect");a.defn(r,"$to_f",function(){this.imag["$=="](0)||this.$raise(v.get("RangeError"),"can't convert "+this+" into Float");
return this.real.$to_f()});a.defn(r,"$to_i",function(){this.imag["$=="](0)||this.$raise(v.get("RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()});a.defn(r,"$to_r",function(){this.imag["$=="](0)||this.$raise(v.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()});a.defn(r,"$to_s",function(){var a,b,d,y=e,y=this.real.$inspect(),y=(a=!1!==(b=(d=v.get("Number")["$==="](this.imag),!1!==d&&d!==e?this.imag["$nan?"]():d))&&b!==e?b:this.imag["$positive?"]())===
e||a.$$is_boolean&&1!=a?t(y,"-"):t(y,"+"),y=t(y,this.imag.$abs().$inspect());(a=(b=v.get("Number")["$==="](this.imag),!1!==b&&b!==e?!1!==(d=this.imag["$nan?"]())&&d!==e?d:this.imag["$infinite?"]():b))===e||a.$$is_boolean&&1!=a||(y=t(y,"*"));return t(y,"i")});return a.cdecl(v,"I",r.$new(0,1))})(a.base,a.get("Numeric"));return function(d){d=b(d,"Kernel");var g=d.$$scope;a.defn(d,"$Complex",function(a,b){null==b&&(b=e);return!1!==b&&b!==e?g.get("Complex").$new(a,b):g.get("Complex").$new(a,0)})}(a.base)};
Opal.modules["corelib/rational"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var e=a.top,d=a.nil,b=a.klass,
z=a.module;a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));e.$require("corelib/numeric");(function(e,$super){function r(){}var n=r=b(e,$super,"Rational",r),v=n.$$proto,f=n.$$scope;v.num=v.den=d;a.defs(n,"$reduce",function(a,b){var e=d;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(f.get("ZeroDivisionError"),
"divided by 0");else if(p(b,0))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);e=a.$gcd(b);return this.$new(t(a,e),t(b,e))});a.defs(n,"$convert",function(a,b){var e,q,h;(e=!1!==(q=a["$nil?"]())&&q!==d?q:b["$nil?"]())===d||e.$$is_boolean&&1!=e||this.$raise(f.get("TypeError"),"cannot convert nil into Rational");if((e=(q=f.get("Integer")["$==="](a),!1!==q&&q!==d?f.get("Integer")["$==="](b):q))!==d&&(!e.$$is_boolean||1==e))return this.$reduce(a,b);(e=!1!==(q=!1!==(h=f.get("Float")["$==="](a))&&
h!==d?h:f.get("String")["$==="](a))&&q!==d?q:f.get("Complex")["$==="](a))===d||e.$$is_boolean&&1!=e||(a=a.$to_r());(e=!1!==(q=!1!==(h=f.get("Float")["$==="](b))&&h!==d?h:f.get("String")["$==="](b))&&q!==d?q:f.get("Complex")["$==="](b))===d||e.$$is_boolean&&1!=e||(b=b.$to_r());return(e=(q=b["$equal?"](1),!1!==q&&q!==d?f.get("Integer")["$==="](a)["$!"]():q))===d||e.$$is_boolean&&1!=e?(e=(q=f.get("Numeric")["$==="](a),!1!==q&&q!==d?f.get("Numeric")["$==="](b):q))===d||e.$$is_boolean&&1!=e?this.$reduce(a,
b):t(a,b):f.get("Opal")["$coerce_to!"](a,f.get("Rational"),"to_r")});n.$attr_reader("numerator","denominator");a.defn(n,"$initialize",function(a,b){this.num=a;return this.den=b});a.defn(n,"$numerator",function(){return this.num});a.defn(n,"$denominator",function(){return this.den});a.defn(n,"$coerce",function(a){var b=d,b=a;return f.get("Rational")["$==="](b)?[a,this]:f.get("Integer")["$==="](b)?[a.$to_r(),this]:f.get("Float")["$==="](b)?[a,this.$to_f()]:d});a.defn(n,"$==",function(a){var b=d,b=a;
return f.get("Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):f.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):f.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)});a.defn(n,"$<=>",function(a){var b=d,b=a;return f.get("Rational")["$==="](b)?l(g(this.num,a.$denominator()),g(this.den,a.$numerator()))["$<=>"](0):f.get("Integer")["$==="](b)?l(this.num,g(this.den,a))["$<=>"](0):f.get("Float")["$==="](b)?
this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)});a.defn(n,"$+",function(a){var b=d,e=b=d;b=a;f.get("Rational")["$==="](b)?(b=k(g(this.num,a.$denominator()),g(this.den,a.$numerator())),e=g(this.den,a.$denominator()),a=this.$Rational(b,e)):a=f.get("Integer")["$==="](b)?this.$Rational(k(this.num,g(a,this.den)),this.den):f.get("Float")["$==="](b)?k(this.$to_f(),a):this.$__coerced__("+",a);return a});a.defn(n,"$-",function(a){var b=d,e=b=d;b=a;f.get("Rational")["$==="](b)?(b=l(g(this.num,a.$denominator()),
g(this.den,a.$numerator())),e=g(this.den,a.$denominator()),a=this.$Rational(b,e)):a=f.get("Integer")["$==="](b)?this.$Rational(l(this.num,g(a,this.den)),this.den):f.get("Float")["$==="](b)?l(this.$to_f(),a):this.$__coerced__("-",a);return a});a.defn(n,"$*",function(a){var b=d,e=b=d;b=a;f.get("Rational")["$==="](b)?(b=g(this.num,a.$numerator()),e=g(this.den,a.$denominator()),a=this.$Rational(b,e)):a=f.get("Integer")["$==="](b)?this.$Rational(g(this.num,a),this.den):f.get("Float")["$==="](b)?g(this.$to_f(),
a):this.$__coerced__("*",a);return a});a.defn(n,"$/",function(a){var b=d,e=b=d;b=a;f.get("Rational")["$==="](b)?(b=g(this.num,a.$denominator()),e=g(this.den,a.$numerator()),a=this.$Rational(b,e)):a=f.get("Integer")["$==="](b)?a["$=="](0)?t(this.$to_f(),0):this.$Rational(this.num,g(this.den,a)):f.get("Float")["$==="](b)?t(this.$to_f(),a):this.$__coerced__("/",a);return a});a.defn(n,"$**",function(a){var b,e=d,e=a;return f.get("Integer")["$==="](e)?(b=this["$=="](0)?p(a,0):this["$=="](0))===d||b.$$is_boolean&&
1!=b?("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):p(a,0)?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):f.get("Float").$$scope.get("INFINITY"):f.get("Float")["$==="](e)?this.$to_f()["$**"](a):f.get("Rational")["$==="](e)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?p(a,0)?this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),
this.den["$**"](a.$numerator())):(b=this["$=="](0)?p(a,0):this["$=="](0))===d||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(f.get("ZeroDivisionError"),"divided by 0"):this.$__coerced__("**",a)});a.defn(n,"$abs",function(){return this.$Rational(this.num.$abs(),this.den.$abs())});a.defn(n,"$ceil",function(a){null==a&&(a=0);return a["$=="](0)?t(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)});a.alias(n,"divide","/");a.defn(n,"$floor",function(a){null==a&&(a=0);
return a["$=="](0)?t(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)});a.defn(n,"$hash",function(){return"Rational:"+this.num+":"+this.den});a.defn(n,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(n,"quo","/");a.defn(n,"$rationalize",function(a){1<arguments.length&&this.$raise(f.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var b=a.$abs(),d=l(this,b),b=k(this,b),e=0,h=1,c=1,g=0,B,n,v;;){B=d.$ceil();
if("number"===typeof B&&"number"===typeof b?B<=b:B["$<="](b))break;v=B-1;B=v*h+e;n=v*g+c;e=t(1,l(b,v));b=t(1,l(d,v));d=e;e=h;c=g;h=B;g=n}return this.$Rational(B*h+e,B*g+c)});a.defn(n,"$round",function(a){var b=d,f=d,b=d;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;b=k(g(this.num.$abs(),2),this.den);f=g(this.den,2);b=t(b,f).$truncate();return p(this.num,0)?b["$-@"]():b});a.defn(n,"$to_f",function(){return t(this.num,
this.den)});a.defn(n,"$to_i",function(){return this.$truncate()});a.defn(n,"$to_r",function(){return this});a.defn(n,"$to_s",function(){return""+this.num+"/"+this.den});a.defn(n,"$truncate",function(a){null==a&&(a=0);return a["$=="](0)?p(this.num,0)?this.$ceil():this.$floor():this.$with_precision("truncate",a)});return(a.defn(n,"$with_precision",function(a,b){var e,q=d,h=d;((e=f.get("Integer")["$==="](b))===d||e.$$is_boolean&&1!=e)&&this.$raise(f.get("TypeError"),"not an Integer");q=10["$**"](b);
h=g(this,q);return p(b,1)?t(h.$send(a),q).$to_i():this.$Rational(h.$send(a),q)}),d)&&"with_precision"})(a.base,a.get("Numeric"));return function(b){b=z(b,"Kernel");var d=b.$$scope;a.defn(b,"$Rational",function(a,b){null==b&&(b=1);return d.get("Rational").$convert(a,b)})}(a.base)};
Opal.modules["corelib/time"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="warning";var k=a.top,e=a.nil,d=a.slice,b=a.klass,z=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
k.$require("corelib/comparable");return function(k,$super){function r(){}function n(a,c,b,d,m,q){a=a.$$is_string?parseInt(a,10):f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int");if(c===e)c=1;else if(!c.$$is_number)if(c["$respond_to?"]("to_str"))switch(c=c.$to_str(),c.toLowerCase()){case "jan":c=1;break;case "feb":c=2;break;case "mar":c=3;break;case "apr":c=4;break;case "may":c=5;break;case "jun":c=6;break;case "jul":c=7;break;case "aug":c=8;break;case "sep":c=9;break;case "oct":c=10;break;
case "nov":c=11;break;case "dec":c=12;break;default:c=c.$to_i()}else c=f.get("Opal")["$coerce_to!"](c,f.get("Integer"),"to_int");(1>c||12<c)&&v.$raise(f.get("ArgumentError"),"month out of range: "+c);--c;b=b===e?1:b.$$is_string?parseInt(b,10):f.get("Opal")["$coerce_to!"](b,f.get("Integer"),"to_int");(1>b||31<b)&&v.$raise(f.get("ArgumentError"),"day out of range: "+b);d=d===e?0:d.$$is_string?parseInt(d,10):f.get("Opal")["$coerce_to!"](d,f.get("Integer"),"to_int");(0>d||24<d)&&v.$raise(f.get("ArgumentError"),
"hour out of range: "+d);m=m===e?0:m.$$is_string?parseInt(m,10):f.get("Opal")["$coerce_to!"](m,f.get("Integer"),"to_int");(0>m||59<m)&&v.$raise(f.get("ArgumentError"),"min out of range: "+m);q===e?q=0:q.$$is_number||(q=q.$$is_string?parseInt(q,10):f.get("Opal")["$coerce_to!"](q,f.get("Integer"),"to_int"));(0>q||60<q)&&v.$raise(f.get("ArgumentError"),"sec out of range: "+q);return[a,c,b,d,m,q]}var v=r=b(k,$super,"Time",r),f=v.$$scope;v.$include(f.get("Comparable"));var m="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
u="Sun Mon Tue Wed Thu Fri Sat".split(" "),y="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),q="January February March April May June July August September October November December".split(" ");a.defs(v,"$at",function(a,c){var b;if(f.get("Time")["$==="](a))return void 0!==c&&this.$raise(f.get("TypeError"),"can't convert Time into an exact number"),b=new Date(a.getTime()),b.is_utc=a.is_utc,b;a.$$is_number||(a=f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int"));if(void 0===c)return new Date(1E3*
a);c.$$is_number||(c=f.get("Opal")["$coerce_to!"](c,f.get("Integer"),"to_int"));return new Date(1E3*a+c/1E3)});a.defs(v,"$new",function(a,c,b,d,m,q,u){null==c&&(c=e);null==b&&(b=e);null==d&&(d=e);null==m&&(m=e);null==q&&(q=e);null==u&&(u=e);if(void 0===a)return new Date;u!==e&&this.$raise(f.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");q=n(a,c,b,d,m,q);a=q[0];c=q[1];b=q[2];d=q[3];m=q[4];q=q[5];c=new Date(a,c,b,d,m,0,1E3*q);100>a&&c.setFullYear(a);return c});
a.defs(v,"$local",function(a,c,b,f,m,q,u,g,y,k){null==c&&(c=e);null==b&&(b=e);null==f&&(f=e);null==m&&(m=e);null==q&&(q=e);null==u&&(u=e);null==g&&(g=e);null==y&&(y=e);null==k&&(k=e);var C;10===arguments.length&&(C=d.call(arguments),a=C[5],c=C[4],b=C[3],f=C[2],m=C[1],q=C[0]);C=n(a,c,b,f,m,q);a=C[0];c=C[1];b=C[2];f=C[3];m=C[4];q=C[5];C=new Date(a,c,b,f,m,0,1E3*q);100>a&&C.setFullYear(a);return C});a.defs(v,"$gm",function(a,c,b,f,m,q,u,g,y,k){null==c&&(c=e);null==b&&(b=e);null==f&&(f=e);null==m&&(m=
e);null==q&&(q=e);null==u&&(u=e);null==g&&(g=e);null==y&&(y=e);null==k&&(k=e);var C;10===arguments.length&&(C=d.call(arguments),a=C[5],c=C[4],b=C[3],f=C[2],m=C[1],q=C[0]);C=n(a,c,b,f,m,q);a=C[0];c=C[1];b=C[2];f=C[3];m=C[4];q=C[5];C=new Date(Date.UTC(a,c,b,f,m,0,1E3*q));100>a&&C.setUTCFullYear(a);C.is_utc=!0;return C});(function(b){a.alias(b,"mktime","local");return a.alias(b,"utc","gm")})(a.get_singleton_class(v));a.defs(v,"$now",function(){return this.$new()});a.defn(v,"$+",function(a){var c;(c=
f.get("Time")["$==="](a))===e||c.$$is_boolean&&1!=c||this.$raise(f.get("TypeError"),"time + time?");a.$$is_number||(a=f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a});a.defn(v,"$-",function(a){var c;if((c=f.get("Time")["$==="](a))!==e&&(!c.$$is_boolean||1==c))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=f.get("Opal")["$coerce_to!"](a,f.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;
return a});a.defn(v,"$<=>",function(a){var c,b=e;return(c=f.get("Time")["$==="](a))===e||c.$$is_boolean&&1!=c?(b=a["$<=>"](this),(c=b["$nil?"]())===e||c.$$is_boolean&&1!=c?("number"===typeof b?0<b:b["$>"](0))?-1:("number"===typeof b?0>b:b["$<"](0))?1:0:e):this.$to_f()["$<=>"](a.$to_f())});a.defn(v,"$==",function(a){return this.$to_f()===a.$to_f()});a.defn(v,"$asctime",function(){return this.$strftime("%a %b %e %H:%M:%S %Y")});a.alias(v,"ctime","asctime");a.defn(v,"$day",function(){return this.is_utc?
this.getUTCDate():this.getDate()});a.defn(v,"$yday",function(){var a=e,c=e,b=e,a=f.get("Time").$new(this.$year()).$to_i(),c=f.get("Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),b=86400;return p(t(l(c,a),b).$round(),1)});a.defn(v,"$isdst",function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())});a.alias(v,"dst?","isdst");a.defn(v,"$dup",function(){var a=e,a=new Date(this.getTime());
a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(v,"$eql?",function(a){var c;return c=a["$is_a?"](f.get("Time")),!1!==c&&c!==e?this["$<=>"](a)["$zero?"]():c});a.defn(v,"$friday?",function(){return 5==this.$wday()});a.defn(v,"$hash",function(){return"Time:"+this.getTime()});a.defn(v,"$hour",function(){return this.is_utc?this.getUTCHours():this.getHours()});a.defn(v,"$inspect",function(){var a;return(a=this["$utc?"]())===e||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):
this.$strftime("%Y-%m-%d %H:%M:%S UTC")});a.alias(v,"mday","day");a.defn(v,"$min",function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()});a.defn(v,"$mon",function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1});a.defn(v,"$monday?",function(){return 1==this.$wday()});a.alias(v,"month","mon");a.defn(v,"$saturday?",function(){return 6==this.$wday()});a.defn(v,"$sec",function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()});a.defn(v,"$succ",function(){var a=new Date(this.getTime()+
1E3);a.is_utc=this.is_utc;return a});a.defn(v,"$usec",function(){return 1E3*this.getMilliseconds()});a.defn(v,"$zone",function(){var a=this.toString(),c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c});a.defn(v,"$getgm",function(){var a=new Date(this.getTime());a.is_utc=!0;return a});a.alias(v,"getutc","getgm");a.defn(v,"$gmtime",function(){this.is_utc=!0;return this});a.alias(v,"utc","gmtime");a.defn(v,
"$gmt?",function(){return!0===this.is_utc});a.defn(v,"$gmt_offset",function(){return 60*-this.getTimezoneOffset()});a.defn(v,"$strftime",function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,h,f,d){f="";var e=-1!==b.indexOf("0"),g=-1===b.indexOf("-"),k=-1!==b.indexOf("_"),n=-1!==b.indexOf("^"),l=-1!==b.indexOf("#"),v=(b.match(":")||[]).length;h=parseInt(h,10);e&&k&&(b.indexOf("0")<b.indexOf("_")?e=!1:k=!1);switch(d){case "Y":f+=c.$year();break;case "C":e=!k;f+=
Math.round(c.$year()/100);break;case "y":e=!k;f+=c.$year()%100;break;case "m":e=!k;f+=c.$mon();break;case "B":f+=q[c.$mon()-1];break;case "b":case "h":k=!e;f+=y[c.$mon()-1];break;case "d":e=!k;f+=c.$day();break;case "e":k=!e;f+=c.$day();break;case "j":f+=c.$yday();break;case "H":e=!k;f+=c.$hour();break;case "k":k=!e;f+=c.$hour();break;case "I":e=!k;f+=c.$hour()%12||12;break;case "l":k=!e;f+=c.$hour()%12||12;break;case "P":f+=12<=c.$hour()?"pm":"am";break;case "p":f+=12<=c.$hour()?"PM":"AM";break;
case "M":e=!k;f+=c.$min();break;case "S":e=!k;f+=c.$sec();break;case "L":e=!k;h=isNaN(h)?3:h;f+=c.getMilliseconds();break;case "N":h=isNaN(h)?9:h;f+=c.getMilliseconds().toString().$rjust(3,"0");f=f.$ljust(h,"0");break;case "z":a=c.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);d=Math.abs(a)%60;f=f+(0>a?"+":"-")+(10>b?"0":"");f+=b;0<v&&(f+=":");f+=10>d?"0":"";f+=d;1<v&&(f+=":00");break;case "Z":f+=c.$zone();break;case "A":f+=m[c.$wday()];break;case "a":f+=u[c.$wday()];break;case "u":f+=c.$wday()+
1;break;case "w":f+=c.$wday();break;case "V":f+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":f+=c.$cweek_cyear()["$[]"](1);break;case "g":f+=c.$cweek_cyear()["$[]"](1)["$[]"](z(-2,-1,!1));break;case "s":f+=c.$to_i();break;case "n":f+="\n";break;case "t":f+="\t";break;case "%":f+="%";break;case "c":f+=c.$strftime("%a %b %e %T %Y");break;case "D":case "x":f+=c.$strftime("%m/%d/%y");break;case "F":f+=c.$strftime("%Y-%m-%d");break;case "v":f+=c.$strftime("%e-%^b-%4Y");break;case "r":f+=
c.$strftime("%I:%M:%S %p");break;case "R":f+=c.$strftime("%H:%M");break;case "T":case "X":f+=c.$strftime("%H:%M:%S");break;default:return a}n&&(f=f.toUpperCase());l&&(f=f.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));g&&(e||k)&&(f=f.$rjust(isNaN(h)?2:h,k?" ":"0"));return f})});a.defn(v,"$sunday?",function(){return 0==this.$wday()});a.defn(v,"$thursday?",function(){return 4==this.$wday()});a.defn(v,"$to_a",function(){return[this.$sec(),this.$min(),this.$hour(),
this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]});a.defn(v,"$to_f",function(){return this.getTime()/1E3});a.defn(v,"$to_i",function(){return parseInt(this.getTime()/1E3,10)});a.alias(v,"to_s","inspect");a.defn(v,"$tuesday?",function(){return 2==this.$wday()});a.alias(v,"tv_sec","sec");a.alias(v,"tv_usec","usec");a.alias(v,"utc?","gmt?");a.alias(v,"gmtoff","gmt_offset");a.alias(v,"utc_offset","gmt_offset");a.defn(v,"$wday",function(){return this.is_utc?
this.getUTCDay():this.getDay()});a.defn(v,"$wednesday?",function(){return 3==this.$wday()});a.defn(v,"$year",function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()});return(a.defn(v,"$cweek_cyear",function(){var a,c=e,b=e,d=b=b=c=e,d=e,c=f.get("Time").$new(this.$year(),1,1),b=c.$wday(),c=this.$year();(a=g(b,4)?b["$!="](0):g(b,4))===e||a.$$is_boolean&&1!=a?(b=l(l(b,7),1),b["$=="](-8)&&(b=-1)):b=l(b,1);b=t(p(this.$yday(),b),7).$ceil();if(g(b,0))return f.get("Time").$new(l(this.$year(),
1),12,31).$cweek_cyear();b["$=="](53)&&(d=f.get("Time").$new(this.$year(),12,31),d=d.$wday(),(a=g(d,3)?d["$!="](0):g(d,3))===e||a.$$is_boolean&&1!=a||(b=1,c=p(c,1)));return[b,c]}),e)&&"cweek_cyear"}(a.base,Date)};
Opal.modules["corelib/struct"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var g=a.top,k=a.nil,e=a.slice,d=a.klass,b=a.hash2;a.add_stubs("$require $include $== $[] $upcase $const_set $new $unshift $each $define_struct_attribute $class_eval $to_proc $allocate $initialize $raise $<< $members $define_method $[]= $instance_eval $each_with_index $class $hash $=== $< $-@ $size $>= $include? $to_sym $coerce_to! $instance_of? $__id__ $eql? $enum_for $length $map $+ $join $inspect $each_pair $inject $flatten $to_a".split(" "));
g.$require("corelib/enumerable");return function(g,$super){function w(){}var r=w=d(g,$super,"Struct",w),n=r.$$scope,v,f,m;r.$include(n.get("Enumerable"));a.defs(r,"$new",v=function(b){var f=e.call(arguments,0),d,h,c,m=v.$$p,g=m||k,l=arguments.length-1;0>l&&(l=0);for(var r=Array(l),E=0;E<l;E++)r[E]=arguments[E+1];v.$$p=null;if(!this["$=="](n.get("Struct")))return a.find_super_dispatcher(this,"new",v,m,w).apply(this,f);if(b["$[]"](0)["$=="](b["$[]"](0).$upcase()))return n.get("Struct").$const_set(b,
this.$new.apply(this,a.to_a(r)));r.$unshift(b);return(d=(h=n.get("Class")).$new,d.$$p=(c=function(){var b=c.$$s||this,h,f,d;(h=(f=r).$each,h.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=k);return c.$define_struct_attribute(a)},d.$$s=b,d),h).call(f);!1!==g&&g!==k&&(h=b.$class_eval,h.$$p=g.$to_proc(),h).call(b);return function(c){a.defn(c,"$new",function(){var c,b=k,b=arguments.length-0;0>b&&(b=0);for(var h=Array(b),f=0;f<b;f++)h[f]=arguments[f+0];b=this.$allocate();b.$$data={};(c=b).$initialize.apply(c,
a.to_a(h));return b});return a.alias(c,"[]","new")}(a.get_singleton_class(b))},c.$$s=this,c),d).call(h,this)});a.defs(r,"$define_struct_attribute",function(a){var b,f,h;this["$=="](n.get("Struct"))&&this.$raise(n.get("ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);(b=this.$define_method,b.$$p=(f=function(){return(f.$$s||this)["$[]"](a)},f.$$s=this,f),b).call(this,a);return(b=this.$define_method,b.$$p=(h=function(c){var b=h.$$s||this;null==c&&(c=k);return b["$[]="](a,
c)},h.$$s=this,h),b).call(this,""+a+"=")});a.defs(r,"$members",function(){var a;null==this.members&&(this.members=k);this["$=="](n.get("Struct"))&&this.$raise(n.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&a!==k?a:this.members=[]});a.defs(r,"$inherited",function(a){var b,f,h=k;null==this.members&&(this.members=k);h=this.members;return(b=a.$instance_eval,b.$$p=(f=function(){return(f.$$s||this).members=h},f.$$s=this,f),b).call(a)});a.defn(r,"$initialize",function(){var a,
b,f,h=arguments.length-0;0>h&&(h=0);for(var c=Array(h),d=0;d<h;d++)c[d]=arguments[d+0];return(a=(b=this.$members()).$each_with_index,a.$$p=(f=function(a,b){var h=f.$$s||this;null==a&&(a=k);null==b&&(b=k);return h["$[]="](a,c["$[]"](b))},f.$$s=this,f),a).call(b)});a.defn(r,"$members",function(){return this.$class().$members()});a.defn(r,"$hash",function(){return n.get("Hash").$new(this.$$data).$hash()});a.defn(r,"$[]",function(a){var b;(b=n.get("Integer")["$==="](a))===k||b.$$is_boolean&&1!=b?(b=n.get("String")["$==="](a))===
k||b.$$is_boolean&&1!=b?this.$raise(n.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((b=this.$members()["$include?"](a.$to_sym()))===k||b.$$is_boolean&&1!=b)&&this.$raise(n.get("NameError").$new("no member '"+a+"' in struct",a)):(p(a,this.$members().$size()["$-@"]())&&this.$raise(n.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),t(a,this.$members().$size())&&this.$raise(n.get("IndexError"),"offset "+a+" too large for struct(size:"+
this.$members().$size()+")"),a=this.$members()["$[]"](a));a=n.get("Opal")["$coerce_to!"](a,n.get("String"),"to_str");return this.$$data[a]});a.defn(r,"$[]=",function(a,b){var f;(f=n.get("Integer")["$==="](a))===k||f.$$is_boolean&&1!=f?(f=n.get("String")["$==="](a))===k||f.$$is_boolean&&1!=f?this.$raise(n.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((f=this.$members()["$include?"](a.$to_sym()))===k||f.$$is_boolean&&1!=f)&&this.$raise(n.get("NameError").$new("no member '"+
a+"' in struct",a)):(p(a,this.$members().$size()["$-@"]())&&this.$raise(n.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),t(a,this.$members().$size())&&this.$raise(n.get("IndexError"),"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));a=n.get("Opal")["$coerce_to!"](a,n.get("String"),"to_str");return this.$$data[a]=b});a.defn(r,"$==",function(a){function b(a,f){var d,e,m;h[a.$__id__()]=!0;c[f.$__id__()]=!0;for(d in a.$$data)if(e=
a.$$data[d],m=f.$$data[d],n.get("Struct")["$==="](e)){if(!(h.hasOwnProperty(e.$__id__())&&c.hasOwnProperty(m.$__id__())||b(e,m)))return!1}else if(!e["$=="](m))return!1;return!0}var f;if((f=a["$instance_of?"](this.$class()))===k||f.$$is_boolean&&1!=f)return!1;var h={},c={};return b(this,a)});a.defn(r,"$eql?",function(a){function b(a,f){var d,e,m;h[a.$__id__()]=!0;c[f.$__id__()]=!0;for(d in a.$$data)if(e=a.$$data[d],m=f.$$data[d],n.get("Struct")["$==="](e)){if(!(h.hasOwnProperty(e.$__id__())&&c.hasOwnProperty(m.$__id__())||
b(e,m)))return!1}else if(!e["$eql?"](m))return!1;return!0}var f;if((f=a["$instance_of?"](this.$class()))===k||f.$$is_boolean&&1!=f)return!1;var h={},c={};return b(this,a)});a.defn(r,"$each",f=function(){var b,d,e,h,c=f.$$p||k;f.$$p=null;if(c===k)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),b).call(this,"each");(b=(e=this.$members()).$each,b.$$p=(h=function(b){var f=h.$$s||this,d;null==b&&(b=k);return d=a.yield1(c,f["$[]"](b)),d},h.$$s=this,h),b).call(e);return this});
a.defn(r,"$each_pair",m=function(){var b,f,d,h,c=m.$$p||k;m.$$p=null;if(c===k)return(b=this.$enum_for,b.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),b).call(this,"each_pair");(b=(d=this.$members()).$each,b.$$p=(h=function(b){var f=h.$$s||this,d;null==b&&(b=k);return d=a.yield1(c,[b,f["$[]"](b)]),d},h.$$s=this,h),b).call(d);return this});a.defn(r,"$length",function(){return this.$members().$length()});a.alias(r,"size","length");a.defn(r,"$to_a",function(){var a,b,f;return(a=(b=this.$members()).$map,
a.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=k);return b["$[]"](a)},f.$$s=this,f),a).call(b)});a.alias(r,"values","to_a");a.defn(r,"$inspect",function(){var a,b,f,h=k,h="#<struct ";this.$class()["$=="](n.get("Struct"))&&(h=l(h,""+this.$class()+" "));h=l(h,(a=(b=this.$each_pair()).$map,a.$$p=(f=function(a,b){null==a&&(a=k);null==b&&(b=k);return""+a+"="+b.$inspect()},f.$$s=this,f),a).call(b).$join(", "));return h=l(h,">")});a.alias(r,"to_s","inspect");a.defn(r,"$to_h",function(){var a,f,d;return(a=
(f=this.$members()).$inject,a.$$p=(d=function(a,b){var f=d.$$s||this;null==a&&(a=k);null==b&&(b=k);a["$[]="](b,f["$[]"](b));return a},d.$$s=this,d),a).call(f,b([],{}))});return(a.defn(r,"$values_at",function(){var a,b,f,h=arguments.length-0;0>h&&(h=0);for(var c=Array(h),d=0;d<h;d++)c[d]=arguments[d+0];c=(a=(b=c).$map,a.$$p=(f=function(a){null==a&&(a=k);return a.$$is_range?a.$to_a():a},f.$$s=this,f),a).call(b).$flatten();a=[];b=0;for(f=c.length;b<f;b++)c[b].$$is_number||this.$raise(n.get("TypeError"),
"no implicit conversion of "+c[b].$class()+" into Integer"),a.push(this["$[]"](c[b]));return a}),k)&&"values_at"}(a.base,null)};
Opal.modules["corelib/io"]=function(a){a.dynamic_require_severity="warning";var p,t,l=a.nil,g=a.klass,k=a.module,e=a.gvars;null==e.stdout&&(e.stdout=l);null==e.stderr&&(e.stderr=l);a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(d,$super){function p(){}var t=p=g(d,$super,"IO",p),w=t.$$proto,r=t.$$scope;w.tty=w.closed=l;a.cdecl(r,"SEEK_SET",0);a.cdecl(r,"SEEK_CUR",1);a.cdecl(r,"SEEK_END",2);a.defn(t,
"$tty?",function(){return this.tty});a.defn(t,"$closed?",function(){return this.closed});t.$attr_accessor("write_proc");a.defn(t,"$write",function(a){this.write_proc(a);return a.$size()});t.$attr_accessor("sync");(function(d){d=k(d,"Writable");a.defn(d,"$<<",function(a){this.$write(a);return this});a.defn(d,"$print",function(){var a,f;null==e[","]&&(e[","]=l);var d=arguments.length-0;0>d&&(d=0);for(var g=Array(d),k=0;k<d;k++)g[k]=arguments[k+0];this.$write((a=g.$map,a.$$p=(f=function(a){var h=f.$$s||
this;null==a&&(a=l);return h.$String(a)},f.$$s=this,f),a).call(g).$join(e[","]));return l});a.defn(d,"$puts",function(){var a,f,d=l;null==e["/"]&&(e["/"]=l);d=arguments.length-0;0>d&&(d=0);for(var g=Array(d),k=0;k<d;k++)g[k]=arguments[k+0];d=e["/"];(a=g["$empty?"]())===l||a.$$is_boolean&&1!=a?this.$write((a=g.$map,a.$$p=(f=function(a){var h=f.$$s||this;null==a&&(a=l);return h.$String(a).$chomp()},f.$$s=this,f),a).call(g).$concat([l]).$join(d)):this.$write(e["/"]);return l})})(r.base);return function(d){d=
k(d,"Readable");var g=d.$$scope;a.defn(d,"$readbyte",function(){return this.$getbyte()});a.defn(d,"$readchar",function(){return this.$getc()});a.defn(d,"$readline",function(a){null==e["/"]&&(e["/"]=l);return this.$raise(g.get("NotImplementedError"))});a.defn(d,"$readpartial",function(a,d){return this.$raise(g.get("NotImplementedError"))})}(r.base)})(a.base,null);a.cdecl(a,"STDERR",e.stderr=a.get("IO").$new());a.cdecl(a,"STDIN",e.stdin=a.get("IO").$new());a.cdecl(a,"STDOUT",e.stdout=a.get("IO").$new());
p=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];t=e.stdout;t["$write_proc="].apply(t,p);p[p.length-1];p=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];t=e.stderr;t["$write_proc="].apply(t,p);p[p.length-1];e.stdout.$extend(a.get("IO").$$scope.get("Writable"));return e.stderr.$extend(a.get("IO").$$scope.get("Writable"))};
Opal.modules["corelib/main"]=function(a){a.dynamic_require_severity="warning";var p=a.top,t=a.nil;a.add_stubs(["$include"]);a.defs(p,"$to_s",function(){return"main"});return(a.defs(p,"$include",function(l){return a.get("Object").$include(l)}),t)&&"include"};
Opal.modules["corelib/dir"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.klass;a.add_stubs(["$[]"]);return function(l,$super){function k(){}var e=k=t(l,$super,"Dir",k);return function(d){var b=d.$$scope,e;a.defn(d,"$chdir",e=function(b){var d,k=e.$$p||p,n=p;e.$$p=null;try{return n=a.current_dir,a.current_dir=b,d=a.yieldX(k,[]),d}finally{a.current_dir=n}});a.defn(d,"$pwd",function(){return a.current_dir||"."});a.alias(d,"getwd","pwd");return(a.defn(d,"$home",function(){var a;return!1!==
(a=b.get("ENV")["$[]"]("HOME"))&&a!==p?a:"."}),p)&&"home"}(a.get_singleton_class(e))}(a.base,null)};
Opal.modules["corelib/file"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.klass,l=a.range;a.add_stubs("$join $compact $split $== $first $[]= $home $each $pop $<< $[] $gsub $find $=~".split(" "));return function(g,$super){function e(){}var d=e=t(g,$super,"File",e),b=d.$$scope;a.cdecl(b,"Separator",a.cdecl(b,"SEPARATOR","/"));a.cdecl(b,"ALT_SEPARATOR",p);a.cdecl(b,"PATH_SEPARATOR",":");return function(b){var d=b.$$scope;a.defn(b,"$expand_path",function(a,b){var e,g,f,m=p,u=p;null==
b&&(b=p);a=[b,a].$compact().$join(d.get("SEPARATOR"));m=a.$split(d.get("SEPARATOR"));u=[];if(m.$first()["$=="]("~"))m["$[]="](0,d.get("Dir").$home());(e=(g=m).$each,e.$$p=(f=function(a){null==a&&(a=p);return a["$=="]("..")?u.$pop():u["$<<"](a)},f.$$s=this,f),e).call(g);return u.$join(d.get("SEPARATOR"))});a.alias(b,"realpath","expand_path");a.defn(b,"$dirname",function(a){return this.$split(a)["$[]"](l(0,-2,!1))});a.defn(b,"$basename",function(a){return this.$split(a)["$[]"](-1)});a.defn(b,"$exist?",
function(b){return null!=a.modules[b]});a.alias(b,"exists?","exist?");a.defn(b,"$directory?",function(b){var e,g,l,f=p,f=p,f=[],m;for(m in a.modules)f.push(m);b=b.$gsub(new RegExp("(^."+d.get("SEPARATOR")+"+|"+d.get("SEPARATOR")+"+$)"));return f=(e=(g=f).$find,e.$$p=(l=function(a){null==a&&(a=p);return a["$=~"](new RegExp("^"+b))},l.$$s=this,l),e).call(g)});a.defn(b,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return b.$join(d.get("SEPARATOR")).$gsub(new RegExp(""+
d.get("SEPARATOR")+"+"),d.get("SEPARATOR"))});return(a.defn(b,"$split",function(a){return a.$split(d.get("SEPARATOR"))}),p)&&"split"}(a.get_singleton_class(d))}(a.base,a.get("IO"))};
Opal.modules["corelib/process"]=function(a){a.dynamic_require_severity="warning";var p=a.nil,t=a.klass;a.add_stubs(["$to_f","$now","$new"]);(function(l,$super){function k(){}var e=k=t(l,$super,"Process",k),d=e.$$scope;a.cdecl(d,"CLOCK_REALTIME",0);a.cdecl(d,"CLOCK_MONOTONIC",1);a.defs(e,"$pid",function(){return 0});a.defs(e,"$times",function(){var a=p,a=d.get("Time").$now().$to_f();return d.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)});return(a.defs(e,"$clock_gettime",function(a,e){return d.get("Time").$now().$to_f()}),
p)&&"clock_gettime"})(a.base,null);(function(l,$super){function k(){}var e=k=t(l,$super,"Signal",k);return(a.defs(e,"$trap",function(){return p}),p)&&"trap"})(a.base,null);return function(l,$super){function k(){}var e=k=t(l,$super,"GC",k);return(a.defs(e,"$start",function(){return p}),p)&&"start"}(a.base,null)};
Opal.modules["corelib/unsupported"]=function(a){function p(a){e[a]||(e[a]=!0,t.$warn(a))}a.dynamic_require_severity="warning";var t=a.top,l=a.nil,g=a.klass,k=a.module;a.add_stubs(["$warn","$raise","$%","$module_function"]);var e={};(function(d,$super){function e(){}var k=e=g(d,$super,"String",e),p=k.$$scope;a.defn(k,"$<<",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))});a.defn(k,"$capitalize!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))});a.defn(k,"$chomp!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))});a.defn(k,"$chop!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))});a.defn(k,"$downcase!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))});a.defn(k,"$gsub!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))});a.defn(k,"$lstrip!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))});a.defn(k,"$next!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))});a.defn(k,"$reverse!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))});a.defn(k,"$slice!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))});a.defn(k,"$squeeze!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))});a.defn(k,"$strip!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))});a.defn(k,"$sub!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))});a.defn(k,"$succ!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))});a.defn(k,"$swapcase!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))});a.defn(k,"$tr!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))});a.defn(k,"$tr_s!",function(){return this.$raise(p.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))});return(a.defn(k,"$upcase!",function(){return this.$raise(p.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))}),l)&&"upcase!"})(a.base,null);(function(d){d=k(d,"Kernel");var b=d.$$scope;a.defn(d,"$freeze",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object freezing is not supported by Opal"):p("Object freezing is not supported by Opal");
return this});a.defn(d,"$frozen?",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object freezing is not supported by Opal"):p("Object freezing is not supported by Opal");return!1})})(a.base);(function(d){d=k(d,"Kernel");var b=d.$$scope;a.defn(d,"$taint",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object tainting is not supported by Opal"):p("Object tainting is not supported by Opal");return this});a.defn(d,"$untaint",function(){!0===l?this.$raise(b.get("NotImplementedError"),
"Object tainting is not supported by Opal"):p("Object tainting is not supported by Opal");return this});a.defn(d,"$tainted?",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object tainting is not supported by Opal"):p("Object tainting is not supported by Opal");return!1})})(a.base);(function(d){d=k(d,"Marshal");var b=d.$$scope;d.$module_function();a.defn(d,"$dump",function(){return this.$raise(b.get("NotImplementedError"),"Marshalling is not supported by Opal")});a.defn(d,"$load",function(){return this.$raise(b.get("NotImplementedError"),
"Marshalling is not supported by Opal")});a.defn(d,"$restore",function(){return this.$raise(b.get("NotImplementedError"),"Marshalling is not supported by Opal")})})(a.base);(function(d,$super){function e(){}var k=e=g(d,$super,"Module",e);a.defn(k,"$public",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),e=0;e<a;e++)d[e]=arguments[e+0];0===d.length&&(this.$$module_function=!1);return l});a.alias(k,"private","public");a.alias(k,"protected","public");a.alias(k,"nesting","public");a.defn(k,
"$private_class_method",function(){return this});a.alias(k,"public_class_method","private_class_method");a.defn(k,"$private_method_defined?",function(a){return!1});a.defn(k,"$private_constant",function(){return l});a.alias(k,"protected_method_defined?","private_method_defined?");a.alias(k,"public_instance_methods","instance_methods");return a.alias(k,"public_method_defined?","method_defined?")})(a.base,null);(function(d){d=k(d,"Kernel");a.defn(d,"$private_methods",function(){return[]});a.alias(d,
"private_instance_methods","private_methods")})(a.base);return function(d){d=k(d,"Kernel");var b=d.$$scope;a.defn(d,"$eval",function(){return this.$raise(b.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))})}(a.base)};
(function(a){a.dynamic_require_severity="warning";var p=a.top;a.add_stubs(["$require"]);p.$require("opal/base");p.$require("opal/mini");p.$require("corelib/array/inheritance");p.$require("corelib/string/inheritance");p.$require("corelib/string/encoding");p.$require("corelib/math");p.$require("corelib/complex");p.$require("corelib/rational");p.$require("corelib/time");p.$require("corelib/struct");p.$require("corelib/io");p.$require("corelib/main");p.$require("corelib/dir");p.$require("corelib/file");
p.$require("corelib/process");return p.$require("corelib/unsupported")})(Opal);
Opal.modules.set=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.breaker,k=a.klass,e=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(d,
$super){function e(){}var x=e=k(d,$super,"Set",e),w=x.$$scope,r,n,v,f,m;x.$$proto.hash=l;x.$include(w.get("Enumerable"));a.defs(x,"$[]",function(){var a=l,f=arguments.length-0;0>f&&(f=0);for(var d=Array(f),a=0;a<f;a++)d[a]=arguments[a+0];return this.$new(d)});a.defn(x,"$initialize",r=function(a){var f,d,h,c=r.$$p||l;null==a&&(a=l);r.$$p=null;this.hash=w.get("Hash").$new();if((f=a["$nil?"]())!==l&&(!f.$$is_boolean||1==f))return l;((f=w.get("Enumerable")["$==="](a))===l||f.$$is_boolean&&1!=f)&&this.$raise(w.get("ArgumentError"),
"value must be enumerable");return!1!==c&&c!==l?(f=(d=a).$each,f.$$p=(h=function(a){var f=h.$$s||this;null==a&&(a=l);return f.$add(c.$call(a))},h.$$s=this,h),f).call(d):this.$merge(a)});a.defn(x,"$dup",function(){var a=l,a=this.$class().$new();return a.$merge(this)});a.defn(x,"$-",function(a){var f;((f=a["$respond_to?"]("each"))===l||f.$$is_boolean&&1!=f)&&this.$raise(w.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)});a.alias(x,"difference","-");a.defn(x,"$inspect",
function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"});a.defn(x,"$==",function(a){var f,d,h;return(f=this["$equal?"](a))===l||f.$$is_boolean&&1!=f?(f=a["$instance_of?"](this.$class()))===l||f.$$is_boolean&&1!=f?(f=(d=a["$is_a?"](w.get("Set")),!1!==d&&d!==l?this.$size()["$=="](a.$size()):d))===l||f.$$is_boolean&&1!=f?!1:(f=(d=a)["$all?"],f.$$p=(h=function(a){var f=h.$$s||this;null==f.hash&&(f.hash=l);null==a&&(a=l);return f.hash["$include?"](a)},h.$$s=this,h),f).call(d):this.hash["$=="](a.$instance_variable_get("@hash")):
!0});a.defn(x,"$add",function(a){this.hash["$[]="](a,!0);return this});a.alias(x,"<<","add");a.defn(x,"$classify",n=function(){var f,d,e,h,c=n.$$p||l,m=l;n.$$p=null;if(c===l)return this.$enum_for("classify");m=(f=(d=w.get("Hash")).$new,f.$$p=(e=function(a,c){var h=e.$$s||this;null==a&&(a=l);null==c&&(c=l);return a["$[]="](c,h.$class().$new())},e.$$s=this,e),f).call(d);(f=this.$each,f.$$p=(h=function(h){var f;null==h&&(h=l);return m["$[]"]((f=a.yield1(c,h))===g?g.$v:f).$add(h)},h.$$s=this,h),f).call(this);
return m});a.defn(x,"$collect!",v=function(){var f,d,e=v.$$p||l,h=l;v.$$p=null;if(e===l)return this.$enum_for("collect!");h=this.$class().$new();(f=this.$each,f.$$p=(d=function(c){var f;null==c&&(c=l);return h["$<<"]((f=a.yield1(e,c))===g?g.$v:f)},d.$$s=this,d),f).call(this);return this.$replace(h)});a.alias(x,"map!","collect!");a.defn(x,"$delete",function(a){this.hash.$delete(a);return this});a.defn(x,"$delete?",function(a){var f;if((f=this["$include?"](a))===l||f.$$is_boolean&&1!=f)return l;this.$delete(a);
return this});a.defn(x,"$delete_if",f=function(){try{var d,e,m,h,c,g=f.$$p||l;f.$$p=null;!1!==(d=g!==l)&&d!==l?d:a.ret(this.$enum_for("delete_if"));(d=(e=(h=this.$select,h.$$p=(c=function(c){var h;null==c&&(c=l);return h=a.yield1(g,c),h},c.$$s=this,c),h).call(this)).$each,d.$$p=(m=function(a){var c=m.$$s||this;null==c.hash&&(c.hash=l);null==a&&(a=l);return c.hash.$delete(a)},m.$$s=this,m),d).call(e);return this}catch(k){if(k===a.returner)return k.$v;throw k;}});a.defn(x,"$add?",function(a){var f;
return(f=this["$include?"](a))===l||f.$$is_boolean&&1!=f?this.$add(a):l});a.defn(x,"$each",m=function(){var a,f,d=m.$$p||l;m.$$p=null;if(d===l)return this.$enum_for("each");(a=(f=this.hash).$each_key,a.$$p=d.$to_proc(),a).call(f);return this});a.defn(x,"$empty?",function(){return this.hash["$empty?"]()});a.defn(x,"$eql?",function(a){var f,d;return this.hash["$eql?"]((f=a.$instance_eval,f.$$p=(d=function(){var a=d.$$s||this;null==a.hash&&(a.hash=l);return a.hash},d.$$s=this,d),f).call(a))});a.defn(x,
"$clear",function(){this.hash.$clear();return this});a.defn(x,"$include?",function(a){return this.hash["$include?"](a)});a.alias(x,"member?","include?");a.defn(x,"$merge",function(a){var f,d;(f=a.$each,f.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=l);return c.$add(a)},d.$$s=this,d),f).call(a);return this});a.defn(x,"$replace",function(a){this.$clear();this.$merge(a);return this});a.defn(x,"$size",function(){return this.hash.$size()});a.alias(x,"length","size");a.defn(x,"$subtract",function(a){var f,
d;(f=a.$each,f.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=l);return c.$delete(a)},d.$$s=this,d),f).call(a);return this});a.defn(x,"$|",function(a){var f;((f=a["$respond_to?"]("each"))===l||f.$$is_boolean&&1!=f)&&this.$raise(w.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)});a.defn(x,"$superset?",function(a){var f,d;!1!==(f=a["$is_a?"](w.get("Set")))&&f!==l?f:this.$raise(w.get("ArgumentError"),"value must be a set");return(f=p(this.$size(),a.$size()))===l||f.$$is_boolean&&
1!=f?(f=a["$all?"],f.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=l);return c["$include?"](a)},d.$$s=this,d),f).call(a):!1});a.alias(x,">=","superset?");a.defn(x,"$proper_superset?",function(a){var f,d;!1!==(f=a["$is_a?"](w.get("Set")))&&f!==l?f:this.$raise(w.get("ArgumentError"),"value must be a set");return(f=t(this.$size(),a.$size()))===l||f.$$is_boolean&&1!=f?(f=a["$all?"],f.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=l);return c["$include?"](a)},d.$$s=this,d),f).call(a):!1});a.alias(x,
">","proper_superset?");a.defn(x,"$subset?",function(a){var f,d;!1!==(f=a["$is_a?"](w.get("Set")))&&f!==l?f:this.$raise(w.get("ArgumentError"),"value must be a set");return(f=p(a.$size(),this.$size()))===l||f.$$is_boolean&&1!=f?(f=this["$all?"],f.$$p=(d=function(h){null==h&&(h=l);return a["$include?"](h)},d.$$s=this,d),f).call(this):!1});a.alias(x,"<=","subset?");a.defn(x,"$proper_subset?",function(a){var f,d;!1!==(f=a["$is_a?"](w.get("Set")))&&f!==l?f:this.$raise(w.get("ArgumentError"),"value must be a set");
return(f=t(a.$size(),this.$size()))===l||f.$$is_boolean&&1!=f?(f=this["$all?"],f.$$p=(d=function(h){null==h&&(h=l);return a["$include?"](h)},d.$$s=this,d),f).call(this):!1});a.alias(x,"<","proper_subset?");a.alias(x,"+","|");a.alias(x,"union","|");return(a.defn(x,"$to_a",function(){return this.hash.$keys()}),l)&&"to_a"})(a.base,null);return function(d){d=e(d,"Enumerable");var b=d.$$scope,g;a.defn(d,"$to_set",g=function(d){var e,k,n=g.$$p||l,p=l,f=arguments.length-1;0>f&&(f=0);for(var m=Array(f),p=
0;p<f;p++)m[p]=arguments[p+1];null==d&&(d=b.get("Set"));g.$$p=null;return(e=(k=d).$new,e.$$p=n.$to_proc(),e).apply(k,[this].concat(a.to_a(m)))})}(a.base)};
Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.klass;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(l,$super){function k(){}var e=k=t(l,$super,"StringScanner",k),d=e.$$proto;d.pos=d.string=d.working=d.matched=d.prev_pos=d.match=p;e.$attr_reader("pos");e.$attr_reader("matched");a.defn(e,"$initialize",function(a){this.string=a;this.pos=0;this.matched=p;this.working=a;return this.match=[]});e.$attr_reader("string");
a.defn(e,"$beginning_of_line?",function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)});a.alias(e,"bol?","beginning_of_line?");a.defn(e,"$scan",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=p:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):p});a.defn(e,"$scan_until",
function(a){a=this.$anchor(a);for(var d=this.pos,e=this.working,k;;)if(k=a.exec(e),d+=1,e=e.substr(1),null==k){if(0===e.length)return this.matched=p}else return this.matched=this.string.substr(this.pos,d-this.pos-1+k[0].length),this.prev_pos=d-1,this.pos=d,this.working=e.substr(k[0].length),this.matched});a.defn(e,"$[]",function(a){var d=this.match;0>a&&(a+=d.length);return 0>a||a>=d.length||null==d[a]?p:d[a]});a.defn(e,"$check",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?
this.matched=p:this.matched=a[0]});a.defn(e,"$check_until",function(a){var d=this.prev_pos,e=this.pos;a=this.$scan_until(a);a!==p&&(this.matched=a.substr(-1),this.working=this.string.substr(e));this.prev_pos=d;this.pos=e;return a});a.defn(e,"$peek",function(a){return this.working.substring(0,a)});a.defn(e,"$eos?",function(){return 0===this.working.length});a.defn(e,"$exist?",function(a){a=a.exec(this.working);return null==a?p:0==a.index?0:a.index+1});a.defn(e,"$skip",function(a){a=this.$anchor(a);
a=a.exec(this.working);if(null==a)return this.matched=p;a=a[0];var d=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=d;this.working=this.working.substring(d);return d});a.defn(e,"$skip_until",function(a){a=this.$scan_until(a);if(a===p)return p;this.matched=a.substr(-1);return a.length});a.defn(e,"$get_byte",function(){var a=p;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=p;return a});
a.alias(e,"getch","get_byte");a.defn(e,"$match?",function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return p;this.prev_pos=this.pos;return a[0].length});a.defn(e,"$pos=",function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)});a.defn(e,"$post_match",function(){return this.matched===p?p:this.string.substr(this.pos)});a.defn(e,"$pre_match",function(){return this.matched===p?p:this.string.substr(0,this.prev_pos)});a.defn(e,"$reset",function(){this.working=
this.string;this.matched=p;return this.pos=0});a.defn(e,"$rest",function(){return this.working});a.defn(e,"$rest?",function(){return 0!==this.working.length});a.defn(e,"$rest_size",function(){return this.$rest().$size()});a.defn(e,"$terminate",function(){var a;this.match=p;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]});a.defn(e,"$unscan",function(){this.pos=this.prev_pos;this.match=this.prev_pos=p;return this});e.$private();return(a.defn(e,"$anchor",function(a){return new RegExp("^(?:"+
a.toString().substr(1,a.toString().length-2)+")")}),p)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/dir"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.klass;a.add_stubs(["$[]"]);return function(l,$super){function k(){}var e=k=t(l,$super,"Dir",k),d=e.$$scope;a.defs(e,"$pwd",function(){var a;return!1!==(a=d.get("ENV")["$[]"]("PWD"))&&a!==p?a:"."});a.defs(e,"$getwd",function(){var a;return!1!==(a=d.get("ENV")["$[]"]("PWD"))&&a!==p?a:"."});return(a.defs(e,"$home",function(){return d.get("ENV")["$[]"]("HOME")}),p)&&"home"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){function p(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}a.dynamic_require_severity="ignore";var t=a.nil,l=a.breaker,g=a.module,k=a.klass,e=a.gvars,d=a.range;a.add_stubs("$new $attr_reader $read $size $to_enum $chomp $each_line $* $rindex $[] $+ $- $nil_or_empty? $nil? $===".split(" "));(function(b){b=g(b,"Kernel");var d=b.$$scope,e;a.defn(b,"$open",e=function(b){var g,k,l=e.$$p||t,f=t,f=t,m=arguments.length-1;0>m&&(m=0);for(var u=
Array(m),f=0;f<m;f++)u[f]=arguments[f+1];e.$$p=null;f=(g=d.get("File")).$new.apply(g,[b].concat(a.to_a(u)));return l!==t?(k=a.yield1(l,f),k):f})})(a.base);(function(b,$super){function g(){}var w=g=k(b,$super,"File",g),r=w.$$proto,n=w.$$scope,v;r.eof=r.path=t;a.cdecl(n,"SEPARATOR","/");a.cdecl(n,"ALT_SEPARATOR",t);w.$attr_reader("eof");w.$attr_reader("lineno");w.$attr_reader("path");a.defn(w,"$initialize",function(a,b){this.path=a;this.contents=t;this.eof=!1;return this.lineno=0});a.defn(w,"$read",
function(){var a,b=t;return(a=this.eof)===t||a.$$is_boolean&&1!=a?(b=n.get("File").$read(this.path),this.eof=!0,this.lineno=b.$size(),b):""});a.defn(w,"$each_line",v=function(b){var d,g=v.$$p||t,k=t;null==e["/"]&&(e["/"]=t);null==b&&(b=e["/"]);v.$$p=null;if((d=this.eof)!==t&&(!d.$$is_boolean||1==d))return g!==t?this:[].$to_enum();if(g!==t){k=n.get("File").$read(this.path);this.eof=!1;this.lineno=0;for(var q=k.$chomp(),k=k.length!=q.length,q=q.split(b),h=0,c=q.length;h<c;h++)this.lineno+=1,h<c-1||
k?(d=a.yield1(g,q[h]+b))===l?l.$v:d:(d=a.yield1(g,q[h]))===l?l.$v:d;this.eof=!0;return this}return this.$read().$each_line()});a.defs(w,"$expand_path",function(a){return a});a.defs(w,"$join",function(){var a=t,b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),a=0;a<b;a++)d[a]=arguments[a+0];a=n.get("SEPARATOR");return"number"===typeof d&&"number"===typeof a?d*a:d["$*"](a)});a.defs(w,"$basename",function(a){var b,e=t;return(b=e=a.$rindex(n.get("SEPARATOR")))===t||b.$$is_boolean&&1!=b?a:a["$[]"](d(p(e,
1),-1,!1))});a.defs(w,"$dirname",function(a){var b,e=t;return(b=e=a.$rindex(n.get("SEPARATOR")))===t||b.$$is_boolean&&1!=b?".":a["$[]"](d(0,"number"===typeof e?e-1:e["$-"](1),!1))});a.defs(w,"$extname",function(a){var b,e=t;if((b=a["$nil_or_empty?"]())!==t&&(!b.$$is_boolean||1==b))return"";e=a["$[]"](d(1,-1,!1)).$rindex(".");return(b=e["$nil?"]())===t||b.$$is_boolean&&1!=b?a["$[]"](d(p(e,1),-1,!1)):""});a.defs(w,"$file?",function(a){return!0});a.defs(w,"$readable?",function(a){return!0});return(a.defs(w,
"$read",function(a){var b=t;return function(){b=n.get("JAVASCRIPT_PLATFORM");if("node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var d=Java.type("java.nio.file.Paths"),e=[];Java.type("java.nio.file.Files").readAllLines(d.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){e.push(a)});return e.join("\n")}if("browser"["$==="](b)){var e="",q=-1;try{d=new XMLHttpRequest,d.open("GET",a,!1),d.addEventListener("load",function(){q=this.status;
if(0==q||200==q)e=this.responseText}),d.overrideMimeType("text/plain"),d.send()}catch(h){q=0}if(404==q||0==q&&""==e)throw n.get("IOError").$new("No such file or directory: "+a);return e}return"standalone"["$==="](b)?read(a):""}()}),t)&&"read"})(a.base,null);return function(b,$super){function d(){}var e=d=k(b,$super,"IO",d),g=e.$$scope;return(a.defs(e,"$read",function(a){return g.get("File").$read(a)}),t)&&"read"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.klass;a.add_stubs(["$[]="]);return function(l,$super){function k(){}var e=k=t(l,$super,"MatchData",k);e.$$proto.matches=p;return(a.defn(e,"$[]=",function(a,b){return this.matches["$[]="](a,b)}),p)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.module;return function(l){l=t(l,"Kernel");a.defn(l,"$freeze",function(){return p})}(a.base)};
Opal.modules["asciidoctor/opal_ext/defold"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.klass;a.add_stubs(["$[]","$attributes","$document","$node_name"]);return function(l,$super){function k(){}var e=k=t(l,$super,"Defold",k);return(a.defs(e,"$render",function(d){var b,e=p;d.$document().$attributes()["$[]"]("backend");b=d.$document().$attributes()["$[]"]("templatedir");e=!1!==(b=d.$node_name())&&b!==p?b:"";b=a.File.$read("./defold/"+e+".jade");return jade.compile(b,{pretty:!0})({node:d})}),
p)&&"render"}(a.base,null)};Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var p;p=a.nil;var t=a.gvars;null==t.stdout&&(t.stdout=p);null==t.stderr&&(t.stderr=p);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];p=t.stdout;p["$write_proc="].apply(p,a);a[a.length-1];return a=[function(a){print(a)}],p=t.stderr,p["$write_proc="].apply(p,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var p=a.top,t=a.nil,l=t;a.add_stubs(["$require","$==="]);a.cdecl(a,"JAVASCRIPT_PLATFORM","undefined"!==typeof module&&module.exports?"node":"undefined"!==typeof XMLHttpRequest?"browser":"undefined"!==typeof Java&&Java.type?"java-nashorn":"undefined"!==typeof java?"java-rhino":"standalone");p.$require("strscan");p.$require("asciidoctor/opal_ext/dir");p.$require("asciidoctor/opal_ext/file");p.$require("asciidoctor/opal_ext/match_data");
p.$require("asciidoctor/opal_ext/kernel");p.$require("asciidoctor/opal_ext/defold");l=a.get("JAVASCRIPT_PLATFORM");a="java-nashorn"["$==="](l)?p.$require("asciidoctor/opal_ext/nashorn/io"):t;return a};Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var p=a.module,p=p(a.base,"Asciidoctor").$$scope;a.cdecl(p,"VERSION","1.5.4")};
Opal.modules["asciidoctor/timings"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var g=a.nil,k=a.module,e=a.klass,d=a.hash2,b=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(z){(function(k,
$super){function r(){}var n=r=e(k,$super,"Timings",r),v=n.$$proto;v.timers=v.log=g;a.defn(n,"$initialize",function(){this.log=d([],{});return this.timers=d([],{})});a.defn(n,"$start",function(b){return this.timers["$[]="](b,a.get("Time").$now())});a.defn(n,"$record",function(b){return this.log["$[]="](b,p(a.get("Time").$now(),this.timers.$delete(b)))});a.defn(n,"$read_parse",function(){var a,b,d=g;return(a=t(d=l(!1!==(b=this.log["$[]"]("read"))&&b!==g?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==g?
b:0),0))===g||a.$$is_boolean&&1!=a?g:d});a.defn(n,"$convert",function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==g?a:0});a.defn(n,"$read_parse_convert",function(){var a,b,d=g;return(a=t(d=l(l(!1!==(b=this.log["$[]"]("read"))&&b!==g?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==g?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==g?b:0),0))===g||a.$$is_boolean&&1!=a?g:d});a.defn(n,"$total",function(){var a,b,d=g;return(a=t(d=l(l(l(!1!==(b=this.log["$[]"]("read"))&&b!==g?b:0,!1!==(b=this.log["$[]"]("parse"))&&
b!==g?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==g?b:0),!1!==(b=this.log["$[]"]("write"))&&b!==g?b:0),0))===g||a.$$is_boolean&&1!=a?g:d});return(a.defn(n,"$print_report",function(a,d){null==b.stdout&&(b.stdout=g);null==a&&(a=b.stdout);null==d&&(d=g);!1!==d&&d!==g&&a.$puts("Input file: "+d);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+
"%05.5f"["$%"](this.$read_parse_convert().$to_f()))}),g)&&"print_report"})(k(z,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.klass;a.add_stubs(["$respond_to?"]);(function(l,$super){function k(){}var e=k=t(l,$super,"NilClass",k),d;return(d=e["$respond_to?"]("nil_or_empty?"))===p||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","nil?"):p})(a.base,null);(function(l,$super){function k(){}var e=k=t(l,$super,"String",k),d;return(d=e["$respond_to?"]("nil_or_empty?"))===p||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?",
"empty?"):p})(a.base,null);(function(l,$super){function k(){}var e=k=t(l,$super,"Array",k),d;return(d=e["$respond_to?"]("nil_or_empty?"))===p||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","empty?"):p})(a.base,null);(function(l,$super){function k(){}var e=k=t(l,$super,"Hash",k),d;return(d=e["$respond_to?"]("nil_or_empty?"))===p||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","empty?"):p})(a.base,null);return function(l,$super){function k(){}var e=k=t(l,$super,"Numeric",k),d;return(d=e["$respond_to?"]("nil_or_empty?"))===
p||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","nil?"):p}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var p=a.top,t=a.nil;a.add_stubs(["$require","$=="]);p.$require("asciidoctor/core_ext/object/nil_or_empty");if(a.get("RUBY_ENGINE")["$=="]("opal"))return t};
Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.module,l=a.range,g=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(k){(function(e){e=
t(e,"Helpers");var d=e.$$scope;a.defs(e,"$require_library",function(b,d,e){var g=p,k=p;null==d&&(d=!0);null==e&&(e="abort");try{return this.$require(b)}catch(n){if(a.rescue(n,[a.get("LoadError")])){g=n;try{if(!1!==d&&d!==p)return d["$=="](!0)&&(d=b),k=e,"abort"["$==="](k)?this.$fail("asciidoctor: FAILED: required gem '"+d+"' is not installed. Processing aborted."):"warn"["$==="](k)?this.$warn("asciidoctor: WARNING: optional gem '"+d+"' is not installed. Functionality disabled."):p;k=e;return"abort"["$==="](k)?
this.$fail("asciidoctor: FAILED: "+g.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](k)?this.$warn("asciidoctor: WARNING: "+g.$message().$chomp(".")+". Functionality disabled."):p}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw n;}});a.defs(e,"$normalize_lines",function(b){return b.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)});a.defs(e,"$normalize_lines_array",function(b){var e,g,k,r,n,v,f=p,m=p,u=p,y=p;if((e=b["$empty?"]())!==
p&&(!e.$$is_boolean||1==e))return[];f=(m=b["$[]"](0))["$[]"](l(0,2,!1)).$bytes().$to_a();if((e=d.get("COERCE_ENCODING"))===p||e.$$is_boolean&&1!=e){if(f["$=="](d.get("BOM_BYTES_UTF_8")))b["$[]="](0,m["$[]"](l(3,-1,!1)));return(e=b.$map,e.$$p=(v=function(a){null==a&&(a=p);return a.$rstrip()},v.$$s=this,v),e).call(b)}u=a.get("Encoding").$$scope.get("UTF_8");if((y=f["$[]"](l(0,1,!1)))["$=="](d.get("BOM_BYTES_UTF_16LE")))return(e=(g=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](l(1,
-1,!1)).$encode(u).$lines()).$map,e.$$p=(k=function(a){null==a&&(a=p);return a.$rstrip()},k.$$s=this,k),e).call(g);if(y["$=="](d.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,m.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](l(1,-1,!1))),(e=b.$map,e.$$p=(r=function(b){null==b&&(b=p);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(u).$rstrip()},r.$$s=this,r),e).call(b);if(f["$[]"](l(0,2,!1))["$=="](d.get("BOM_BYTES_UTF_8")))b["$[]="](0,m.$force_encoding(u)["$[]"](l(1,
-1,!1)));return(e=b.$map,e.$$p=(n=function(a){null==a&&(a=p);return a.$encoding()["$=="](u)?a.$rstrip():a.$force_encoding(u).$rstrip()},n.$$s=this,n),e).call(b)});a.defs(e,"$normalize_lines_from_string",function(b){var e,g,k,r=p,n=p,v=p;if((e=b["$nil_or_empty?"]())!==p&&(!e.$$is_boolean||1==e))return[];(e=d.get("COERCE_ENCODING"))===p||e.$$is_boolean&&1!=e?b["$[]"](l(0,2,!1)).$bytes().$to_a()["$=="](d.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](l(3,-1,!1))):(r=a.get("Encoding").$$scope.get("UTF_8"),n=b["$[]"](l(0,
2,!1)).$bytes().$to_a(),(v=n["$[]"](l(0,1,!1)))["$=="](d.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](l(1,-1,!1)).$encode(r):v["$=="](d.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](l(1,-1,!1)).$encode(r):n["$[]"](l(0,2,!1))["$=="](d.get("BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](r)?b["$[]"](l(1,-1,!1)):b.$force_encoding(r)["$[]"](l(1,-1,!1)):b.$encoding()["$=="](r)||(b=b.$force_encoding(r)));return(e=
(g=b.$each_line()).$map,e.$$p=(k=function(a){null==a&&(a=p);return a.$rstrip()},k.$$s=this,k),e).call(g)});a.defs(e,"$uriish?",function(a){var e;return e=a["$include?"](":"),!1!==e&&e!==p?a["$=~"](d.get("UriSniffRx")):e});a.defs(e,"$uri_prefix",function(a){var e,k;return(e=(k=a["$include?"](":"),!1!==k&&k!==p?a["$=~"](d.get("UriSniffRx")):k))===p||e.$$is_boolean&&1!=e?p:(e=g["~"])===p?p:e["$[]"](0)});a.cdecl(d,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(e,"$encode_uri",function(a){var e,
k;return(e=a.$gsub,e.$$p=(k=function(){var a=k.$$s||this,b,d,e,f;return(b=(d=((f=g["~"])===p?p:f["$[]"](0)).$each_byte()).$map,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=p);return b.$sprintf("%%%02X",a)},e.$$s=a,e),b).call(d).$join()},k.$$s=this,k),e).call(a,d.get("REGEXP_ENCODE_URI_CHARS"))});a.defs(e,"$rootname",function(b){var d,e=p;return(d=(e=a.get("File").$extname(b))["$empty?"]())===p||d.$$is_boolean&&1!=d?b["$[]"](l(0,e.$length()["$-@"](),!0)):b});a.defs(e,"$basename",function(b,d){var e;
null==d&&(d=!1);return!1!==d&&d!==p?a.get("File").$basename(b,!1!==(e=a.get("File").$extname(b))&&e!==p?e:""):a.get("File").$basename(b)});a.defs(e,"$mkdir_p",function(b){var d,e,g=p;return(d=a.get("File")["$directory?"](b))===p||d.$$is_boolean&&1!=d?(g=a.get("File").$dirname(b),(d=(e=a.get("File")["$directory?"](g=a.get("File").$dirname(b))["$!"](),!1!==e&&e!==p?g["$!="]("."):e))===p||d.$$is_boolean&&1!=d||this.$mkdir_p(g),a.get("Dir").$mkdir(b)):p})})(t(k,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var k=a.nil,e=a.breaker,d=a.slice,b=a.module,z=a.hash2,x=a.gvars,w=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $gsub! $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_lines_to_highlight $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(r){(function(n){n=b(n,"Substitutors");var v=n.$$scope;a.cdecl(v,"SPECIAL_CHARS",z(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(v,"SPECIAL_CHARS_PATTERN",new RegExp("["+v.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(v,"SUBS",z("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),
header:["specialcharacters","attributes"],pass:[]}));a.cdecl(v,"COMPOSITE_SUBS",z(["none","normal","verbatim","specialchars"],{none:[],normal:v.get("SUBS")["$[]"]("normal"),verbatim:v.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(v,"SUB_SYMBOLS",z("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(v,"SUB_OPTIONS",z(["block","inline"],{block:p(p(v.get("COMPOSITE_SUBS").$keys(),
v.get("SUBS")["$[]"]("normal")),["callouts"]),inline:p(v.get("COMPOSITE_SUBS").$keys(),v.get("SUBS")["$[]"]("normal"))}));a.cdecl(v,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(v,"PASS_START","\u0096");a.cdecl(v,"PASS_END","\u0097");a.cdecl(v,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(v,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);n.$attr_reader("passthroughs");a.defn(n,"$apply_subs",function(b,d,e){var g,q,h,c,n,B=k,l=k,r=k,E=k;null==this.passthroughs&&
(this.passthroughs=k);null==d&&(d="normal");null==e&&(e=!1);if((g=d["$!"]())!==k&&(!g.$$is_boolean||1==g))return b;d["$=="]("normal")?d=v.get("SUBS")["$[]"]("normal"):!1!==e&&e!==k&&((g=a.get("Symbol")["$==="](d))===k||g.$$is_boolean&&1!=g?(B=[],(g=(q=d).$each,g.$$p=(h=function(a){var b;null==a&&(a=k);return(b=v.get("COMPOSITE_SUBS")["$has_key?"](a))===k||b.$$is_boolean&&1!=b?B["$<<"](a):B=p(B,v.get("COMPOSITE_SUBS")["$[]"](a))},h.$$s=this,h),g).call(q),d=B):d=!1!==(g=v.get("COMPOSITE_SUBS")["$[]"](d))&&
g!==k?g:[d]);if((g=d["$empty?"]())!==k&&(!g.$$is_boolean||1==g))return b;l=(g=r=a.get("Array")["$==="](b))===k||g.$$is_boolean&&1!=g?b:t(b,v.get("EOL"));(g=E=d["$include?"]("macros"))===k||g.$$is_boolean&&1!=g||(l=this.$extract_passthroughs(l),(g=this.passthroughs["$empty?"]())===k||g.$$is_boolean&&1!=g||(E=!1));(g=(c=d).$each,g.$$p=(n=function(a){var b=n.$$s||this,c,h=k;null==a&&(a=k);h=a;return"specialcharacters"["$==="](h)?l=b.$sub_specialchars(l):"quotes"["$==="](h)?l=b.$sub_quotes(l):"attributes"["$==="](h)?
l=t(b.$sub_attributes(l.$split(v.get("EOL"))),v.get("EOL")):"replacements"["$==="](h)?l=b.$sub_replacements(l):"macros"["$==="](h)?l=b.$sub_macros(l):"highlight"["$==="](h)?l=b.$highlight_source(l,d["$include?"]("callouts")):"callouts"["$==="](h)?(c=d["$include?"]("highlight"))===k||c.$$is_boolean&&1!=c?l=b.$sub_callouts(l):k:"post_replacements"["$==="](h)?l=b.$sub_post_replacements(l):b.$warn("asciidoctor: WARNING: unknown substitution type "+a)},n.$$s=this,n),g).call(c);!1!==E&&E!==k&&(l=this.$restore_passthroughs(l));
return!1!==r&&r!==k?l.$split(v.get("EOL")):l});a.defn(n,"$apply_normal_subs",function(b){var d;return this.$apply_subs((d=a.get("Array")["$==="](b))===k||d.$$is_boolean&&1!=d?b:t(b,v.get("EOL")))});a.defn(n,"$apply_title_subs",function(a){return this.$apply_subs(a,v.get("SUBS")["$[]"]("title"))});a.defn(n,"$apply_header_subs",function(a){return this.$apply_subs(a,v.get("SUBS")["$[]"]("header"))});a.defn(n,"$extract_passthroughs",function(b){var d,e,n,q,h,c,p,B,r=k,G=k,E=k,A=k;null==this.document&&
(this.document=k);r=this.document.$compat_mode();(d=!1!==(e=!1!==(n=b["$include?"]("++"))&&n!==k?n:b["$include?"]("$$"))&&e!==k?e:b["$include?"]("ss:"))===k||d.$$is_boolean&&1!=d||(b=(d=(e=b).$gsub,d.$$p=(q=function(){var b=q.$$s||this,c,h=k,f=k,d=k,e=d=k,m=k,u=k,n=k,h=k;null==b.passthroughs&&(b.passthroughs=k);null==x["~"]&&(x["~"]=k);h=x["~"];f=k;if((c=(d=h["$[]"](4))["$nil_or_empty?"]())===k||c.$$is_boolean&&1!=c){if((c=!1!==r&&r!==k?d["$=="]("++"):r)!==k&&(!c.$$is_boolean||1==c))return(c=h["$[]"](2)["$nil_or_empty?"]())===
k||c.$$is_boolean&&1!=c?""+h["$[]"](1)+"["+h["$[]"](2)+"]"+h["$[]"](3)+"++"+b.$extract_passthroughs(h["$[]"](5))+"++":""+h["$[]"](1)+h["$[]"](3)+"++"+b.$extract_passthroughs(h["$[]"](5))+"++";e=h["$[]"](2);(c=a.get("RUBY_ENGINE_OPAL"))===k||c.$$is_boolean&&1!=c||e["$=="]("")&&(e=k);m=h["$[]"](3).$size();u=h["$[]"](5);n=!1;if(!1!==e&&e!==k)if((c=l(m,0))===k||c.$$is_boolean&&1!=c)h["$[]"](1)["$=="]("\\")?(f="["+e+"]",e=k):((c=d["$=="]("++")?e["$end_with?"]("x-"):d["$=="]("++"))===k||c.$$is_boolean&&
1!=c||(n=!0,e=e["$[]"](w(0,-2,!0))),e=b.$parse_attributes(e));else return""+h["$[]"](1)+"["+e+"]"+t("\\",g(m,1))+d+h["$[]"](5)+d+")";else if((c=l(m,0))!==k&&(!c.$$is_boolean||1==c))return""+h["$[]"](1)+"["+e+"]"+t("\\",g(m,1))+d+h["$[]"](5)+d;h=d["$=="]("+++")?[]:["specialcharacters"];d=b.passthroughs.$size();if(!1!==e&&e!==k)if(!1!==n&&n!==k)b.passthroughs["$[]="](d,z(["text","subs","type","attributes"],{text:u,subs:v.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:e}));else b.passthroughs["$[]="](d,
z(["text","subs","type","attributes"],{text:u,subs:h,type:"unquoted",attributes:e}));else b.passthroughs["$[]="](d,z(["text","subs"],{text:u,subs:h}))}else{if(h["$[]"](6)["$=="]("\\"))return h["$[]"](0)["$[]"](w(1,-1,!1));b.passthroughs["$[]="](d=b.passthroughs.$size(),z(["text","subs"],{text:b.$unescape_brackets(h["$[]"](8)),subs:(c=h["$[]"](7)["$nil_or_empty?"]())===k||c.$$is_boolean&&1!=c?b.$resolve_pass_subs(h["$[]"](7)):[]}))}return""+f+v.get("PASS_START")+d+v.get("PASS_END")},q.$$s=this,q),
d).call(e,v.get("PassInlineMacroRx")));n=v.get("PassInlineRx")["$[]"](r);d=a.to_ary(n);G=null==d[0]?k:d[0];E=null==d[1]?k:d[1];A=null==d[2]?k:d[2];n;(d=!1!==(n=b["$include?"](G))&&n!==k?n:(h=!1!==E&&E!==k)?b["$include?"](E):E)===k||d.$$is_boolean&&1!=d||(b=(d=(n=b).$gsub,d.$$p=(c=function(){var b=c.$$s||this,h,f=k,d=k,e=k,m=k,g=k,q=k,u=k,g=f=k;null==b.passthroughs&&(b.passthroughs=k);null==x["~"]&&(x["~"]=k);f=x["~"];d=f["$[]"](1);e=f["$[]"](2);m=(h=f["$[]"](3)["$start_with?"]("\\"))===k||h.$$is_boolean&&
1!=h?k:"\\";g=f["$[]"](4);q=f["$[]"](5);(h=a.get("RUBY_ENGINE_OPAL"))===k||h.$$is_boolean&&1!=h||e["$=="]("")&&(e=k);!1!==r&&r!==k?u=!0:(h=u=!1!==e&&e!==k?e["$end_with?"]("x-"):e)===k||h.$$is_boolean&&1!=h||(e=e["$[]"](w(0,-2,!0)));if(!1!==e&&e!==k){if((h=g["$=="]("`")?u["$!"]():g["$=="]("`"))!==k&&(!h.$$is_boolean||1==h))return""+d+"["+e+"]"+m+"`"+b.$extract_passthroughs(q)+"`";if(!1!==m&&m!==k)return""+d+"["+e+"]"+f["$[]"](3)["$[]"](w(1,-1,!1));d["$=="]("\\")?(d="["+e+"]",e=k):e=b.$parse_attributes(e)}else{if((h=
g["$=="]("`")?u["$!"]():g["$=="]("`"))!==k&&(!h.$$is_boolean||1==h))return""+d+m+"`"+b.$extract_passthroughs(q)+"`";if(!1!==m&&m!==k)return""+d+f["$[]"](3)["$[]"](w(1,-1,!1))}f=b.passthroughs.$size();if(!1!==r&&r!==k)b.passthroughs["$[]="](f,z(["text","subs","attributes","type"],{text:q,subs:["specialcharacters"],attributes:e,type:"monospaced"}));else if(!1!==e&&e!==k)if(!1!==u&&u!==k)g=g["$=="]("`")?["specialcharacters"]:v.get("SUBS")["$[]"]("normal"),b.passthroughs["$[]="](f,z(["text","subs","attributes",
"type"],{text:q,subs:g,attributes:e,type:"monospaced"}));else b.passthroughs["$[]="](f,z(["text","subs","attributes","type"],{text:q,subs:["specialcharacters"],attributes:e,type:"unquoted"}));else b.passthroughs["$[]="](f,z(["text","subs"],{text:q,subs:["specialcharacters"]}));return""+d+v.get("PASS_START")+f+v.get("PASS_END")},c.$$s=this,c),d).call(n,A));(d=(h=b["$include?"](":"),!1!==h&&h!==k?!1!==(p=b["$include?"]("stem:"))&&p!==k?p:b["$include?"]("math:"):h))===k||d.$$is_boolean&&1!=d||(b=(d=
(h=b).$gsub,d.$$p=(B=function(){var a=B.$$s||this,b,c=k,h=k,f=k,d=k,e=c=k;null==a.document&&(a.document=k);null==a.passthroughs&&(a.passthroughs=k);null==x["~"]&&(x["~"]=k);c=x["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return c["$[]"](0)["$[]"](w(1,-1,!1));(h=c["$[]"](1).$to_sym())["$=="]("stem")&&(h=((b=(f=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===k||b.$$is_boolean&&1!=b?f:"asciimath").$to_sym());d=a.$unescape_brackets(c["$[]"](3));c=(b=c["$[]"](2)["$nil_or_empty?"]())===
k||b.$$is_boolean&&1!=b?a.$resolve_pass_subs(c["$[]"](2)):(b=a.document["$basebackend?"]("html"))===k||b.$$is_boolean&&1!=b?[]:["specialcharacters"];a.passthroughs["$[]="](e=a.passthroughs.$size(),z(["text","subs","type"],{text:d,subs:c,type:h}));return""+v.get("PASS_START")+e+v.get("PASS_END")},B.$$s=this,B),d).call(h,v.get("StemInlineMacroRx")));return b});a.defn(n,"$restore_passthroughs",function(a,b){var d,e,g,h;null==this.passthroughs&&(this.passthroughs=k);null==b&&(b=!0);try{return(d=(e=!1!==
b&&b!==k)?!1!==(g=this.passthroughs["$empty?"]())&&g!==k?g:a["$include?"](v.get("PASS_START"))["$!"]():b)===k||d.$$is_boolean&&1!=d?(d=(e=a).$gsub,d.$$p=(h=function(){var a=h.$$s||this,b,f=k,d=k,e=k,m=k;null==a.passthroughs&&(a.passthroughs=k);null==x["~"]&&(x["~"]=k);f=a.passthroughs["$[]"](x["~"]["$[]"](1).$to_i());d=(b=e=f["$[]"]("subs"))===k||b.$$is_boolean&&1!=b?f["$[]"]("text"):a.$apply_subs(f["$[]"]("text"),e);(b=m=f["$[]"]("type"))===k||b.$$is_boolean&&1!=b||(d=v.get("Inline").$new(a,"quoted",
d,z(["type","attributes"],{type:m,attributes:f["$[]"]("attributes")})).$convert());return(b=d["$include?"](v.get("PASS_START")))===k||b.$$is_boolean&&1!=b?d:a.$restore_passthroughs(d,!1)},h.$$s=this,h),d).call(e,v.get("PASS_MATCH")):a}finally{!1!==b&&b!==k&&this.passthroughs.$clear()}});a.defn(n,"$sub_specialchars",function(a){var b,d;return(b=v.get("SUPPORTS_GSUB_RESULT_HASH"))===k||b.$$is_boolean&&1!=b?(b=a.$gsub,b.$$p=(d=function(){var a;return v.get("SPECIAL_CHARS")["$[]"]((a=x["~"])===k?k:a["$[]"](0))},
d.$$s=this,d),b).call(a,v.get("SPECIAL_CHARS_PATTERN")):a.$gsub(v.get("SPECIAL_CHARS_PATTERN"),v.get("SPECIAL_CHARS"))});a.alias(n,"sub_specialcharacters","sub_specialchars");a.defn(n,"$sub_quotes",function(b){var d,e,g,q,h,c=k;null==this.document&&(this.document=k);(d=a.get("RUBY_ENGINE_OPAL"))===k||d.$$is_boolean&&1!=d?(c=""+b,(d=(q=v.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,d.$$p=(h=function(a,b,f){var d=h.$$s||this,e,m,g;null==a&&(a=k);null==b&&(b=k);null==f&&(f=k);return(e=
(m=c)["$gsub!"],e.$$p=(g=function(){var c=g.$$s||this;null==x["~"]&&(x["~"]=k);return c.$convert_quoted_text(x["~"],a,b)},g.$$s=d,g),e).call(m,f)},h.$$s=this,h),d).call(q)):(c=b,(d=(e=v.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,d.$$p=(g=function(a,b,h){var f=g.$$s||this,d,e,m;null==a&&(a=k);null==b&&(b=k);null==h&&(h=k);return c=(d=(e=c).$gsub,d.$$p=(m=function(){var c=m.$$s||this;null==x["~"]&&(x["~"]=k);return c.$convert_quoted_text(x["~"],a,b)},m.$$s=f,m),d).call(e,h)},g.$$s=
this,g),d).call(e));return c});a.defn(n,"$sub_replacements",function(b){var d,e,g,q,h,c=k;(d=a.get("RUBY_ENGINE_OPAL"))===k||d.$$is_boolean&&1!=d?(c=""+b,(d=(q=v.get("REPLACEMENTS")).$each,d.$$p=(h=function(a,b,f){var d=h.$$s||this,e,m,g;null==a&&(a=k);null==b&&(b=k);null==f&&(f=k);return(e=(m=c)["$gsub!"],e.$$p=(g=function(){var a=g.$$s||this;null==x["~"]&&(x["~"]=k);return a.$do_replacement(x["~"],b,f)},g.$$s=d,g),e).call(m,a)},h.$$s=this,h),d).call(q)):(c=b,(d=(e=v.get("REPLACEMENTS")).$each,d.$$p=
(g=function(a,b,h){var f=g.$$s||this,d,e,m;null==a&&(a=k);null==b&&(b=k);null==h&&(h=k);return c=(d=(e=c).$gsub,d.$$p=(m=function(){var a=m.$$s||this;null==x["~"]&&(x["~"]=k);return a.$do_replacement(x["~"],b,h)},m.$$s=f,m),d).call(e,a)},g.$$s=this,g),d).call(e));return c});a.defn(n,"$do_replacement",function(a,b,d){var e,g=k,g=k;(e=(g=a["$[]"](0))["$include?"]("\\"))===k||e.$$is_boolean&&1!=e?(g=d,a="none"["$==="](g)?b:"leading"["$==="](g)?""+a["$[]"](1)+b:"bounding"["$==="](g)?""+a["$[]"](1)+b+
a["$[]"](2):k):a=g.$tr("\\","");return a});a.defn(n,"$sub_attributes",function(b,d){var g,n,q,h=k,c=k,l=k,B=k;null==this.document&&(this.document=k);null==d&&(d=z([],{}));if((g=b["$nil_or_empty?"]())!==k&&(!g.$$is_boolean||1==g))return b;(g=h=a.get("String")["$==="](b))===k||g.$$is_boolean&&1!=g||(b=[b]);c=this.document.$attributes();l=k;B=[];(g=(n=b).$each,g.$$p=(q=function(b){var h=q.$$s||this,f,g,u,n,y=k,r=k;null==b&&(b=k);r=y=!1;(f=b["$include?"]("{"))===k||f.$$is_boolean&&1!=f||(b=(f=(g=b).$gsub,
f.$$p=(u=function(){var b=u.$$s||this,h,f,g,q=k,n=k,A=k,B=k,E=k,t=k,Z=k,J=k,G=k;null==b.document&&(b.document=k);null==x["~"]&&(x["~"]=k);q=x["~"];if((h=!1!==(f=q["$[]"](1)["$=="]("\\"))&&f!==k?f:q["$[]"](4)["$=="]("\\"))===k||h.$$is_boolean&&1!=h){if((h=q["$[]"](3)["$nil_or_empty?"]()["$!"]())===k||h.$$is_boolean&&1!=h)return(h=c["$key?"](G=q["$[]"](2).$downcase()))===k||h.$$is_boolean&&1!=h?(h=v.get("INTRINSIC_ATTRIBUTES")["$key?"](G))===k||h.$$is_boolean&&1!=h?function(){E=!1!==(h=l)&&h!==k?h:
l=!1!==(f=d["$[]"]("attribute_missing"))&&f!==k?f:c.$fetch("attribute-missing",v.get("Compliance").$attribute_missing());if("skip"["$==="](E))return q["$[]"](0);if("drop-line"["$==="](E))return b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+G),y=!0,e.$v="",e;if("warn"["$==="](E))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+G),q["$[]"](0);r=!0;return""}():v.get("INTRINSIC_ATTRIBUTES")["$[]"](G):c["$[]"](G);n=p((A=q["$[]"](3)).$length(),
1);B=q["$[]"](2)["$[]"](w(n,-1,!1));return function(){E=A;if("set"["$==="](E)){t=B.$split(":");f=v.get("Parser").$store_attribute(t["$[]"](0),!1!==(g=t["$[]"](1))&&g!==k?g:"",b.document);h=a.to_ary(f);Z=null==h[1]?k:h[1];f;if((!1===Z||Z===k)&&c.$fetch("attribute-undefined",v.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return y=!0,e.$v="",e;r=!0;return""}if("counter"["$==="](E)||"counter2"["$==="](E))return t=B.$split(":"),J=b.document.$counter(t["$[]"](0),t["$[]"](1)),A["$=="]("counter2")?
(r=!0,""):J;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+q["$[]"](3));return q["$[]"](0)}()}return"{"+q["$[]"](2)+"}"},u.$$s=h,u),f).call(g,v.get("AttributeReferenceRx")));return(f=!1!==(n=y)&&n!==k?n:!1!==r&&r!==k?b["$empty?"]():r)===k||f.$$is_boolean&&1!=f?B["$<<"](b):k},q.$$s=this,q),g).call(n);return!1!==h&&h!==k?t(B,v.get("EOL")):B});a.defn(n,"$sub_macros",function(b){var e,g,n,q,h,c,l,p,r,t,E,A,H,Z,C,P,fa,I,K,S,Q=k,M=k,V=k,N=k,L=k,U=k;null==this.document&&(this.document=k);
if((e=b["$nil_or_empty?"]())!==k&&(!e.$$is_boolean||1==e))return b;Q=z([],{});Q["$[]="]("square_bracket",b["$include?"]("["));Q["$[]="]("round_bracket",b["$include?"]("("));Q["$[]="]("colon",M=b["$include?"](":"));Q["$[]="]("macroish",(e=Q["$[]"]("square_bracket"),!1!==e&&e!==k?M:e));Q["$[]="]("macroish_short_form",(e=(g=Q["$[]"]("square_bracket"),!1!==g&&g!==k?M:g),!1!==e&&e!==k?b["$include?"](":["):e));V=this.document.$attributes()["$has_key?"]("linkattrs");N=this.document.$attributes()["$has_key?"]("experimental");
L=""+b;!1!==N&&N!==k&&((e=(g=Q["$[]"]("macroish_short_form"),!1!==g&&g!==k?!1!==(n=L["$include?"]("kbd:"))&&n!==k?n:L["$include?"]("btn:"):g))===k||e.$$is_boolean&&1!=e||(L=(e=(g=L).$gsub,e.$$p=(q=function(){var a=q.$$s||this,b,c,h,f=k,d=k,f=f=k;null==x["~"]&&(x["~"]=k);f=x["~"];if((b=(d=f["$[]"](0))["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return d["$[]"](w(1,-1,!1));if((b=d["$start_with?"]("kbd"))===k||b.$$is_boolean&&1!=b){if((b=d["$start_with?"]("btn"))===k||b.$$is_boolean&&1!=b)return k;
f=a.$unescape_bracketed_text(f["$[]"](1));return v.get("Inline").$new(a,"button",f).$convert()}f=a.$unescape_bracketed_text(f["$[]"](1));f=f["$=="]("+")?["+"]:(b=(c=f.$split(v.get("KbdDelimiterRx"))).$inject,b.$$p=(h=function(a,b){var c;null==a&&(a=k);null==b&&(b=k);if((c=b["$end_with?"]("++"))===k||c.$$is_boolean&&1!=c)a["$<<"](b.$strip());else a["$<<"](b["$[]"](w(0,-3,!1)).$strip()),a["$<<"]("+");return a},h.$$s=a,h),b).call(c,[]);return v.get("Inline").$new(a,"kbd",k,z(["attributes"],{attributes:z(["keys"],
{keys:f})})).$convert()},q.$$s=this,q),e).call(g,v.get("KbdBtnInlineMacroRx"))),(e=(n=Q["$[]"]("macroish"),!1!==n&&n!==k?L["$include?"]("menu:"):n))===k||e.$$is_boolean&&1!=e||(L=(e=(n=L).$gsub,e.$$p=(h=function(){var a=h.$$s||this,b,c,f,d=k,e=k,m=d=e=k,m=d=k;null==x["~"]&&(x["~"]=k);d=x["~"];if((b=(e=d["$[]"](0))["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return e["$[]"](w(1,-1,!1));e=d["$[]"](1);d=d["$[]"](2);(b=d["$!"]())===k||b.$$is_boolean&&1!=b?(b=m=(c=d["$include?"]("&gt;"))===k||
c.$$is_boolean&&1!=c?(c=d["$include?"](","))===k||c.$$is_boolean&&1!=c?k:",":"&gt;")===k||b.$$is_boolean&&1!=b?(m=[],d=d.$rstrip()):(m=(b=(c=d.$split(m)).$map,b.$$p=(f=function(a){null==a&&(a=k);return a.$strip()},f.$$s=a,f),b).call(c),d=m.$pop()):(m=[],d=k);return v.get("Inline").$new(a,"menu",k,z(["attributes"],{attributes:z(["menu","submenus","menuitem"],{menu:e,submenus:m,menuitem:d})})).$convert()},h.$$s=this,h),e).call(n,v.get("MenuInlineMacroRx"))),(e=(c=L["$include?"]('"'),!1!==c&&c!==k?L["$include?"]("&gt;"):
c))===k||e.$$is_boolean&&1!=e||(L=(e=(c=L).$gsub,e.$$p=(l=function(){var b=l.$$s||this,c,h,f,e,m,g=k,q=k;h=q=g=g=k;null==x["~"]&&(x["~"]=k);g=x["~"];if((c=(q=g["$[]"](0))["$start_with?"]("\\"))!==k&&(!c.$$is_boolean||1==c))return q["$[]"](w(1,-1,!1));g=g["$[]"](1);h=(f=(e=g.$split("&gt;")).$map,f.$$p=(m=function(a){null==a&&(a=k);return a.$strip()},m.$$s=b,m),f).call(e);c=a.to_ary(h);g=null==c[0]?k:c[0];q=d.call(c,1);h;h=q.$pop();return v.get("Inline").$new(b,"menu",k,z(["attributes"],{attributes:z(["menu",
"submenus","menuitem"],{menu:g,submenus:q,menuitem:h})})).$convert()},l.$$s=this,l),e).call(c,v.get("MenuInlineRx"))));(e=(p=U=this.document.$extensions(),!1!==p&&p!==k?U["$inline_macros?"]():p))===k||e.$$is_boolean&&1!=e||(e=(p=U.$inline_macros()).$each,e.$$p=(r=function(a){var b=r.$$s||this,c,h,f;null==a&&(a=k);return L=(c=(h=L).$gsub,c.$$p=(f=function(){var b=f.$$s||this,c,h=k,d=k,h=k;null==x["~"]&&(x["~"]=k);h=x["~"];if((c=h["$[]"](0)["$start_with?"]("\\"))!==k&&(!c.$$is_boolean||1==c))return h["$[]"](0)["$[]"](w(1,
-1,!1));d=h["$[]"](1);h=a.$config()["$[]"]("format")["$=="]("short")?z([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?b.$parse_attributes(h["$[]"](2),!1!==(c=a.$config()["$[]"]("pos_attrs"))&&c!==k?c:[],z(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):z(["text"],{text:b.$unescape_bracketed_text(h["$[]"](2))});return a.$process_method()["$[]"](b,d,h)},f.$$s=b,f),c).call(h,a.$instance().$regexp())},r.$$s=this,r),e).call(p);(e=(t=Q["$[]"]("macroish"),!1!==t&&t!==k?
!1!==(E=L["$include?"]("image:"))&&E!==k?E:L["$include?"]("icon:"):t))===k||e.$$is_boolean&&1!=e||(L=(e=(t=L).$gsub,e.$$p=(A=function(){var a=A.$$s||this,b,c,h,f=k,d=c=k,e=k,e=f=k;null==a.document&&(a.document=k);null==x["~"]&&(x["~"]=k);f=x["~"];if((b=f["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return f["$[]"](0)["$[]"](w(1,-1,!1));c=a.$unescape_bracketed_text(f["$[]"](2));(b=f["$[]"](0)["$start_with?"]("icon:"))===k||b.$$is_boolean&&1!=b?(d="image",e=["alt","width","height"]):
(d="icon",e=["size"]);f=a.$sub_attributes(f["$[]"](1));d["$=="]("icon")||a.document.$register("images",f);e=a.$parse_attributes(c,e);b="alt";c=e;!1!==(h=c["$[]"](b))&&h!==k?h:c["$[]="](b,v.get("Helpers").$basename(f,!0).$tr("_-"," "));return v.get("Inline").$new(a,"image",k,z(["type","target","attributes"],{type:d,target:f,attributes:e})).$convert()},A.$$s=this,A),e).call(t,v.get("ImageInlineMacroRx")));(e=!1!==(E=Q["$[]"]("macroish_short_form"))&&E!==k?E:Q["$[]"]("round_bracket"))===k||e.$$is_boolean&&
1!=e||(L=(e=(E=L).$gsub,e.$$p=(H=function(){var b=H.$$s||this,c,h,f=k,d=k,e=k,m=k,f=f=k;null==b.document&&(b.document=k);null==x["~"]&&(x["~"]=k);f=x["~"];if((c=f["$[]"](0)["$start_with?"]("\\"))!==k&&(!c.$$is_boolean||1==c))return f["$[]"](0)["$[]"](w(1,-1,!1));if((c=a.get("RUBY_ENGINE_OPAL"))!==k&&(!c.$$is_boolean||1==c)&&f["$[]"](1)["$=="](""))f["$[]="](1,k);d=0;e=k;if((c=m=f["$[]"](1))===k||c.$$is_boolean&&1!=c)e=f["$[]"](3),(c=(h=e["$start_with?"]("("),!1!==h&&h!==k?e["$end_with?"](")"):h))===
k||c.$$is_boolean&&1!=c?d=2:(e=e["$[]"](w(1,-1,!0)),d=3);if((c=!1!==(h=m["$=="]("indexterm"))&&h!==k?h:d["$=="](3))===k||c.$$is_boolean&&1!=c)return f=(c=m["$!"]())===k||c.$$is_boolean&&1!=c?b.$normalize_string(f["$[]"](2),!0):b.$normalize_string(e),b.document.$register("indexterms",[f]),v.get("Inline").$new(b,"indexterm",f,z(["type"],{type:"visible"})).$convert();f=(c=m["$!"]())===k||c.$$is_boolean&&1!=c?b.$split_simple_csv(b.$normalize_string(f["$[]"](2),!0)):b.$split_simple_csv(b.$normalize_string(e));
b.document.$register("indexterms",[].concat(a.to_a(f)));return v.get("Inline").$new(b,"indexterm",k,z(["attributes"],{attributes:z(["terms"],{terms:f})})).$convert()},H.$$s=this,H),e).call(E,v.get("IndextermInlineMacroRx")));(e=(b=!1!==M&&M!==k)?L["$include?"]("://"):M)===k||e.$$is_boolean&&1!=e||(L=(e=(b=L).$gsub,e.$$p=(Z=function(){var b=Z.$$s||this,c,h,f,d,e=k,m=k,g=k,q=k,n=k,u=n=k,e=k;null==b.document&&(b.document=k);null==x["~"]&&(x["~"]=k);e=x["~"];if((c=e["$[]"](2)["$start_with?"]("\\"))!==
k&&(!c.$$is_boolean||1==c))return""+e["$[]"](1)+e["$[]"](2)["$[]"](w(1,-1,!1))+e["$[]"](3);if((c=a.get("RUBY_ENGINE_OPAL"))!==k&&(!c.$$is_boolean||1==c)&&e["$[]"](3)["$=="](""))e["$[]="](3,k);if((c=(h=e["$[]"](1)["$=="]("link:"))?e["$[]"](3)["$!"]():e["$[]"](1)["$=="]("link:"))!==k&&(!c.$$is_boolean||1==c))return e["$[]"](0);m=(c=e["$[]"](1)["$!="]("link:"))===k||c.$$is_boolean&&1!=c?"":e["$[]"](1);g=e["$[]"](2);q="";if((c=!1!==(h=e["$[]"](3))&&h!==k?h:g["$!~"](v.get("UriTerminator")))===k||c.$$is_boolean&&
1!=c)n=x["~"]["$[]"](0),")"["$==="](n)?(g=g["$[]"](w(0,-2,!1)),q=")"):";"["$==="](n)?(c=(h=m["$start_with?"]("&lt;"),!1!==h&&h!==k?g["$end_with?"]("&gt;"):h))===k||c.$$is_boolean&&1!=c?(c=g["$end_with?"](");"))===k||c.$$is_boolean&&1!=c?(g=g["$[]"](w(0,-2,!1)),q=";"):(g=g["$[]"](w(0,-3,!1)),q=");"):(m=m["$[]"](w(4,-1,!1)),g=g["$[]"](w(0,-5,!1))):":"["$==="](n)&&((c=g["$end_with?"]("):"))===k||c.$$is_boolean&&1!=c?(g=g["$[]"](w(0,-2,!1)),q=":"):(g=g["$[]"](w(0,-3,!1)),q="):"));b.document.$register("links",
g);n=z(["type","target"],{type:"link",target:g});u=k;if((c=e["$[]"](3)["$nil_or_empty?"]())===k||c.$$is_boolean&&1!=c){if((c=!1!==V&&V!==k?!1!==(f=e["$[]"](3)["$start_with?"]('"'))&&f!==k?f:(d=e["$[]"](3)["$include?"](","),!1!==d&&d!==k?e["$[]"](3)["$include?"]("="):d):V)===k||c.$$is_boolean&&1!=c)e=b.$sub_attributes(e["$[]"](3).$gsub("\\]","]"));else{u=b.$parse_attributes(b.$sub_attributes(e["$[]"](3).$gsub("\\]","]")),[]);if((c=u["$has_key?"]("id"))!==k&&(!c.$$is_boolean||1==c))n["$[]="]("id",u.$delete("id"));
e=!1!==(c=u["$[]"](1))&&c!==k?c:""}(c=e["$end_with?"]("^"))===k||c.$$is_boolean&&1!=c||(e=e.$chop(),!1!==u&&u!==k?(c="window",h=u,!1!==(f=h["$[]"](c))&&f!==k?f:h["$[]="](c,"_blank")):u=z(["window"],{window:"_blank"}))}else e="";if((c=e["$empty?"]())!==k&&(!c.$$is_boolean||1==c))if(e=(c=b.document["$attr?"]("hide-uri-scheme"))===k||c.$$is_boolean&&1!=c?g:g.$sub(v.get("UriSniffRx"),""),!1!==u&&u!==k)u["$[]="]("role",("bare "+u["$[]"]("role")).$chomp(" "));else u=z(["role"],{role:"bare"});if(!1!==u&&
u!==k)n["$[]="]("attributes",u);return""+m+v.get("Inline").$new(b,"anchor",e,n).$convert()+q},Z.$$s=this,Z),e).call(b,v.get("LinkInlineRx")));(e=!1!==(C=(P=Q["$[]"]("macroish"),!1!==P&&P!==k?L["$include?"]("link:"):P))&&C!==k?C:L["$include?"]("mailto:"))===k||e.$$is_boolean&&1!=e||(L=(e=(C=L).$gsub,e.$$p=(fa=function(){var a=fa.$$s||this,b,c,h,f=k,d=k,e=k,m=c=k,g=k,f=k;null==a.document&&(a.document=k);null==x["~"]&&(x["~"]=k);f=x["~"];if((b=f["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||
1==b))return f["$[]"](0)["$[]"](w(1,-1,!1));d=f["$[]"](1);e=f["$[]"](0)["$start_with?"]("mailto:");c=!1!==e&&e!==k?"mailto:"+d:d;m=z(["type","target"],{type:"link",target:c});g=k;if((b=!1!==V&&V!==k?!1!==(h=f["$[]"](2)["$start_with?"]('"'))&&h!==k?h:f["$[]"](2)["$include?"](","):V)===k||b.$$is_boolean&&1!=b)f=a.$sub_attributes(f["$[]"](2).$gsub("\\]","]"));else{g=a.$parse_attributes(a.$sub_attributes(f["$[]"](2).$gsub("\\]","]")),[]);if((b=g["$key?"]("id"))!==k&&(!b.$$is_boolean||1==b))m["$[]="]("id",
g.$delete("id"));!1===e||e===k||(b=g["$key?"](2))===k||b.$$is_boolean&&1!=b||(c=m["$[]="]("target",""+c+"?subject="+v.get("Helpers").$encode_uri(g["$[]"](2))),(b=g["$key?"](3))===k||b.$$is_boolean&&1!=b||(c=m["$[]="]("target",""+c+"&amp;body="+v.get("Helpers").$encode_uri(g["$[]"](3)))));f=g["$[]"](1)}a.document.$register("links",c);(b=f["$end_with?"]("^"))===k||b.$$is_boolean&&1!=b||(f=f.$chop(),!1!==g&&g!==k?(b="window",c=g,!1!==(h=c["$[]"](b))&&h!==k?h:c["$[]="](b,"_blank")):g=z(["window"],{window:"_blank"}));
if((b=f["$empty?"]())!==k&&(!b.$$is_boolean||1==b))if(!1!==e&&e!==k)f=d;else if(f=(b=a.document["$attr?"]("hide-uri-scheme"))===k||b.$$is_boolean&&1!=b?d:d.$sub(v.get("UriSniffRx"),""),!1!==g&&g!==k)g["$[]="]("role",("bare "+g["$[]"]("role")).$chomp(" "));else g=z(["role"],{role:"bare"});if(!1!==g&&g!==k)m["$[]="]("attributes",g);return v.get("Inline").$new(a,"anchor",f,m).$convert()},fa.$$s=this,fa),e).call(C,v.get("LinkInlineMacroRx")));(e=L["$include?"]("@"))===k||e.$$is_boolean&&1!=e||(L=(e=(P=
L).$gsub,e.$$p=(I=function(){var a=I.$$s||this,b,c=k,h=k,c=c=k;null==a.document&&(a.document=k);null==x["~"]&&(x["~"]=k);c=x["~"];h=c["$[]"](0);if((b=c=c["$[]"](1))!==k&&(!b.$$is_boolean||1==b))return"\\"["$==="](c)?h["$[]"](w(1,-1,!1)):h;c="mailto:"+h;a.document.$register("links",c);return v.get("Inline").$new(a,"anchor",h,z(["type","target"],{type:"link",target:c})).$convert()},I.$$s=this,I),e).call(P,v.get("EmailInlineMacroRx")));(e=(K=Q["$[]"]("macroish_short_form"),!1!==K&&K!==k?L["$include?"]("footnote"):
K))===k||e.$$is_boolean&&1!=e||(L=(e=(K=L).$gsub,e.$$p=(S=function(){var b=S.$$s||this,c,h,f,d,e=k,m=k,g=h=e=k,q=k,e=k;null==b.document&&(b.document=k);null==x["~"]&&(x["~"]=k);e=x["~"];if((c=e["$[]"](0)["$start_with?"]("\\"))!==k&&(!c.$$is_boolean||1==c))return e["$[]"](0)["$[]"](w(1,-1,!1));e["$[]"](1)["$=="]("footnote")?(m=k,e=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(e["$[]"](2),!0))),!1),h=b.document.$counter("footnote-number"),b.document.$register("footnotes",
v.get("Document").$$scope.get("Footnote").$new(h,m,e)),q=g=k):(h=e["$[]"](2).$split(",",2),c=a.to_ary(h),m=null==c[0]?k:c[0],e=null==c[1]?k:c[1],h,m=m.$strip(),(c=e["$nil_or_empty?"]())===k||c.$$is_boolean&&1!=c?(e=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(e,!0))),!1),h=b.document.$counter("footnote-number"),b.document.$register("footnotes",v.get("Document").$$scope.get("Footnote").$new(h,m,e)),g="ref",q=k):((c=e=(h=(f=b.document.$references()["$[]"]("footnotes")).$find,
h.$$p=(d=function(a){null==a&&(a=k);return a.$id()["$=="](m)},d.$$s=b,d),h).call(f))===k||c.$$is_boolean&&1!=c?(h=k,e=m):(h=e.$index(),e=e.$text()),q=m,m=k,g="xref"));return v.get("Inline").$new(b,"footnote",e,z(["attributes","id","target","type"],{attributes:z(["index"],{index:h}),id:m,target:q,type:g})).$convert()},S.$$s=this,S),e).call(K,v.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(L,Q),Q)});a.defn(n,"$sub_inline_anchors",function(b,d){var e,g,q,h,c,n,
l;null==d&&(d=k);(e=(g=!1!==(q=d["$!"]())&&q!==k?q:d["$[]"]("square_bracket"),!1!==g&&g!==k?b["$include?"]("[[["):g))===k||e.$$is_boolean&&1!=e||(b=(e=(g=b).$gsub,e.$$p=(h=function(){var a=h.$$s||this,b,c=k,f=c=k;null==x["~"]&&(x["~"]=k);c=x["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return c["$[]"](0)["$[]"](w(1,-1,!1));c=f=c["$[]"](1);return v.get("Inline").$new(a,"anchor",f,z(["type","target"],{type:"bibref",target:c})).$convert()},h.$$s=this,h),e).call(g,v.get("InlineBiblioAnchorRx")));
(e=!1!==(q=(c=!1!==(n=d["$!"]())&&n!==k?n:d["$[]"]("square_bracket"),!1!==c&&c!==k?b["$include?"]("[["):c))&&q!==k?q:(c=!1!==(n=d["$!"]())&&n!==k?n:d["$[]"]("macroish"),!1!==c&&c!==k?b["$include?"]("anchor:"):c))===k||e.$$is_boolean&&1!=e||(b=(e=(q=b).$gsub,e.$$p=(l=function(){var b=l.$$s||this,c,h,f=k,d=k,f=k;null==x["~"]&&(x["~"]=k);f=x["~"];if((c=f["$[]"](0)["$start_with?"]("\\"))!==k&&(!c.$$is_boolean||1==c))return f["$[]"](0)["$[]"](w(1,-1,!1));if((c=a.get("RUBY_ENGINE_OPAL"))!==k&&(!c.$$is_boolean||
1==c)){if(f["$[]"](1)["$=="](""))f["$[]="](1,k);if(f["$[]"](2)["$=="](""))f["$[]="](2,k);if(f["$[]"](4)["$=="](""))f["$[]="](4,k)}d=!1!==(c=f["$[]"](1))&&c!==k?c:f["$[]"](3);f=!1!==(c=!1!==(h=f["$[]"](2))&&h!==k?h:f["$[]"](4))&&c!==k?c:"["+d+"]";return v.get("Inline").$new(b,"anchor",f,z(["type","target"],{type:"ref",target:d})).$convert()},l.$$s=this,l),e).call(q,v.get("InlineAnchorRx")));return b});a.defn(n,"$sub_inline_xrefs",function(b,d){var e,g,q,h;null==d&&(d=k);(e=!1!==(g=!1!==(q=d["$!"]())&&
q!==k?q:d["$[]"]("macroish"))&&g!==k?g:b["$include?"]("&lt;&lt;"))===k||e.$$is_boolean&&1!=e||(b=(e=(g=b).$gsub,e.$$p=(h=function(){var b=h.$$s||this,f,d,e,m,g,q,n=k,u=k,l=k,p=u=n=k,y=k,p=k;null==b.document&&(b.document=k);null==x["~"]&&(x["~"]=k);n=x["~"];if((f=n["$[]"](0)["$start_with?"]("\\"))!==k&&(!f.$$is_boolean||1==f))return n["$[]"](0)["$[]"](w(1,-1,!1));if((f=a.get("RUBY_ENGINE_OPAL"))!==k&&(!f.$$is_boolean||1==f)&&n["$[]"](1)["$=="](""))n["$[]="](1,k);if((f=n["$[]"](1))===k||f.$$is_boolean&&
1!=f){if(u=n["$[]"](2),(f=n["$[]"](3)["$nil_or_empty?"]())===k||f.$$is_boolean&&1!=f)l=n["$[]"](3)}else d=(e=(m=n["$[]"](1).$split(",",2)).$map,e.$$p=(g=function(a){null==a&&(a=k);return a.$strip()},g.$$s=b,g),e).call(m),f=a.to_ary(d),u=null==f[0]?k:f[0],l=null==f[1]?k:f[1],d,u=u.$sub(v.get("DoubleQuotedRx"),"\\2"),l=(f=l["$nil_or_empty?"]())===k||f.$$is_boolean&&1!=f?l.$sub(v.get("DoubleQuotedMultiRx"),"\\2"):k;(f=u["$include?"]("#"))===k||f.$$is_boolean&&1!=f?n=k:(d=u.$split("#"),f=a.to_ary(d),
n=null==f[0]?k:f[0],u=null==f[1]?k:f[1],d);!1!==n&&n!==k?(n=v.get("Helpers").$rootname(n),(f=!1!==(d=b.document.$attributes()["$[]"]("docname")["$=="](n))&&d!==k?d:b.document.$references()["$[]"]("includes")["$include?"](n))===k||f.$$is_boolean&&1!=f?(p=!1!==u&&u!==k?""+n+"#"+u:n,n=""+b.document.$attributes()["$[]"]("relfileprefix")+n+b.document.$attributes().$fetch("outfilesuffix",".html"),y=!1!==u&&u!==k?""+n+"#"+u:n):(p=u,n=k,y="#"+u)):((f=(d=(e=b.document.$references()["$[]"]("ids")["$has_key?"](u)["$!"](),
!1!==e&&e!==k?!1!==(q=u["$include?"](" "))&&q!==k?q:u.$downcase()["$!="](u):e),!1!==d&&d!==k?p=(e=v.get("RUBY_MIN_VERSION_1_9"))===k||e.$$is_boolean&&1!=e?b.document.$references()["$[]"]("ids").$index(u):b.document.$references()["$[]"]("ids").$key(u):d))===k||f.$$is_boolean&&1!=f||(u=p),p=u,y="#"+u);return v.get("Inline").$new(b,"anchor",l,z(["type","target","attributes"],{type:"xref",target:y,attributes:z(["path","fragment","refid"],{path:n,fragment:u,refid:p})})).$convert()},h.$$s=this,h),e).call(g,
v.get("XrefInlineMacroRx")));return b});a.defn(n,"$sub_callouts",function(b){var d,e,g=k,g=(d=this["$attr?"]("line-comment"))===k||d.$$is_boolean&&1!=d?v.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+v.get("CalloutSourceRxt"));return(d=b.$gsub,d.$$p=(e=function(){var a=e.$$s||this,b=k;null==a.document&&(a.document=k);null==x["~"]&&(x["~"]=k);b=x["~"];return b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):v.get("Inline").$new(a,"callout",b["$[]"](3),
z(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e.$$s=this,e),d).call(b,g)});a.defn(n,"$sub_post_replacements",function(a){var b,d,e,g,h=k,c=k;null==this.document&&(this.document=k);null==this.attributes&&(this.attributes=k);if((b=!1!==(d=this.document.$attributes()["$has_key?"]("hardbreaks"))&&d!==k?d:this.attributes["$has_key?"]("hardbreaks-option"))===k||b.$$is_boolean&&1!=b)return(b=a["$include?"]("+"))===k||b.$$is_boolean&&1!=b?a:(b=a.$gsub,b.$$p=(g=function(){var a=g.$$s||
this;null==x["~"]&&(x["~"]=k);return v.get("Inline").$new(a,"break",x["~"]["$[]"](1),z(["type"],{type:"line"})).$convert()},g.$$s=this,g),b).call(a,v.get("LineBreakRx"));h=a.$split(v.get("EOL"));if(h.$size()["$=="](1))return a;c=h.$pop();return t((b=(d=h).$map,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=k);return v.get("Inline").$new(b,"break",a.$rstrip().$chomp(v.get("LINE_BREAK")),z(["type"],{type:"line"})).$convert()},e.$$s=this,e),b).call(d).$push(c),v.get("EOL"))});a.defn(n,"$convert_quoted_text",
function(a,b,d){var e,g=k,h=k,c=g=k,g=k;if((e=a["$[]"](0)["$start_with?"]("\\"))!==k&&(!e.$$is_boolean||1==e)){if((e=d["$=="]("constrained")?(h=a["$[]"](2))["$nil_or_empty?"]()["$!"]():d["$=="]("constrained"))===k||e.$$is_boolean&&1!=e)return a["$[]"](0)["$[]"](w(1,-1,!1));g="["+h+"]"}if(d["$=="]("constrained")){if(!1!==g&&g!==k)return""+g+v.get("Inline").$new(this,"quoted",a["$[]"](3),z(["type"],{type:b})).$convert();(e=g=this.$parse_quoted_text_attributes(a["$[]"](2)))===k||e.$$is_boolean&&1!=e?
c=k:(c=g.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+v.get("Inline").$new(this,"quoted",a["$[]"](3),z(["type","id","attributes"],{type:b,id:c,attributes:g})).$convert()}(e=g=this.$parse_quoted_text_attributes(a["$[]"](1)))===k||e.$$is_boolean&&1!=e?c=k:(c=g.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return v.get("Inline").$new(this,"quoted",a["$[]"](2),z(["type","id","attributes"],{type:b,id:c,attributes:g})).$convert()});a.defn(n,"$parse_quoted_text_attributes",function(b){var e,
g,n,q=k,h=k,c=k,c=q=k;if(!1===b||b===k)return k;if((e=b["$empty?"]())!==k&&(!e.$$is_boolean||1==e))return z([],{});(e=b["$include?"]("{"))===k||e.$$is_boolean&&1!=e||(b=this.$sub_attributes(b));b=b.$strip();(e=b["$include?"](","))===k||e.$$is_boolean&&1!=e||(g=b.$split(",",2),e=a.to_ary(g),b=null==e[0]?k:e[0],g);if((e=b["$empty?"]())===k||e.$$is_boolean&&1!=e){if((e=(g=!1!==(n=b["$start_with?"]("."))&&n!==k?n:b["$start_with?"]("#"),!1!==g&&g!==k?v.get("Compliance").$shorthand_property_syntax():g))===
k||e.$$is_boolean&&1!=e)return z(["role"],{role:b});q=b.$split("#",2);(e=l(q.$length(),1))===k||e.$$is_boolean&&1!=e?(h=k,c=[]):(g=q["$[]"](1).$split("."),e=a.to_ary(g),h=null==e[0]?k:e[0],c=d.call(e,1),g);q=(e=q["$[]"](0)["$empty?"]())===k||e.$$is_boolean&&1!=e?q["$[]"](0).$split("."):[];(e=l(q.$length(),1))===k||e.$$is_boolean&&1!=e||q.$shift();(e=l(c.$length(),0))===k||e.$$is_boolean&&1!=e||q.$concat(c);c=z([],{});if(!1!==h&&h!==k)c["$[]="]("id",h);if((e=q["$empty?"]())===k||e.$$is_boolean&&1!=
e)c["$[]="]("role",t(q," "));return c}return z([],{})});a.defn(n,"$parse_attributes",function(a,b,d){var e,g=k,h=k;null==this.document&&(this.document=k);null==b&&(b=["role"]);null==d&&(d=z([],{}));if(!1===a||a===k)return k;if((e=a["$empty?"]())!==k&&(!e.$$is_boolean||1==e))return z([],{});(e=d["$[]"]("sub_input"))===k||e.$$is_boolean&&1!=e||(a=this.document.$sub_attributes(a));(e=d["$[]"]("unescape_input"))===k||e.$$is_boolean&&1!=e||(a=this.$unescape_bracketed_text(a));g=k;(e=d.$fetch("sub_result",
!0))===k||e.$$is_boolean&&1!=e||(g=this);return(e=h=d["$[]"]("into"))===k||e.$$is_boolean&&1!=e?v.get("AttributeList").$new(a,g).$parse(b):v.get("AttributeList").$new(a,g).$parse_into(h,b)});a.defn(n,"$unescape_bracketed_text",function(a){var b;return(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a.$strip().$tr(v.get("EOL")," ").$gsub("\\]","]"):""});a.defn(n,"$normalize_string",function(a,b){var d;null==b&&(b=!1);return(d=a["$empty?"]())===k||d.$$is_boolean&&1!=d?!1!==b&&b!==k?this.$unescape_brackets(a.$strip().$tr(v.get("EOL"),
" ")):a.$strip().$tr(v.get("EOL")," "):""});a.defn(n,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""});a.defn(n,"$split_simple_csv",function(a){var b,d,e,g,h=k,c=k,n=k;(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===k||b.$$is_boolean&&1!=b?h=(b=(e=a.$split(",")).$map,b.$$p=(g=function(a){null==a&&(a=k);return a.$strip()},g.$$s=this,g),b).call(e):(h=[],c=[],n=!1,(b=a.$each_char,b.$$p=(d=function(a){var b=k;null==
a&&(a=k);return function(){b=a;if(","["$==="](b)){if(!1!==n&&n!==k)return c.$push(a);h["$<<"](c.$join().$strip());return c=[]}return'"'["$==="](b)?n=n["$!"]():c.$push(a)}()},d.$$s=this,d),b).call(a),h["$<<"](c.$join().$strip())):h=[];return h});a.defn(n,"$resolve_subs",function(a,b,d,e){var q,h,c,n=k,B=k,r=k,G=k;null==b&&(b="block");null==d&&(d=k);null==e&&(e=k);if((q=a["$nil_or_empty?"]())!==k&&(!q.$$is_boolean||1==q))return[];n=k;B=v.get("SubModifierSniffRx")["$=~"](a);(q=(h=a.$tr(" ","").$split(",")).$each,
q.$$p=(c=function(a){var c,h,f,e=k,q=h=h=h=k,e=k;null==a&&(a=k);e=k;!1!==B&&B!==k&&((h=a.$chr())["$=="]("+")?(e="append",a=a["$[]"](w(1,-1,!1))):h["$=="]("-")?(e="remove",a=a["$[]"](w(1,-1,!1))):(c=a["$end_with?"]("+"))===k||c.$$is_boolean&&1!=c||(e="prepend",a=a.$chop()));a=a.$to_sym();(c=(h=b["$=="]("inline"))?!1!==(f=a["$=="]("verbatim"))&&f!==k?f:a["$=="]("v"):b["$=="]("inline"))===k||c.$$is_boolean&&1!=c?(c=v.get("COMPOSITE_SUBS")["$key?"](a))===k||c.$$is_boolean&&1!=c?(c=(h=b["$=="]("inline")?
a.$length()["$=="](1):b["$=="]("inline"),!1!==h&&h!==k?v.get("SUB_SYMBOLS")["$key?"](a):h))===k||c.$$is_boolean&&1!=c?h=[a]:(h=v.get("SUB_SYMBOLS")["$[]"](a),h=(c=q=v.get("COMPOSITE_SUBS")["$[]"](h))===k||c.$$is_boolean&&1!=c?[h]:q):h=v.get("COMPOSITE_SUBS")["$[]"](a):h=["specialcharacters"];if(!1!==e&&e!==k)return!1!==(c=n)&&c!==k?c:n=!1!==d&&d!==k?d.$dup():[],"append"["$==="](e)?n=p(n,h):"prepend"["$==="](e)?n=p(h,n):"remove"["$==="](e)?n=g(n,h):k;!1!==(c=n)&&c!==k?c:n=[];return n=p(n,h)},c.$$s=
this,c),q).call(h);r=n["$&"](v.get("SUB_OPTIONS")["$[]"](b));if((q=g(n,r)["$empty?"]())===k||q.$$is_boolean&&1!=q)G=g(n,r),this.$warn("asciidoctor: WARNING: invalid substitution type"+((q=l(G.$size(),1))===k||q.$$is_boolean&&1!=q?"":"s")+(!1!==e&&e!==k?" for ":k)+e+": "+t(G,", "));return r});a.defn(n,"$resolve_block_subs",function(a,b,e){return this.$resolve_subs(a,"block",b,e)});a.defn(n,"$resolve_pass_subs",function(a){return this.$resolve_subs(a,"inline",k,"passthrough macro")});a.defn(n,"$highlight_source",
function(b,e,d){var g,q,h,c,n,l=k,r=k,G=k,E=k,A=k,H=k,Z=k,C=r=k,P=k,fa=l=k,I=k;null==this.document&&(this.document=k);null==this.passthroughs&&(this.passthroughs=k);null==d&&(d=k);l=!1!==(g=d)&&g!==k?g:d=this.document.$attributes()["$[]"]("source-highlighter");if("coderay"["$==="](l)){if((g=!1!==(q=r=null==a.Object.$$scope.CodeRay?k:"constant")&&q!==k?q:this.document.$attributes()["$[]"]("coderay-unavailable"))===k||g.$$is_boolean&&1!=g)(g=v.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===
k||g.$$is_boolean&&1!=g?r=!0:this.document.$set_attr("coderay-unavailable",!0)}else if("pygments"["$==="](l)){if((g=!1!==(q=r=null==a.Object.$$scope.Pygments?k:"constant")&&q!==k?q:this.document.$attributes()["$[]"]("pygments-unavailable"))===k||g.$$is_boolean&&1!=g)(g=v.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===k||g.$$is_boolean&&1!=g?r=!0:this.document.$set_attr("pygments-unavailable",!0)}else r=!1;if(!1===r||r===k)return this.$sub_source(b,e);G=0;E=!1;!1!==
e&&e!==k?(A=z([],{}),H=-1,Z=(g=this["$attr?"]("line-comment"))===k||g.$$is_boolean&&1!=g?v.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+v.get("CalloutExtractRxt")),b=t((g=(q=b.$split(v.get("EOL"))).$map,g.$$p=(h=function(a){var b=h.$$s||this,c,f,e;null==a&&(a=k);G=p(G,1);return(c=(f=a).$gsub,c.$$p=(e=function(){var a,b,c,h=k;null==x["~"]&&(x["~"]=k);h=x["~"];if(h["$[]"](1)["$=="]("\\"))return h["$[]"](0).$sub("\\","");(a=G,b=A,!1!==(c=b["$[]"](a))&&
c!==k?c:b["$[]="](a,[]))["$<<"](h["$[]"](3));H=G;return k},e.$$s=b,e),c).call(f,Z)},h.$$s=this,h),g).call(q),v.get("EOL")),E=H["$=="](G),(g=A["$empty?"]())===k||g.$$is_boolean&&1!=g||(A=k)):A=k;C=r=k;l=d;if("coderay"["$==="](l))(g=r=(c=this["$attr?"]("linenums"))===k||c.$$is_boolean&&1!=c?k:(!1!==(c=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&c!==k?c:"table").$to_sym())===k||g.$$is_boolean&&1!=g||(g=this["$attr?"]("highlight",k,!1))===k||g.$$is_boolean&&1!=g||(C=this.$resolve_lines_to_highlight(this.$attr("highlight",
k,!1))),P=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",z(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(g=this.document.$attributes()["$[]"]("coderay-css"))&&g!==k?g:"class").$to_sym(),line_numbers:r,line_number_anchors:!1,highlight_lines:C,bold_every:!1})).$highlight(b);else if("pygments"["$==="](l)){l=!1!==(g=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",k,!1)))&&g!==k?g:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");
fa=z(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(g=this.document.$attributes()["$[]"]("pygments-css"))&&g!==k?g:"class")["$=="]("class")||(fa["$[]="]("noclasses",!0),fa["$[]="]("style",!1!==(g=this.document.$attributes()["$[]"]("pygments-style"))&&g!==k?g:v.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((g=this["$attr?"]("highlight",k,!1))!==k&&(!g.$$is_boolean||1==g)&&((g=(C=this.$resolve_lines_to_highlight(this.$attr("highlight",
k,!1)))["$empty?"]())===k||g.$$is_boolean&&1!=g))fa["$[]="]("hl_lines",t(C," "));(g=this["$attr?"]("linenums"))===k||g.$$is_boolean&&1!=g?(fa["$[]="]("nowrap",!0),P=l.$highlight(b,z(["options"],{options:fa}))):fa["$[]="]("linenos",!1!==(g=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&g!==k?g:"table")["$=="]("table")?(r="table",P=l.$highlight(b,z(["options"],{options:fa})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):P=l.$highlight(b,z(["options"],
{options:fa})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((g=this.passthroughs["$empty?"]())===k||g.$$is_boolean&&1!=g)P=P.$gsub(v.get("PASS_MATCH_HI"),""+v.get("PASS_START")+"\\1"+v.get("PASS_END"));if((g=(c=!1!==e&&e!==k)?A:e)===k||g.$$is_boolean&&1!=g)return P;G=0;I=r["$!="]("table");return t((g=(c=P.$split(v.get("EOL"))).$map,g.$$p=(n=function(a){var b=n.$$s||this,c,h,f,e=k,d=k,g=k,e=k;null==b.document&&(b.document=k);null==a&&(a=k);if(!1===I||I===k){if((c=a["$include?"]('<td class="code">'))===
k||c.$$is_boolean&&1!=c)return a;I=!0}G=p(G,1);if((c=e=A.$delete(G))===k||c.$$is_boolean&&1!=c)return a;d=k;(c=(h=!1!==E&&E!==k)?A["$empty?"]():E)===k||c.$$is_boolean&&1!=c||((c=g=a.$index("</pre>"))===k||c.$$is_boolean&&1!=c?a=""+a.$chomp(" ")+" ":(d=a["$[]"](w(g,-1,!1)),a=""+a["$[]"](w(0,g,!0)).$chomp(" ")+" "));if(e.$size()["$=="](1))return""+a+v.get("Inline").$new(b,"callout",e["$[]"](0),z(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()+d;e=t((c=(h=e).$map,c.$$p=(f=function(a){var b=
f.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return v.get("Inline").$new(b,"callout",a,z(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},f.$$s=b,f),c).call(h)," ");return""+a+e+d},n.$$s=this,n),g).call(c),v.get("EOL"))});a.defn(n,"$resolve_lines_to_highlight",function(b){var e,d,n,q=k,q=[];(e=(d=b.$delete(" ").$split(v.get("DataDelimiterRx"))).$map,e.$$p=(n=function(b){var c,f=k,e=k,d=k,e=k;null==b&&(b=k);f=!1;(c=b["$start_with?"]("!"))===k||c.$$is_boolean&&1!=c||(b=
b["$[]"](w(1,-1,!1)),f=!0);if((c=b["$include?"]("-"))===k||c.$$is_boolean&&1!=c)return!1!==f&&f!==k?q.$delete(b.$to_i()):q["$<<"](b.$to_i());b=b.$split("-",2);c=a.to_ary(b);e=null==c[0]?k:c[0];d=null==c[1]?k:c[1];b;e=w(e.$to_i(),d.$to_i(),!1).$to_a();return!1!==f&&f!==k?q=g(q,e):q.$concat(e)},n.$$s=this,n),e).call(d);return q.$sort().$uniq()});a.defn(n,"$sub_source",function(a,b){return!1!==b&&b!==k?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)});a.defn(n,"$lock_in_subs",
function(){var a,b,e,d,g,h=k,c=h=k;null==this.default_subs&&(this.default_subs=k);null==this.content_model&&(this.content_model=k);null==this.context&&(this.context=k);null==this.attributes&&(this.attributes=k);null==this.style&&(this.style=k);null==this.document&&(this.document=k);null==this.subs&&(this.subs=k);if((a=this.default_subs)===k||a.$$is_boolean&&1!=a)if(h=this.content_model,"simple"["$==="](h))h=v.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](h))h=(a=!1!==(b=this.context["$=="]("listing"))&&
b!==k?b:(e=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===k||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?v.get("SUBS")["$[]"]("normal"):v.get("SUBS")["$[]"]("basic"):v.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](h))h=this.context["$=="]("stem")?v.get("SUBS")["$[]"]("basic"):v.get("SUBS")["$[]"]("pass");else return k;else h=this.default_subs;(a=c=this.attributes["$[]"]("subs"))===k||a.$$is_boolean&&1!=a?this.subs=h.$dup():
this.subs=this.$resolve_block_subs(c,h,this.context);return(a=(b=(e=(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==d&&d!==k?this.attributes["$[]"]("language"):d),!1!==e&&e!==k?this.document["$basebackend?"]("html"):e),!1!==b&&b!==k?v.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===k||a.$$is_boolean&&1!=a?k:this.subs=(a=(b=this.subs).$map,a.$$p=(g=function(a){null==a&&(a=k);return a["$=="]("specialcharacters")?
"highlight":a},g.$$s=this,g),a).call(b)})})(b(r,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function p(a,e){return"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)}function t(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.module,k=a.klass,e=a.hash2,d=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path $relative_path".split(" "));return function(b){(function(b,
$super){function g(){}var r=g=k(b,$super,"AbstractNode",g),n=r.$$proto,v=r.$$scope;n.document=n.attributes=n.path_resolver=n.style=l;r.$include(v.get("Substitutors"));r.$attr_reader("parent");r.$attr_reader("document");r.$attr_reader("context");r.$attr_reader("node_name");r.$attr_accessor("id");r.$attr_reader("attributes");a.defn(r,"$initialize",function(a,b,d){var g;null==d&&(d=e([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==l?(this.parent=a,this.document=a.$document()):this.document=
this.parent=l;this.context=b;this.node_name=b.$to_s();this.attributes=(g=d["$key?"]("attributes"))===l||g.$$is_boolean&&1!=g?e([],{}):d["$[]"]("attributes").$dup();return this.passthroughs=e([],{})});a.defn(r,"$parent=",function(a){this.parent=a;this.document=a.$document();return l});a.defn(r,"$inline?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(r,"$block?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(r,"$attr",function(b,e,d){var g,q;null==e&&(e=
l);null==d&&(d=!0);(g=a.get("Symbol")["$==="](b))===l||g.$$is_boolean&&1!=g||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return!1!==d&&d!==l?!1!==(g=!1!==(q=this.attributes["$[]"](b))&&q!==l?q:this.document.$attributes()["$[]"](b))&&g!==l?g:e:!1!==(g=this.attributes["$[]"](b))&&g!==l?g:e});a.defn(r,"$attr?",function(b,e,d){var g;null==e&&(e=l);null==d&&(d=!0);(g=a.get("Symbol")["$==="](b))===l||g.$$is_boolean&&1!=g||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return(g=e["$nil?"]())===l||
g.$$is_boolean&&1!=g?!1!==d&&d!==l?e["$=="](!1!==(g=this.attributes["$[]"](b))&&g!==l?g:this.document.$attributes()["$[]"](b)):e["$=="](this.attributes["$[]"](b)):!1!==(g=this.attributes["$has_key?"](b))&&g!==l?g:!1!==d&&d!==l?this.document.$attributes()["$has_key?"](b):d});a.defn(r,"$set_attr",function(a,b,e){var d;null==e&&(e=!0);return(d=e["$=="](!1)?this.attributes["$key?"](a):e["$=="](!1))===l||d.$$is_boolean&&1!=d?(this.attributes["$[]="](a,b),!0):!1});a.defn(r,"$set_option",function(a){var b;
if((b=this.attributes["$has_key?"]("options"))===l||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+a);return this.attributes["$[]="](""+a+"-option","")});a.defn(r,"$option?",function(a){return this.attributes["$has_key?"](""+a+"-option")});a.defn(r,"$update_attributes",function(a){this.attributes.$update(a);return l});a.defn(r,"$converter",function(){return this.document.$converter()});a.defn(r,"$role?",function(a){var b;
null==a&&(a=l);return!1!==a&&a!==l?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==l?b:this.document.$attributes()["$[]"]("role")):!1!==(b=this.attributes["$has_key?"]("role"))&&b!==l?b:this.document.$attributes()["$has_key?"]("role")});a.defn(r,"$role",function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==l?a:this.document.$attributes()["$[]"]("role")});a.defn(r,"$has_role?",function(a){var b,e,d=l;return(b=d=!1!==(e=this.attributes["$[]"]("role"))&&e!==l?e:this.document.$attributes()["$[]"]("role"))===
l||b.$$is_boolean&&1!=b?!1:d.$split(" ")["$include?"](a)});a.defn(r,"$roles",function(){var a,b,e=l;return(a=e=!1!==(b=this.attributes["$[]"]("role"))&&b!==l?b:this.document.$attributes()["$[]"]("role"))===l||a.$$is_boolean&&1!=a?[]:e.$split(" ")});a.defn(r,"$add_role",function(a){var b,e,d=l;return(b=(d=(!1!==(e=this.attributes["$[]"]("role"))&&e!==l?e:"").$split(" "))["$include?"](a))===l||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",p(d.$push(a)," ")):l});a.defn(r,"$remove_role",function(a){var b,
e,d=l;if((b=(d=(!1!==(e=this.attributes["$[]"]("role"))&&e!==l?e:"").$split(" "))["$include?"](a))===l||b.$$is_boolean&&1!=b)return l;d.$delete(a);return this.attributes["$[]="]("role",p(d," "))});a.defn(r,"$reftext?",function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==l?a:this.document.$attributes()["$has_key?"]("reftext")});a.defn(r,"$reftext",function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&a!==l?a:this.document.$attributes()["$[]"]("reftext")});a.defn(r,
"$icon_uri",function(b){var e,d=l;return(e=this["$attr?"]("icon"))===l||e.$$is_boolean&&1!=e?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(e=a.get("File").$extname(d=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===l||e.$$is_boolean&&1!=e?d:""+d+"."+this.document.$attr("icontype","png")});a.defn(r,"$media_uri",function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==l?this.document.$attr(b):l)});a.defn(r,"$image_uri",function(a,
b){var e,d,g,h,c=l,k=l;null==b&&(b="imagesdir");return(e=(d=t((c=this.document).$safe(),v.get("SafeMode").$$scope.get("SECURE")),!1!==d&&d!==l?c["$attr?"]("data-uri"):d))===l||e.$$is_boolean&&1!=e?this.$normalize_web_path(a,!1!==b&&b!==l?c.$attr(b):l):(e=!1!==(d=v.get("Helpers")["$uriish?"](a))&&d!==l?d:(g=(h=!1!==b&&b!==l?k=c.$attr(b):b,!1!==h&&h!==l?v.get("Helpers")["$uriish?"](k):h),!1!==g&&g!==l?a=this.$normalize_web_path(a,k,!1):g))===l||e.$$is_boolean&&1!=e?this.$generate_data_uri(a,b):(e=c["$attr?"]("allow-uri-read"))===
l||e.$$is_boolean&&1!=e?a:this.$generate_data_uri_from_uri(a,c["$attr?"]("cache-uri"))});a.defn(r,"$generate_data_uri",function(b,g){var k,n,q,h=l,c=h=l,p=l;null==g&&(g=l);h=a.get("File").$extname(b);h=h["$=="](".svg")?"image/svg+xml":"image/"+h["$[]"](d(1,-1,!1));c=!1!==g&&g!==l?this.$normalize_system_path(b,this.document.$attr(g),l,e(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);if((k=a.get("File")["$readable?"](c))===l||k.$$is_boolean&&1!=k)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+
c),"data:"+h+":base64,";p=l;p=(k=a.get("IO")["$respond_to?"]("binread"))===l||k.$$is_boolean&&1!=k?(k=(n=a.get("File")).$open,k.$$p=(q=function(a){null==a&&(a=l);return a.$read()},q.$$s=this,q),k).call(n,c,"rb"):a.get("IO").$binread(c);return"data:"+h+";base64,"+a.get("Base64").$encode64(p).$delete(v.get("EOL"))});a.defn(r,"$generate_data_uri_from_uri",function(b,e){var d,g,q=l,h=l;null==e&&(e=!1);!1!==e&&e!==l?v.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===
l||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return q=l,h=(d=this.$open,d.$$p=(g=function(a){null==a&&(a=l);q=a.$content_type();return a.$read()},g.$$s=this,g),d).call(this,b,"rb"),"data:"+q+";base64,"+a.get("Base64").$encode64(h).$delete(v.get("EOL"))}catch(c){try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(r,"$read_contents",function(b,d){var g,k,q,h,c,n=l,r=l,t=l;null==d&&(d=e([],{}));n=this.document;
if((g=!1!==(k=v.get("Helpers")["$uriish?"](b))&&k!==l?k:(q=(h=r=d["$[]"]("start"),!1!==h&&h!==l?v.get("Helpers")["$uriish?"](r):h),!1!==q&&q!==l?b=(!1!==(h=this.path_resolver)&&h!==l?h:this.path_resolver=v.get("PathResolver").$new()).$web_path(b,r):q))===l||g.$$is_boolean&&1!=g)b=this.$normalize_system_path(b,d["$[]"]("start"),l,e(["target_name"],{target_name:!1!==(g=d["$[]"]("label"))&&g!==l?g:"asset"})),t=this.$read_asset(b,e(["normalize","warn_on_failure"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",
!0)}));else if((g=n["$attr?"]("allow-uri-read"))===l||g.$$is_boolean&&1!=g)(g=d.$fetch("warn_on_failure",!0))===l||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(g=d["$[]"]("label"))&&g!==l?g:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),t=l;else{(g=n["$attr?"]("cache-uri"))===l||g.$$is_boolean&&1!=g||v.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{t=(g=(k=a.get("OpenURI")).$open_uri,g.$$p=(c=function(a){null==
a&&(a=l);return a.$read()},c.$$s=this,c),g).call(k,b),(g=d["$[]"]("normalize"))===l||g.$$is_boolean&&1!=g||(t=p(v.get("Helpers").$normalize_lines_from_string(t),v.get("EOL")))}catch(G){try{(g=d.$fetch("warn_on_failure",!0))===l||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==(g=d["$[]"]("label"))&&g!==l?g:"asset")+" at URI: "+b),t=l}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}return t});a.defn(r,"$read_asset",function(b,d){var g;null==d&&(d=e([],
{}));if((g=a.get("Hash")["$==="](d))===l||g.$$is_boolean&&1!=g)d=e(["warn_on_failure"],{warn_on_failure:d["$!="](!1)});return(g=a.get("File")["$readable?"](b))===l||g.$$is_boolean&&1!=g?((g=d["$[]"]("warn_on_failure"))===l||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+b),l):(g=d["$[]"]("normalize"))===l||g.$$is_boolean&&1!=g?a.get("IO").$read(b):p(v.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),v.get("EOL"))});a.defn(r,"$normalize_web_path",
function(a,b,e){var d;null==b&&(b=l);null==e&&(e=!0);return(d=!1!==e&&e!==l?v.get("Helpers")["$uriish?"](a):e)===l||d.$$is_boolean&&1!=d?(!1!==(d=this.path_resolver)&&d!==l?d:this.path_resolver=v.get("PathResolver").$new()).$web_path(a,b):a});a.defn(r,"$normalize_system_path",function(b,d,g,k){var q,h=l,c=l;null==d&&(d=l);null==g&&(g=l);null==k&&(k=e([],{}));h=!1!==(q=this.path_resolver)&&q!==l?q:this.path_resolver=v.get("PathResolver").$new();if((q=t((c=this.document).$safe(),v.get("SafeMode").$$scope.get("SAFE")))===
l||q.$$is_boolean&&1!=q){if(!1===d||d===l)d=c.$base_dir();if(!1===g||g===l)g=c.$base_dir()}else if(!1!==d&&d!==l){if((q=h["$is_root?"](d))===l||q.$$is_boolean&&1!=q)d=a.get("File").$join(c.$base_dir(),d)}else d=c.$base_dir();return h.$system_path(b,d,g,k)});a.defn(r,"$normalize_asset_path",function(a,b,d){null==b&&(b="path");null==d&&(d=!0);return this.$normalize_system_path(a,this.document.$base_dir(),l,e(["target_name","recover"],{target_name:b,recover:d}))});a.defn(r,"$relative_path",function(a){var b;
return(!1!==(b=this.path_resolver)&&b!==l?b:this.path_resolver=v.get("PathResolver").$new()).$relative_path(a,this.document.$base_dir())});a.defn(r,"$is_uri?",function(a){return v.get("Helpers")["$uriish?"](a)});return(a.defn(r,"$list_marker_keyword",function(a){var b;null==a&&(a=l);return v.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==(b=a)&&b!==l?b:this.style)}),l)&&"list_marker_keyword"})(g(b,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function p(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}function t(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.breaker,k=a.module,e=a.klass,d=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));
return function(b){b=k(b,"Asciidoctor").$$scope;(function(b,$super){function k(){}var r=k=e(b,$super,"AbstractBlock",k),n=r.$$proto,v=r.$$scope,f,m;n.document=n.attributes=n.blocks=n.source_location=n.subs=n.title=n.subbed_title=n.caption=n.next_section_index=n.context=n.style=n.id=n.header=n.next_section_number=l;r.$attr_accessor("content_model");r.$attr_reader("subs");r.$attr_reader("blocks");r.$attr_accessor("level");r.$attr_writer("title");r.$attr_accessor("style");r.$attr_accessor("caption");
r.$attr_accessor("source_location");a.defn(r,"$initialize",f=function(b,e,g){var h,c=f.$$p,m=l,k=l;null==g&&(g=d([],{}));f.$$p=null;m=[];for(k=0;k<arguments.length;k++)m[k]=arguments[k];a.find_super_dispatcher(this,"initialize",f,c).apply(this,m);this.content_model="compound";this.subs=[];this.default_subs=l;this.blocks=[];this.style=this.caption=this.title=this.id=l;this.level=e["$=="]("document")?0:(h=!1!==b&&b!==l?e["$!="]("section"):b)===l||h.$$is_boolean&&1!=h?l:b.$level();this.next_section_index=
0;this.next_section_number=1;return this.source_location=l});a.defn(r,"$block?",function(){return!0});a.defn(r,"$inline?",function(){return!1});a.defn(r,"$context=",function(a){this.context=a;return this.node_name=a.$to_s()});a.defn(r,"$convert",function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)});a.alias(r,"render","convert");a.defn(r,"$content",function(){var a,b,d;return p((a=(b=this.blocks).$map,a.$$p=(d=function(a){null==a&&(a=l);return a.$convert()},
d.$$s=this,d),a).call(b),v.get("EOL"))});a.defn(r,"$file",function(){var a;return(a=this.source_location)===l||a.$$is_boolean&&1!=a?l:this.source_location.$file()});a.defn(r,"$lineno",function(){var a;return(a=this.source_location)===l||a.$$is_boolean&&1!=a?l:this.source_location.$lineno()});a.defn(r,"$sub?",function(a){return this.subs["$include?"](a)});a.defn(r,"$title?",function(){return this.title["$nil_or_empty?"]()["$!"]()});a.defn(r,"$title",function(){var a,b;return(a=(b=this.subbed_title,
null!=b&&b!==l)?"instance-variable":l)===l||a.$$is_boolean&&1!=a?(a=this.title)===l||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title});a.defn(r,"$captioned_title",function(){return""+this.caption+this.$title()});a.defn(r,"$blocks?",function(){return this.blocks["$empty?"]()["$!"]()});a.defn(r,"$<<",function(a){this.blocks["$<<"](a);return this});a.alias(r,"append","<<");a.defn(r,"$sections",function(){var a,b,d;return(a=(b=this.blocks).$select,
a.$$p=(d=function(a){null==a&&(a=l);return a.$context()["$=="]("section")},d.$$s=this,d),a).call(b)});a.defn(r,"$sections?",function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)});a.defn(r,"$find_by",m=function(b){var e,f,h,c,k,n,p,r=m.$$p||l,v=l,A=l,H=l,t=l,C=l,P=l;null==b&&(b=d([],{}));m.$$p=null;v=[];if((e=(f=(h=(c=!1!==(k=A=(H=b["$[]"]("context"))["$!"]())&&k!==l?k:H["$=="](this.context),!1!==c&&c!==l?!1!==(k=(t=b["$[]"]("style"))["$!"]())&&k!==l?k:t["$=="](this.style):
c),!1!==h&&h!==l?!1!==(c=(C=b["$[]"]("role"))["$!"]())&&c!==l?c:this["$has_role?"](C):h),!1!==f&&f!==l?!1!==(h=(P=b["$[]"]("id"))["$!"]())&&h!==l?h:P["$=="](this.id):f))!==l&&(!e.$$is_boolean||1==e)){if(!1!==P&&P!==l)return r!==l?(e=(f=a.yield1(r,this))===g?g.$v:f)===l||e.$$is_boolean&&1!=e?v:[this]:[this];if(r!==l){if((e=(f=a.yield1(r,this))===g?g.$v:f)!==l&&(!e.$$is_boolean||1==e))v["$<<"](this)}else v["$<<"](this)}(e=(f=(h=this.context["$=="]("document"))?!1!==(c=A)&&c!==l?c:H["$=="]("section"):
this.context["$=="]("document"),!1!==f&&f!==l?this["$header?"]():f))===l||e.$$is_boolean&&1!=e||v.$concat((e=(f=this.header).$find_by,e.$$p=r.$to_proc(),e).call(f,b));H["$=="]("document")||(this.context["$=="]("dlist")?(e=!1!==(h=A)&&h!==l?h:H["$!="]("section"))===l||e.$$is_boolean&&1!=e||(e=(h=this.blocks.$flatten()).$each,e.$$p=(n=function(a){var c,h;null==a&&(a=l);return!1!==a&&a!==l?v.$concat((c=(h=a).$find_by,c.$$p=r.$to_proc(),c).call(h,b)):l},n.$$s=this,n),e).call(h):e=(c=(k=this.blocks).$each,
c.$$p=(p=function(a){var c,h;null==a&&(a=l);return(c=H["$=="]("section")?a.$context()["$!="]("section"):H["$=="]("section"))===l||c.$$is_boolean&&1!=c?v.$concat((c=(h=a).$find_by,c.$$p=r.$to_proc(),c).call(h,b)):l},p.$$s=this,p),c).call(k));return v});a.alias(r,"query","find_by");a.defn(r,"$remove_sub",function(a){this.subs.$delete(a);return l});a.defn(r,"$assign_caption",function(a,b){var d,h,c=l,e=c=c=l;null==a&&(a=l);null==b&&(b=l);if((d=!1!==(h=this["$title?"]())&&h!==l?h:this.caption["$!"]())===
l||d.$$is_boolean&&1!=d)return l;!1!==a&&a!==l?this.caption=a:(d=c=this.document.$attributes()["$[]"]("caption"))===l||d.$$is_boolean&&1!=d?(d=this["$title?"]())===l||d.$$is_boolean&&1!=d||(!1!==(d=b)&&d!==l?d:b=this.context.$to_s(),c=""+b+"-caption",(d=c=this.document.$attributes()["$[]"](c))===l||d.$$is_boolean&&1!=d||(e=this.document.$counter_increment(""+b+"-number",this),this.caption=""+c+" "+e+". ")):this.caption=c;return l});a.defn(r,"$assign_index",function(a){var b,d,h,c=l,e=l;b=[this.next_section_index];
d=a;d["$index="].apply(d,b);b[b.length-1];this.next_section_index=t(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?(c=this.document.$counter("appendix-number","A"),(b=a.$numbered())===l||b.$$is_boolean&&1!=b||(b=[c],d=a,d["$number="].apply(d,b),b[b.length-1]),(b=(e=this.document.$attr("appendix-caption",""))["$!="](""))===l||b.$$is_boolean&&1!=b?(b=[""+c+". "],d=a,d["$caption="].apply(d,b),b[b.length-1]):(b=[""+e+" "+c+": "],d=a,d["$caption="].apply(d,b),b[b.length-1])):(b=a.$numbered())===
l||b.$$is_boolean&&1!=b?l:(b=(d=!1!==(h=a.$level()["$=="](1))&&h!==l?h:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),!1!==d&&d!==l?this.document.$doctype()["$=="]("book"):d))===l||b.$$is_boolean&&1!=b?(b=[this.next_section_number],d=a,d["$number="].apply(d,b),b[b.length-1],this.next_section_number=t(this.next_section_number,1)):(b=[this.document.$counter("chapter-number",1)],d=a,d["$number="].apply(d,b),b[b.length-1])});return(a.defn(r,"$reindex_sections",function(){var a,b,d;this.next_section_number=
this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=l);return a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):l},d.$$s=this,d),a).call(b)}),l)&&"reindex_sections"})(b.base,b.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function p(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}a.dynamic_require_severity="ignore";var t=a.nil,l=a.module,g=a.klass,k=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(e){(function(d,
$super){function e(){}var l=e=g(d,$super,"AttributeList",e),w=l.$$proto,r=l.$$scope;w.attributes=w.scanner=w.delimiter=w.block=w.delimiter_skip_pattern=w.delimiter_boundary_pattern=t;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(r,"CG_BLANK","[ \\t]"),a.cdecl(r,"CC_WORD","a-zA-Z0-9_"),a.cdecl(r,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(r,"BoundaryRxs",k(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+r.get("CG_BLANK")+"*(,|$))")}));a.cdecl(r,"EscapedQuoteRxs",k(['"',"'"],{'"':/\\"/,
"'":/\\'/}));a.cdecl(r,"NameRx",new RegExp(""+r.get("CG_WORD")+"["+r.get("CC_WORD")+"\\-.]*"));a.cdecl(r,"BlankRx",new RegExp(""+r.get("CG_BLANK")+"+"));a.cdecl(r,"SkipRxs",k(["blank",","],{blank:r.get("BlankRx"),",":new RegExp(""+r.get("CG_BLANK")+"*(,|$)")}));a.defn(l,"$initialize",function(d,e,f){null==e&&(e=t);null==f&&(f=",");this.scanner=a.get("StringScanner").$new(d);this.block=e;this.delimiter=f;this.delimiter_skip_pattern=r.get("SkipRxs")["$[]"](f);this.delimiter_boundary_pattern=r.get("BoundaryRxs")["$[]"](f);
return this.attributes=t});a.defn(l,"$parse_into",function(a,d){null==d&&(d=[]);return a.$update(this.$parse(d))});a.defn(l,"$parse",function(a){var d,e,g=t;null==a&&(a=[]);if((d=this.attributes)!==t&&(!d.$$is_boolean||1==d))return this.attributes;this.attributes=k([],{});for(g=0;(e=this.$parse_attribute(g,a))!==t&&(!e.$$is_boolean||1==e)&&((e=this.scanner["$eos?"]())===t||e.$$is_boolean&&1!=e);)this.$skip_delimiter(),g=p(g,1);return this.attributes});a.defn(l,"$rekey",function(a){return r.get("AttributeList").$rekey(this.attributes,
a)});a.defs(l,"$rekey",function(a,d){var e,g;(e=d.$each_with_index,e.$$p=(g=function(d,e){var f,h=t,c=t;null==d&&(d=t);null==e&&(e=t);if(!1===d||d===t)return t;h=p(e,1);return(f=c=a["$[]"](h))===t||f.$$is_boolean&&1!=f?t:a["$[]="](d,c)},g.$$s=this,g),e).call(d);return a});a.defn(l,"$parse_attribute",function(a,d){var e,g,k,l,q=t,h=t,c=h=t,r=t,B=t,h=q=r=t;null==a&&(a=0);null==d&&(d=[]);q=!1;this.$skip_blank();if((h=this.scanner.$peek(1))["$=="]('"'))h=this.$parse_attribute_value(this.scanner.$get_byte()),
c=t;else if(h["$=="]("'"))h=this.$parse_attribute_value(this.scanner.$get_byte()),c=t,q=!0;else{h=this.$scan_name();r=0;B=t;if((e=this.scanner["$eos?"]())===t||e.$$is_boolean&&1!=e)r=!1!==(e=this.$skip_blank())&&e!==t?e:0,B=this.scanner.$get_byte();else if(!1===h||h===t)return!1;if((e=!1!==(g=B["$!"]())&&g!==t?g:B["$=="](this.delimiter))===t||e.$$is_boolean&&1!=e)if((e=!1!==(g=B["$!="]("="))&&g!==t?g:h["$!"]())===t||e.$$is_boolean&&1!=e){if(this.$skip_blank(),(e=this.scanner.$peek(1))!==t&&(!e.$$is_boolean||
1==e))if((B=this.scanner.$get_byte())["$=="]('"'))c=this.$parse_attribute_value(B);else if(B["$=="]("'"))c=this.$parse_attribute_value(B),q=!0;else if(B["$=="](this.delimiter))c=t;else if(c=""+B+this.$scan_to_delimiter(),c["$=="]("None"))return!0}else h=""+h+" "["$*"](r)+B+this.$scan_to_delimiter(),c=t;else c=t}if(!1!==c&&c!==t)if(r=h,"options"["$==="](r)||"opts"["$==="](r))h="options",(e=(g=c.$tr(" ","").$split(",")).$each,e.$$p=(k=function(a){var c=k.$$s||this;null==c.attributes&&(c.attributes=
t);null==a&&(a=t);return c.attributes["$[]="](""+a+"-option","")},k.$$s=this,k),e).call(g),this.attributes["$[]="](h,c);else if("title"["$==="](r))this.attributes["$[]="](h,c);else this.attributes["$[]="](h,(e=(l=!1!==q&&q!==t?c["$empty?"]()["$!"]():q,!1!==l&&l!==t?this.block:l))===t||e.$$is_boolean&&1!=e?c:this.block.$apply_normal_subs(c));else{q=(e=(l=!1!==q&&q!==t?h["$empty?"]()["$!"]():q,!1!==l&&l!==t?this.block:l))===t||e.$$is_boolean&&1!=e?h:this.block.$apply_normal_subs(h);if((e=h=d["$[]"](a))!==
t&&(!e.$$is_boolean||1==e))this.attributes["$[]="](h,q);this.attributes["$[]="](p(a,1),q)}return!0});a.defn(l,"$parse_attribute_value",function(a){var d,e=t;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((d=e=this.$scan_to_quote(a))===t||d.$$is_boolean&&1!=d)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return e.$gsub(r.get("EscapedQuoteRxs")["$[]"](a),a)});a.defn(l,"$skip_blank",function(){return this.scanner.$skip(r.get("BlankRx"))});a.defn(l,"$skip_delimiter",
function(){return this.scanner.$skip(this.delimiter_skip_pattern)});a.defn(l,"$scan_name",function(){return this.scanner.$scan(r.get("NameRx"))});a.defn(l,"$scan_to_delimiter",function(){return this.scanner.$scan(this.delimiter_boundary_pattern)});return(a.defn(l,"$scan_to_quote",function(a){return this.scanner.$scan(r.get("BoundaryRxs")["$[]"](a))}),t)&&"scan_to_quote"})(l(e,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function p(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}a.dynamic_require_severity="ignore";var t=a.nil,l=a.module,g=a.klass,k=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(e){e=l(e,"Asciidoctor").$$scope;(function(d,$super){function e(){}
var l=e=g(d,$super,"Block",e),w=l.$$proto,r=l.$$scope,n,v,f;w.attributes=w.content_model=w.lines=w.subs=w.blocks=w.context=w.style=t;w=["simple"];n=a.cdecl(r,"DEFAULT_CONTENT_MODEL",k("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));n["$default="].apply(n,w);w[w.length-1];a.alias(l,"blockname","context");
l.$attr_accessor("lines");a.defn(l,"$initialize",v=function(d,e,f){var g,h=v.$$p,c=t,n=t,l=c=t;null==f&&(f=k([],{}));v.$$p=null;c=[];for(l=0;l<arguments.length;l++)c[l]=arguments[l];a.find_super_dispatcher(this,"initialize",v,h).apply(this,c);this.content_model=!1!==(g=f["$[]"]("content_model"))&&g!==t?g:r.get("DEFAULT_CONTENT_MODEL")["$[]"](e);(g=f["$key?"]("subs"))===t||g.$$is_boolean&&1!=g?(this.subs=[],this.default_subs=t):(g=c=f["$[]"]("subs"))===t||g.$$is_boolean&&1!=g?(this.subs=[],this.default_subs=
[],this.attributes.$delete("subs")):(c["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):(g=a.get("Array")["$==="](c))===t||g.$$is_boolean&&1!=g?(this.default_subs=t,this.attributes["$[]="]("subs",""+c)):(this.default_subs=c.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(g=(n=f["$[]"]("source"))["$nil_or_empty?"]())===t||g.$$is_boolean&&1!=g?(g=a.get("String")["$==="](n))===t||g.$$is_boolean&&1!=g?this.lines=n.$dup():this.lines=r.get("Helpers").$normalize_lines_from_string(n):
this.lines=[]});a.defn(l,"$content",f=function(){var d,e,g,k=this,h=f.$$p,c=t,n=t,l=t,v=t,G=t,E=t;f.$$p=null;G=[];for(E=0;E<arguments.length;E++)G[E]=arguments[E];return function(){c=k.content_model;if("compound"["$==="](c))return a.find_super_dispatcher(k,"content",f,h).apply(k,G);if("simple"["$==="](c))return k.$apply_subs(p(k.lines,r.get("EOL")),k.subs);if("verbatim"["$==="](c)||"raw"["$==="](c)){n=k.$apply_subs(k.lines,k.subs);var A=n.$size();if((d="number"===typeof A?2>A:A["$<"](2))===t||d.$$is_boolean&&
1!=d){for(;(e=(g=l=n["$[]"](0),!1!==g&&g!==t?l.$rstrip()["$empty?"]():g))!==t&&(!e.$$is_boolean||1==e);)n.$shift();for(;(e=(g=v=n["$[]"](-1),!1!==g&&g!==t?v.$rstrip()["$empty?"]():g))!==t&&(!e.$$is_boolean||1==e);)n.$pop();return p(n,r.get("EOL"))}return n["$[]"](0)}k.content_model["$=="]("empty")||k.$warn("Unknown content model '"+k.content_model+"' for block: "+k.$to_s());return t}()});a.defn(l,"$source",function(){return p(this.lines,r.get("EOL"))});return(a.defn(l,"$to_s",function(){var a=t,a=
this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"}),t)&&"to_s"})(e.base,e.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.module,k=a.klass,e=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(d){(function(b,$super){function d(){}var g=d=k(b,
$super,"Callouts",d),r=g.$$proto;r.co_index=r.lists=r.list_index=l;a.defn(g,"$initialize",function(){this.lists=[];this.list_index=0;return this.$next_list()});a.defn(g,"$register",function(a){var b=l;this.$current_list()["$<<"](e(["ordinal","id"],{ordinal:a.$to_i(),id:b=this.$generate_next_callout_id()}));this.co_index=p(this.co_index,1);return b});a.defn(g,"$read_next_id",function(){var a,b=l,d=l,b=l,d=this.$current_list(),e=this.co_index,g=d.$size();(a="number"===typeof e&&"number"===typeof g?
e<=g:e["$<="](g))===l||a.$$is_boolean&&1!=a||(b=d["$[]"](t(this.co_index,1))["$[]"]("id"));this.co_index=p(this.co_index,1);return b});a.defn(g,"$callout_ids",function(a){var b,d,e;return(b=(d=this.$current_list()).$map,b.$$p=(e=function(b){null==b&&(b=l);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":l},e.$$s=this,e),b).call(d).$join().$chop()});a.defn(g,"$current_list",function(){return this.lists["$[]"](t(this.list_index,1))});a.defn(g,"$next_list",function(){var a;this.list_index=
p(this.list_index,1);var b=this.lists.$size(),d=this.list_index;if((a="number"===typeof b&&"number"===typeof d?b<d:b["$<"](d))!==l&&(!a.$$is_boolean||1==a))this.lists["$<<"]([]);this.co_index=1;return l});a.defn(g,"$rewind",function(){this.co_index=this.list_index=1;return l});a.defn(g,"$generate_next_callout_id",function(){return this.$generate_callout_id(this.list_index,this.co_index)});return(a.defn(g,"$generate_callout_id",function(a,b){return"CO"+a+"-"+b}),l)&&"generate_callout_id"})(g(d,"Asciidoctor").$$scope.base,
null)}(a.base)};
Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.module,l=a.klass,g=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(k){k=t(k,"Asciidoctor").$$scope;t(k.base,"Converter");p;(function(a,$super){function b(){}var g=b=l(a,$super,"Base",b);return g.$include(g.$$scope.get("Converter"))})(k.get("Converter"),null);(function(e,$super){function b(){}var k=b=l(e,$super,"BuiltIn",b);a.defn(k,"$initialize",function(a,
b){null==b&&g([],{});return p});a.defn(k,"$convert",function(a,b,e){var k;null==b&&(b=p);null==e&&(e=g([],{}));!1!==(k=b)&&k!==p?k:b=a.$node_name();return(k=e["$empty?"]())===p||k.$$is_boolean&&1!=k?this.$send(b,a,e):this.$send(b,a)});a.alias(k,"handles?","respond_to?");a.defn(k,"$content",function(a){return a.$content()});a.alias(k,"pass","content");return(a.defn(k,"$skip",function(a){return p}),p)&&"skip"})(k.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.module,l=a.klass,g=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $is_a? $=== $key?".split(" "));return function(k){(function(e){(function(d,$super){function e(){}var k=e=l(d,$super,"Factory",e),t=k.$$proto,r=k.$$scope;t.converters=t.star_converter=p;k.__default__=p;(function(d){a.defn(d,
"$default",function(d){var e,g;null==this.__default__&&(this.__default__=p);null==d&&(d=!0);if(!1===d||d===p)d=!1!==(e=this.__default__)&&e!==p?e:this.$new();else{if(!1===(e=this.__default__)||e===p){var k;a:{try{((g=null==a.Object.$$scope.ThreadSafe?p:"constant")===p||g.$$is_boolean&&1!=g)&&this.$require("thread_safe".$to_s());k=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(n){if(a.rescue(n,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
k=this.$new();break a}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw n;}k=void 0}e=this.__default__=k}d=e}return d});a.defn(d,"$register",function(a,d){null==d&&(d=["*"]);return this.$default().$register(a,d)});a.defn(d,"$resolve",function(a){return this.$default().$resolve(a)});a.defn(d,"$create",function(a,d){null==d&&(d=g([],{}));return this.$default().$create(a,d)});a.defn(d,"$converters",function(){return this.$default().$converters()});return(a.defn(d,"$unregister_all",function(){return this.$default().$unregister_all()}),
p)&&"unregister_all"})(a.get_singleton_class(k));k.$attr_reader("converters");a.defn(k,"$initialize",function(a){var d;null==a&&(a=p);this.converters=!1!==(d=a)&&d!==p?d:g([],{});return this.star_converter=p});a.defn(k,"$register",function(a,d){var e,g,k;null==d&&(d=["*"]);(e=(g=d).$each,e.$$p=(k=function(d){var e=k.$$s||this;null==e.converters&&(e.converters=p);null==d&&(d=p);e.converters["$[]="](d,a);return d["$=="]("*")?e.star_converter=a:p},k.$$s=this,k),e).call(g);return p});a.defn(k,"$resolve",
function(a){var d,e;return d=this.converters,!1!==d&&d!==p?!1!==(e=this.converters["$[]"](a))&&e!==p?e:this.star_converter:d});a.defn(k,"$unregister_all",function(){this.converters.$clear();return this.star_converter=p});return(a.defn(k,"$create",function(d,e){var f,m=this,k=p,l=k=p,q=p;null==e&&(e=g([],{}));if((f=k=m.$resolve(d))!==p&&(!f.$$is_boolean||1==f))return(f=k["$is_a?"](a.get("Class")))===p||f.$$is_boolean&&1!=f?k:k.$new(d,e);k=function(){l=d;if("defold"["$==="](l)){var c;try{c=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DefoldConverter")?
"constant":p}catch(h){if(h.$$class===a.NameError)c=p;else throw h;}((f=c)===p||f.$$is_boolean&&1!=f)&&m.$require("asciidoctor/converter/defold".$to_s());return r.get("DefoldConverter").$new(d,e)}if("html5"["$==="](l)){var g;try{g=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":p}catch(h){if(h.$$class===a.NameError)g=p;else throw h;}((f=g)===p||f.$$is_boolean&&1!=f)&&m.$require("asciidoctor/converter/html5".$to_s());return r.get("Html5Converter").$new(d,
e)}if("docbook5"["$==="](l)){var k;try{k=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":p}catch(h){if(h.$$class===a.NameError)k=p;else throw h;}((f=k)===p||f.$$is_boolean&&1!=f)&&m.$require("asciidoctor/converter/docbook5".$to_s());return r.get("DocBook5Converter").$new(d,e)}if("docbook45"["$==="](l)){var q;try{q=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":p}catch(h){if(h.$$class===a.NameError)q=
p;else throw h;}((f=q)===p||f.$$is_boolean&&1!=f)&&m.$require("asciidoctor/converter/docbook45".$to_s());return r.get("DocBook45Converter").$new(d,e)}if("manpage"["$==="](l)){var E;try{E=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":p}catch(h){if(h.$$class===a.NameError)E=p;else throw h;}((f=E)===p||f.$$is_boolean&&1!=f)&&m.$require("asciidoctor/converter/manpage".$to_s());return r.get("ManPageConverter").$new(d,e)}return p}();if((f=e["$key?"]("template_dirs"))===
p||f.$$is_boolean&&1!=f)return k;var h;try{h=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":p}catch(t){if(t.$$class===a.NameError)h=p;else throw t;}((f=h)===p||f.$$is_boolean&&1!=f)&&m.$require("asciidoctor/converter/template".$to_s());var c;try{c=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":p}catch(t){if(t.$$class===a.NameError)c=p;else throw t;}((f=c)===p||f.$$is_boolean&&1!=f)&&m.$require("asciidoctor/converter/composite".$to_s());
q=r.get("TemplateConverter").$new(d,e["$[]"]("template_dirs"),e);return r.get("CompositeConverter").$new(d,q,k)}),p)&&"create"})(t(e,"Converter").$$scope.base,null)})(t(k,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var p=a.top,t=a.nil,l=a.module,g=a.range,k=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(e){e=l(e,"Asciidoctor").$$scope;(function(d){d=l(d,"Converter");var b=d.$$scope;(function(b){b=l(b,"Config");var d=b.$$scope;a.defn(b,"$register_for",function(){var b,e,g,k,f,m=
t,m=t,l=arguments.length-0;0>l&&(l=0);for(var p=Array(l),m=0;m<l;m++)p[m]=arguments[m+0];d.get("Factory").$register(this,p);m=function(a){return a}(a.get_singleton_class(this));p["$=="](["*"])?(b=(e=m).$send,b.$$p=(g=function(a){return!0},g.$$s=this,g),b).call(e,"define_method","converts?"):(b=(k=m).$send,b.$$p=(f=function(a){null==a&&(a=t);return p["$include?"](a)},f.$$s=this,f),b).call(k,"define_method","converts?");return t})})(b.base);(function(b){b=l(b,"BackendInfo");var d=b.$$scope;a.defn(b,
"$backend_info",function(){var a;null==this.backend_info&&(this.backend_info=t);return!1!==(a=this.backend_info)&&a!==t?a:this.backend_info=this.$setup_backend_info()});a.defn(b,"$setup_backend_info",function(){var b,e=t,n=t,l=t,f=t;null==this.backend&&(this.backend=t);((b=this.backend)===t||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());e=this.backend.$sub(d.get("TrailingDigitsRx"),"");(b=n=d.get("DEFAULT_EXTENSIONS")["$[]"](e))===
t||b.$$is_boolean&&1!=b?(e="html",n=".html",f=l="html"):l=n["$[]"](g(1,-1,!1));return k(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:n,filetype:l,htmlsyntax:f})});a.defn(b,"$filetype",function(a){null==a&&(a=t);return!1!==a&&a!==t?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")});a.defn(b,"$basebackend",function(a){null==a&&(a=t);return!1!==a&&a!==t?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")});
a.defn(b,"$outfilesuffix",function(a){null==a&&(a=t);return!1!==a&&a!==t?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")});a.defn(b,"$htmlsyntax",function(a){null==a&&(a=t);return!1!==a&&a!==t?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")})})(b.base);(function(b){var d=b.$$scope;return(a.defn(b,"$included",function(a){return a.$extend(d.get("Config"))}),t)&&"included"})(a.get_singleton_class(d));d.$include(b.get("Config"));
d.$include(b.get("BackendInfo"));a.defn(d,"$initialize",function(a,b){null==b&&k([],{});this.backend=a;return this.$setup_backend_info()});a.defn(d,"$convert",function(b,d,e){null==e&&k([],{});return this.$raise(a.get("NotImplementedError"))});a.alias(d,"convert_with_options","convert")})(e.base);(function(d){d=l(d,"Writer");var b=d.$$scope;a.defn(d,"$write",function(d,e){var g,k,n;(g=e["$respond_to?"]("write"))===t||g.$$is_boolean&&1!=g?(g=(k=a.get("File")).$open,g.$$p=(n=function(a){null==a&&(a=
t);return a.$write(d)},n.$$s=this,n),g).call(k,e,"w"):(e.$write(d.$chomp()),e.$write(b.get("EOL")));return t})})(e.base);(function(d){d=l(d,"VoidWriter");d.$include(d.$$scope.get("Writer"));a.defn(d,"$write",function(a,d){return t})})(e.base)})(a.base);p.$require("asciidoctor/converter/base");return p.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/html5"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===
typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var d=a.nil,b=a.module,z=a.klass,x=a.hash2,w=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $style $media_uri $option? $append_boolean_attribute $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match".split(" "));
return function(r){r=b(r,"Asciidoctor").$$scope;(function(b,$super){function f(){}var m=f=z(b,$super,"Html5Converter",f),r=m.$$proto,y=m.$$scope,q;r.xml_mode=r.void_element_slash=r.stylesheets=d;r=[[d,d,d]];q=a.cdecl(y,"QUOTE_TAGS",x("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],
"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));q["$default="].apply(q,r);r[r.length-1];a.cdecl(y,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m);a.cdecl(y,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(y,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(m,"$initialize",function(a,b){var e;null==b&&(b=x([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(e=this.xml_mode)===
d||e.$$is_boolean&&1!=e?d:"/";return this.stylesheets=y.get("Stylesheets").$instance()});a.defn(m,"$document",function(a){var b,e,f,g,k,m,q=d,n=d,r=d,C=d,P=d,u=d,I=d,K=u=I=u=I=C=I=C=I=d,n=n=u=u=I=d,q=[],n=this.void_element_slash,r="<br"+n+">";if((b=(C=a.$attr("asset-uri-scheme","https"))["$empty?"]())===d||b.$$is_boolean&&1!=b)C=""+C+":";P=""+C+"//cdnjs.cloudflare.com/ajax/libs";u=!1!==(b=p(a.$safe(),y.get("SafeMode").$$scope.get("SECURE")))&&b!==d?b:a["$attr?"]("linkcss");q["$<<"]("<!DOCTYPE html>");
I=(b=a["$attr?"]("nolang"))===d||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':d;q["$<<"]("<html"+((b=this.xml_mode)===d||b.$$is_boolean&&1!=b?d:' xmlns="http://www.w3.org/1999/xhtml"')+I+">");q["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+n+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+n+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+n+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+
'"'+n+">");if((b=a["$attr?"]("app-name"))!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+n+">");if((b=a["$attr?"]("description"))!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+n+">");if((b=a["$attr?"]("keywords"))!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+n+">");if((b=a["$attr?"]("authors"))!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<meta name="author" content="'+
a.$attr("authors")+'"'+n+">");if((b=a["$attr?"]("copyright"))!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+n+">");q["$<<"]("<title>"+a.$doctitle(x(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=y.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==d&&(!b.$$is_boolean||1==b)){if((b=I=a.$attr("webfonts"))!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<link rel="stylesheet" href="'+C+"//fonts.googleapis.com/css?family="+
((b=I["$empty?"]())===d||b.$$is_boolean&&1!=b?I:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+n+">");if(!1!==u&&u!==d)q["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(y.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+n+">");else q["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==d&&(!b.$$is_boolean||1==b))if(!1!==u&&u!==d)q["$<<"]('<link rel="stylesheet" href="'+
a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+n+">");else q["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),x(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((b=a["$attr?"]("icons","font"))!==d&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===d||b.$$is_boolean&&1!=b)C=""+a.$attr("iconfont-name","font-awesome")+".css",q["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(C,a.$attr("stylesdir",
""),!1)+'"'+n+">");else q["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+P+"/font-awesome/4.5.0/css/font-awesome.min.css")+'"'+n+">");I=C=a.$attr("source-highlighter");if("coderay"["$==="](I)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==u&&u!==d)q["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+n+">");else q["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](I)&&
a.$attr("pygments-css","class")["$=="]("class"))if(I=a.$attr("pygments-style"),!1!==u&&u!==d)q["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(I),a.$attr("stylesdir",""),!1)+'"'+n+">");else q["$<<"](this.stylesheets.$embed_pygments_stylesheet(I));if((b=(u=a.$docinfo())["$empty?"]())===d||b.$$is_boolean&&1!=b)q["$<<"](u);q["$<<"]("</head>");I=[];if((b=a.$id())!==d&&(!b.$$is_boolean||1==b))I["$<<"]('id="'+a.$id()+'"');if((b=(e=(f=(g=u=a["$sections?"](),
!1!==g&&g!==d?a["$attr?"]("toc-class"):g),!1!==f&&f!==d?a["$attr?"]("toc"):f),!1!==e&&e!==d?a["$attr?"]("toc-placement","auto"):e))===d||b.$$is_boolean&&1!=b)I["$<<"]('class="'+a.$doctype()+'"');else I["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==d&&(!b.$$is_boolean||1==b))I["$<<"]('style="max-width: '+a.$attr("max-width")+';"');q["$<<"]("<body "+t(I," ")+">");if((b=a.$noheader())===d||b.$$is_boolean&&1!=b){q["$<<"]('<div id="header">');
if(a.$doctype()["$=="]("manpage")){q["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((b=(e=(f=!1!==u&&u!==d)?a["$attr?"]("toc"):u,!1!==e&&e!==d?a["$attr?"]("toc-placement","auto"):e))!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");q["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((b=
a["$has_header?"]())!==d&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===d||b.$$is_boolean&&1!=b)q["$<<"]("<h1>"+a.$header().$title()+"</h1>");K=[];if((b=a["$attr?"]("author"))!==d&&(!b.$$is_boolean||1==b)){K["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+r);if((b=a["$attr?"]("email"))!==d&&(!b.$$is_boolean||1==b))K["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+r);(b=l(I=a.$attr("authorcount").$to_i(),1))===d||b.$$is_boolean&&1!=b||(b=(e=
w(2,I,!1)).$each,b.$$p=(k=function(b){var c;null==b&&(b=d);K["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+r);return(c=a["$attr?"]("email_"+b))===d||c.$$is_boolean&&1!=c?d:K["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+r)},k.$$s=this,k),b).call(e)}if((b=a["$attr?"]("revnumber"))!==d&&(!b.$$is_boolean||1==b))K["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==d?b:"").$downcase()+" "+a.$attr("revnumber")+
((b=a["$attr?"]("revdate"))===d||b.$$is_boolean&&1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==d&&(!b.$$is_boolean||1==b))K["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==d&&(!b.$$is_boolean||1==b))K["$<<"](""+r+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=K["$empty?"]())===d||b.$$is_boolean&&1!=b)q["$<<"]('<div class="details">'),q.$concat(K),q["$<<"]("</div>")}if((b=(f=(g=!1!==u&&u!==d)?a["$attr?"]("toc"):u,!1!==f&&f!==d?a["$attr?"]("toc-placement",
"auto"):f))!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}q["$<<"]("</div>")}q["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(b=(f=a["$footnotes?"](),!1!==f&&f!==d?a["$attr?"]("nofootnotes")["$!"]():f))===d||b.$$is_boolean&&1!=b||(q["$<<"]('<div id="footnotes">\n<hr'+n+">"),(b=(f=a.$footnotes()).$each,b.$$p=(m=function(a){null==a&&(a=d);return q["$<<"]('<div class="footnote" id="_footnote_'+
a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},m.$$s=this,m),b).call(f),q["$<<"]("</div>"));if((b=a.$nofooter())===d||b.$$is_boolean&&1!=b){q["$<<"]('<div id="footer">');q["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==d&&(!b.$$is_boolean||1==b))q["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+r);if((b=(g=a["$attr?"]("last-update-label"),!1!==g&&g!==d?a["$attr?"]("reproducible")["$!"]():g))!==d&&(!b.$$is_boolean||
1==b))q["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));q["$<<"]("</div>");q["$<<"]("</div>")}if((b=(u=a.$docinfo("footer"))["$empty?"]())===d||b.$$is_boolean&&1!=b)q["$<<"](u);I=C;"highlightjs"["$==="](I)||"highlight.js"["$==="](I)?(u=a.$attr("highlightjsdir",""+P+"/highlight.js/8.9.1"),q["$<<"]('<link rel="stylesheet" href="'+u+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+n+">"),q["$<<"]('<script src="'+u+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):
"prettify"["$==="](I)&&(u=a.$attr("prettifydir",""+P+"/prettify/r298"),q["$<<"]('<link rel="stylesheet" href="'+u+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+n+">"),q["$<<"]('<script src="'+u+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===d||b.$$is_boolean&&1!=b||(n=a.$attr("eqnums","none"),n["$=="]("")&&(n="AMS"),n=' equationNumbers: { autoNumber: "'+n+'" } ',q["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+
y.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+y.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+y.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+n+'}\n});\n\x3c/script>\n<script src="'+P+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));q["$<<"]("</body>");q["$<<"]("</html>");
return t(q,y.get("EOL"))});a.defn(m,"$embedded",function(a){var b,e,f,g,k,m=d,q=d,n=d,m=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===d||b.$$is_boolean&&1!=b)q=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',m["$<<"]("<h1"+q+">"+a.$doctitle()+" Manual Page</h1>");m["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(b=(e=a["$has_header?"](),!1!==e&&e!==d?a.$notitle()["$!"]():e))===
d||b.$$is_boolean&&1!=b||(q=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',m["$<<"]("<h1"+q+">"+a.$header().$title()+"</h1>"));if((b=(e=(f=(g=a["$sections?"](),!1!==g&&g!==d?a["$attr?"]("toc"):g),!1!==f&&f!==d?(n=a.$attr("toc-placement"))["$!="]("macro"):f),!1!==e&&e!==d?n["$!="]("preamble"):e))!==d&&(!b.$$is_boolean||1==b))m["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");m["$<<"](a.$content());(b=(e=a["$footnotes?"](),
!1!==e&&e!==d?a["$attr?"]("nofootnotes")["$!"]():e))===d||b.$$is_boolean&&1!=b||(m["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(b=(e=a.$footnotes()).$each,b.$$p=(k=function(a){null==a&&(a=d);return m["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},k.$$s=this,k),b).call(e),m["$<<"]("</div>"));return t(m,y.get("EOL"))});a.defn(m,"$outline",function(a,b){var e,f,m,q=d,n=d,l=d,p=d,r=d,
C=d;null==b&&(b=x([],{}));if((e=a["$sections?"]())===d||e.$$is_boolean&&1!=e)return d;q=!1!==(e=b["$[]"]("sectnumlevels"))&&e!==d?e:a.$document().$attr("sectnumlevels",3).$to_i();n=!1!==(e=b["$[]"]("toclevels"))&&e!==d?e:a.$document().$attr("toclevels",2).$to_i();l=[];p=a.$sections();r=(C=p["$[]"](0)).$level();(e=(f=r["$=="](0))?C.$special():r["$=="](0))===d||e.$$is_boolean&&1!=e||(r=1);l["$<<"]('<ul class="sectlevel'+r+'">');(e=(f=p).$each,e.$$p=(m=function(a){var b=m.$$s||this,c,h,e,f=d,p=d;null==
a&&(a=d);f=(c=(h=(e=a.$numbered(),!1!==e&&e!==d?a.$caption()["$!"]():e),!1!==h&&h!==d?g(a.$level(),q):h))===d||c.$$is_boolean&&1!=c?d:""+a.$sectnum()+" ";if((c=(h=k(a.$level(),n),!1!==h&&h!==d?p=b.$outline(a,x(["toclevels","secnumlevels"],{toclevels:n,secnumlevels:q})):h))===d||c.$$is_boolean&&1!=c)return l["$<<"]('<li><a href="#'+a.$id()+'">'+f+a.$captioned_title()+"</a></li>");l["$<<"]('<li><a href="#'+a.$id()+'">'+f+a.$captioned_title()+"</a>");l["$<<"](p);return l["$<<"]("</li>")},m.$$s=this,
m),e).call(f);l["$<<"]("</ul>");return t(l,y.get("EOL"))});a.defn(m,"$section",function(a){var b,f,m,k=d,q=d,n=d,l=d,p=d,r=d,C=d,t=d,u=d,k=a.$level();(b=(f=k["$=="](0))?a.$special():k["$=="](0))===d||b.$$is_boolean&&1!=b||(k=1);q="h"+e(k,1);n=l=p=r=d;(b=a.$id())===d||b.$$is_boolean&&1!=b||((n=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))===d||b.$$is_boolean&&1!=b)?(b=a.$document()["$attr?"]("sectlinks"))===d||b.$$is_boolean&&1!=b||(p='<a class="link" href="#'+a.$id()+'">',r="</a>"):
l='<a class="anchor" href="#'+a.$id()+'"></a>');if(k["$=="](0))return"<h1"+n+' class="sect0">'+l+p+a.$title()+r+"</h1>\n"+a.$content();C=(b=t=a.$role())===d||b.$$is_boolean&&1!=b?' class="sect'+k+'"':' class="sect'+k+" "+t+'"';u=(b=(f=(m=a.$numbered(),!1!==m&&m!==d?a.$caption()["$!"]():m),!1!==f&&f!==d?g(k,a.$document().$attr("sectnumlevels",3).$to_i()):f))===d||b.$$is_boolean&&1!=b?d:""+a.$sectnum()+" ";return"<div"+C+">\n<"+q+n+">"+l+p+u+a.$captioned_title()+r+"</"+q+">\n"+(k["$=="](1)?'<div class="sectionbody">\n'+
a.$content()+"\n</div>":a.$content())+"\n</div>"});a.defn(m,"$admonition",function(a){var b,e,f=d,g=d,k=d,m=d,q=d,f=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',g=a.$attr("name"),k=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n",m=(b=a.$document()["$attr?"]("icons"))===d||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(e=a.$document()["$attr?"]("icons","font"),!1!==e&&e!==d?a["$attr?"]("icon")["$!"]():e))===d||b.$$is_boolean&&
1!=b?'<img src="'+a.$icon_uri(g)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+g+'" title="'+a.$caption()+'"></i>';return"<div"+f+' class="admonitionblock '+g+(b=q=a.$role(),!1!==b&&b!==d?" "+q:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+m+'\n</td>\n<td class="content">\n'+k+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"});a.defn(m,"$audio",function(a){var b,e=d,f=d,g=d,k=g=d,e=a.$document()["$attr?"]("htmlsyntax","xml"),f=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+
a.$id()+'"',g=["audioblock",a.$style(),a.$role()].$compact(),g=' class="'+t(g," ")+'"',k=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+f+g+">\n"+k+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===d||b.$$is_boolean&&1!=b?d:this.$append_boolean_attribute("autoplay",e))+((b=a["$option?"]("nocontrols"))===d||b.$$is_boolean&&1!=b?this.$append_boolean_attribute("controls",e):d)+
((b=a["$option?"]("loop"))===d||b.$$is_boolean&&1!=b?d:this.$append_boolean_attribute("loop",e))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"});a.defn(m,"$colist",function(a){var b,f,g,k,m,q=d,n=d,l=d,p=l=d,q=[],n=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',l=["colist",a.$style(),a.$role()].$compact(),l=' class="'+t(l," ")+'"';q["$<<"]("<div"+n+l+">");if((b=a["$title?"]())!==d&&(!b.$$is_boolean||1==b))q["$<<"]('<div class="title">'+a.$title()+"</div>");
(b=a.$document()["$attr?"]("icons"))===d||b.$$is_boolean&&1!=b?(q["$<<"]("<ol>"),(b=(k=a.$items()).$each,b.$$p=(m=function(a){null==a&&(a=d);return q["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},m.$$s=this,m),b).call(k),q["$<<"]("</ol>")):(q["$<<"]("<table>"),p=a.$document()["$attr?"]("icons","font"),(b=(f=a.$items()).$each_with_index,b.$$p=(g=function(b,c){var f=g.$$s||this,k=d,k=d;null==f.void_element_slash&&(f.void_element_slash=d);null==b&&(b=d);null==c&&(c=d);k=e(c,1);k=!1!==p&&p!==d?'<i class="conum" data-value="'+
k+'"></i><b>'+k+"</b>":'<img src="'+a.$icon_uri("callouts/"+k)+'" alt="'+k+'"'+f.void_element_slash+">";return q["$<<"]("<tr>\n<td>"+k+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},g.$$s=this,g),b).call(f),q["$<<"]("</table>"));q["$<<"]("</div>");return t(q,y.get("EOL"))});a.defn(m,"$dlist",function(b){var c,e,f,g,k,m,q,n=d,l=d,p=d,r=p=p=d,u=l=d,n=[],l=(c=b.$id())===d||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',p=b.$style(),p=("qanda"["$==="](p)?["qlist","qanda",b.$role()]:"horizontal"["$==="](p)?["hdlist",
b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),p=' class="'+t(p," ")+'"';n["$<<"]("<div"+l+p+">");if((c=b["$title?"]())!==d&&(!c.$$is_boolean||1==c))n["$<<"]('<div class="title">'+b.$title()+"</div>");p=b.$style();"qanda"["$==="](p)?(n["$<<"]("<ol>"),(c=(e=b.$items()).$each,c.$$p=(f=function(b,c){var h=f.$$s||this,e,g,k;null==b&&(b=d);null==c&&(c=d);n["$<<"]("<li>");(e=(g=[].concat(a.to_a(b))).$each,e.$$p=(k=function(a){null==a&&(a=d);return n["$<<"]("<p><em>"+a.$text()+"</em></p>")},k.$$s=
h,k),e).call(g);if(!1!==c&&c!==d){if((e=c["$text?"]())!==d&&(!e.$$is_boolean||1==e))n["$<<"]("<p>"+c.$text()+"</p>");if((e=c["$blocks?"]())!==d&&(!e.$$is_boolean||1==e))n["$<<"](c.$content())}return n["$<<"]("</li>")},f.$$s=this,f),c).call(e),n["$<<"]("</ol>")):"horizontal"["$==="](p)?(r=this.void_element_slash,n["$<<"]("<table>"),(c=!1!==(g=b["$attr?"]("labelwidth"))&&g!==d?g:b["$attr?"]("itemwidth"))===d||c.$$is_boolean&&1!=c||(n["$<<"]("<colgroup>"),l=(c=b["$attr?"]("labelwidth"))===d||c.$$is_boolean&&
1!=c?d:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',n["$<<"]("<col"+l+r+">"),l=(c=b["$attr?"]("itemwidth"))===d||c.$$is_boolean&&1!=c?d:' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"',n["$<<"]("<col"+l+r+">"),n["$<<"]("</colgroup>")),(c=(g=b.$items()).$each,c.$$p=(k=function(c,e){var f=k.$$s||this,g,m,q,l=d,p=d;null==c&&(c=d);null==e&&(e=d);n["$<<"]("<tr>");n["$<<"]('<td class="hdlist1'+((g=b["$option?"]("strong"))===d||g.$$is_boolean&&1!=g?d:" strong")+'">');l=[].concat(a.to_a(c));
p=l["$[]"](-1);(g=(m=l).$each,g.$$p=(q=function(a){var b;null==a&&(a=d);n["$<<"](a.$text());return(b=a["$!="](p))===d||b.$$is_boolean&&1!=b?d:n["$<<"]("<br"+r+">")},q.$$s=f,q),g).call(m);n["$<<"]("</td>");n["$<<"]('<td class="hdlist2">');if(!1!==e&&e!==d){if((g=e["$text?"]())!==d&&(!g.$$is_boolean||1==g))n["$<<"]("<p>"+e.$text()+"</p>");if((g=e["$blocks?"]())!==d&&(!g.$$is_boolean||1==g))n["$<<"](e.$content())}n["$<<"]("</td>");return n["$<<"]("</tr>")},k.$$s=this,k),c).call(g),n["$<<"]("</table>")):
(n["$<<"]("<dl>"),u=(c=b.$style())===d||c.$$is_boolean&&1!=c?' class="hdlist1"':d,(c=(m=b.$items()).$each,c.$$p=(q=function(b,c){var h=q.$$s||this,e,f,g;null==b&&(b=d);null==c&&(c=d);(e=(f=[].concat(a.to_a(b))).$each,e.$$p=(g=function(a){null==a&&(a=d);return n["$<<"]("<dt"+u+">"+a.$text()+"</dt>")},g.$$s=h,g),e).call(f);if(!1!==c&&c!==d){n["$<<"]("<dd>");if((e=c["$text?"]())!==d&&(!e.$$is_boolean||1==e))n["$<<"]("<p>"+c.$text()+"</p>");if((e=c["$blocks?"]())!==d&&(!e.$$is_boolean||1==e))n["$<<"](c.$content());
return n["$<<"]("</dd>")}return d},q.$$s=this,q),c).call(m),n["$<<"]("</dl>"));n["$<<"]("</div>");return t(n,y.get("EOL"))});a.defn(m,"$example",function(a){var b,e=d,f=d,g=d,e=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+e+' class="'+((b=g=a.$role())===d||b.$$is_boolean&&1!=b?"exampleblock":t(["exampleblock",g]," "))+'">\n'+f+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"});
a.defn(m,"$floating_title",function(a){var b,f=d,g=d,k=d,f="h"+e(a.$level(),1),g=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',k=[a.$style(),a.$role()].$compact();return"<"+f+g+' class="'+t(k," ")+'">'+a.$title()+"</"+f+">"});a.defn(m,"$image",function(a){var b,e,f,g=d,m=d,q=d,n=d,l=d,p=d,r=n=d,n=q=q=m=m=g=d,g=a.$attr("target"),m=(b=a["$attr?"]("width"))===d||b.$$is_boolean&&1!=b?d:' width="'+a.$attr("width")+'"',q=(b=a["$attr?"]("height"))===d||b.$$is_boolean&&1!=b?d:' height="'+a.$attr("height")+
'"';(b=(e=!1!==(f=a["$attr?"]("format","svg",!1))&&f!==d?f:g["$include?"](".svg"),!1!==e&&e!==d?k(a.$document().$safe(),y.get("SafeMode").$$scope.get("SECURE")):e))===d||b.$$is_boolean&&1!=b||(!1!==(b=n=a["$option?"]("inline"))&&b!==d?b:l=a["$option?"]("interactive"),!1!==n&&n!==d?p=!1!==(b=this.$read_svg_contents(a,g))&&b!==d?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==l&&l!==d&&(n=(b=a["$attr?"]("fallback"))===d||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+
a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+m+q+this.void_element_slash+">",p='<object type="image/svg+xml" data="'+a.$image_uri(g)+'"'+m+q+">"+n+"</object>"));!1!==(b=p)&&b!==d?b:p='<img src="'+a.$image_uri(g)+'" alt="'+a.$attr("alt")+'"'+m+q+this.void_element_slash+">";(b=r=a.$attr("link"))===d||b.$$is_boolean&&1!=b||(p='<a class="image" href="'+r+'">'+p+"</a>");g=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"';m=["imageblock",a.$style(),a.$role()].$compact();m=' class="'+
t(m," ")+'"';q=[];if((b=a["$attr?"]("align"))!==d&&(!b.$$is_boolean||1==b))q["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==d&&(!b.$$is_boolean||1==b))q["$<<"]("float: "+a.$attr("float"));q=(b=q["$empty?"]())===d||b.$$is_boolean&&1!=b?' style="'+t(q,";")+'"':d;n=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+g+m+q+'>\n<div class="content">\n'+p+"\n</div>"+n+"\n</div>"});a.defn(m,"$listing",function(a){var b,
e=d,f=d,g=d,k=d,m=k=e=g=e=d,q=d,e=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==d?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(g=(b=f=a.$attr("language",d,!1))===d||b.$$is_boolean&&1!=b?d:' data-lang="'+f+'"',k=a.$document().$attr("source-highlighter"),"coderay"["$==="](k)?e=' class="CodeRay highlight'+(!1!==e&&e!==d?" nowrap":d)+'"':"pygments"["$==="](k)?e=' class="pygments highlight'+(!1!==e&&e!==d?" nowrap":d)+'"':"highlightjs"["$==="](k)||"highlight.js"["$==="](k)?(e=' class="highlightjs highlight'+
(!1!==e&&e!==d?" nowrap":d)+'"',!1!==f&&f!==d&&(g=' class="language-'+f+'"'+g)):"prettify"["$==="](k)?(e=' class="prettyprint highlight'+(!1!==e&&e!==d?" nowrap":d)+((b=a["$attr?"]("linenums"))===d||b.$$is_boolean&&1!=b?d:" linenums")+'"',!1!==f&&f!==d&&(g=' class="language-'+f+'"'+g)):"html-pipeline"["$==="](k)?(e=!1!==f&&f!==d?' lang="'+f+'"':d,g=d):(e=' class="highlight'+(!1!==e&&e!==d?" nowrap":d)+'"',!1!==f&&f!==d&&(g=' class="language-'+f+'"'+g)),g="<pre"+e+"><code"+g+">",e="</code></pre>"):
(g="<pre"+(!1!==e&&e!==d?' class="nowrap"':d)+">",e="</pre>");k=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"';m=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+k+' class="listingblock'+(b=q=a.$role(),!1!==b&&b!==d?" "+q:b)+'">\n'+m+'<div class="content">\n'+g+a.$content()+e+"\n</div>\n</div>"});a.defn(m,"$literal",function(a){var b,e=d,f=d,g=d,k=d,e=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=(b=a["$title?"]())===
d||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n",g=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==d?b:a["$option?"]("nowrap");return"<div"+e+' class="literalblock'+(b=k=a.$role(),!1!==b&&b!==d?" "+k:b)+'">\n'+f+'<div class="content">\n<pre'+(!1!==g&&g!==d?' class="nowrap"':d)+">"+a.$content()+"</pre>\n</div>\n</div>"});a.defn(m,"$stem",function(b){var c,e,f=d,g=d,k=d,m=d,q=d,n=d,f=(c=b.$id())===d||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',g=(c=b["$title?"]())===d||
c.$$is_boolean&&1!=c?d:'<div class="title">'+b.$title()+"</div>\n";e=y.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());c=a.to_ary(e);k=null==c[0]?d:c[0];m=null==c[1]?d:c[1];e;if((c=(e=(q=b.$content())["$start_with?"](k),!1!==e&&e!==d?q["$end_with?"](m):e))===d||c.$$is_boolean&&1!=c)q=""+k+q+m;return"<div"+f+' class="'+((c=n=b.$role())===d||c.$$is_boolean&&1!=c?"stemblock":t(["stemblock",n]," "))+'">\n'+g+'<div class="content">\n'+q+"\n</div>\n</div>"});a.defn(m,"$olist",function(a){var b,
e,f,g=d,k=d,m=d,q=k=m=d,m=d,g=[],k=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',m=["olist",a.$style(),a.$role()].$compact(),m=' class="'+t(m," ")+'"';g["$<<"]("<div"+k+m+">");if((b=a["$title?"]())!==d&&(!b.$$is_boolean||1==b))g["$<<"]('<div class="title">'+a.$title()+"</div>");k=(b=q=a.$list_marker_keyword())===d||b.$$is_boolean&&1!=b?d:' type="'+q+'"';m=(b=a["$attr?"]("start"))===d||b.$$is_boolean&&1!=b?d:' start="'+a.$attr("start")+'"';g["$<<"]('<ol class="'+a.$style()+'"'+k+m+">");
(b=(e=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=d);g["$<<"]("<li>");g["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==d&&(!b.$$is_boolean||1==b))g["$<<"](a.$content());return g["$<<"]("</li>")},f.$$s=this,f),b).call(e);g["$<<"]("</ol>");g["$<<"]("</div>");return t(g,y.get("EOL"))});a.defn(m,"$open",function(a){var b,e,f,g=d,k=d,m=d,q=d;if((g=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===
d||b.$$is_boolean&&1!=b)return k=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',m=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>","<div"+k+' class="quoteblock abstract'+(b=q=a.$role(),!1!==b&&b!==d?" "+q:b)+'">\n'+m+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((b=g["$=="]("partintro")?
!1!==(e=!1!==(f=a.$level()["$!="](0))&&f!==d?f:a.$parent().$context()["$!="]("section"))&&e!==d?e:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro"))===d||b.$$is_boolean&&1!=b)return k=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',m=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>","<div"+k+' class="openblock'+((b=!1!==g&&g!==d?g["$!="]("open"):g)===d||b.$$is_boolean&&1!=b?"":" "+g)+(b=q=a.$role(),!1!==b&&b!==d?" "+q:b)+'">\n'+m+'<div class="content">\n'+
a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""});a.defn(m,"$page_break",function(a){return'<div style="page-break-after: always;"></div>'});a.defn(m,"$paragraph",function(a){var b,e=d,e=d,e=(b=a.$role())===d||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',e=(b=a.$id())===d||b.$$is_boolean&&1!=b?e:'id="'+a.$id()+'" '+e;return(b=a["$title?"]())===
d||b.$$is_boolean&&1!=b?"<div "+e+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+e+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"});a.defn(m,"$preamble",function(a){var b,e,f,g=d,k=d,k=(b=(e=(f=(g=a.$document())["$attr?"]("toc-placement","preamble"),!1!==f&&f!==d?g["$sections?"]():f),!1!==e&&e!==d?g["$attr?"]("toc"):e))===d||b.$$is_boolean&&1!=b?d:'\n<div id="toc" class="'+g.$attr("toc-class","toc")+'">\n<div id="toctitle">'+g.$attr("toc-title")+"</div>\n"+this.$outline(g)+
"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+k+"\n</div>"});a.defn(m,"$quote",function(a){var b,e,f=d,g=d,k=g=d,m=d,q=d,n=d,n=m=d,f=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',g=["quoteblock",a.$role()].$compact(),g=' class="'+t(g," ")+'"',k=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$title()+"</div>",m=(b=a["$attr?"]("attribution"))===d||b.$$is_boolean&&1!=b?d:a.$attr("attribution"),q=(b=a["$attr?"]("citetitle"))===
d||b.$$is_boolean&&1!=b?d:a.$attr("citetitle");(b=!1!==(e=m)&&e!==d?e:q)===d||b.$$is_boolean&&1!=b?n=d:(n=!1!==q&&q!==d?"<cite>"+q+"</cite>":d,m=!1!==m&&m!==d?"&#8212; "+m+(!1!==q&&q!==d?"<br"+this.void_element_slash+">\n":d):d,n='\n<div class="attribution">\n'+m+n+"\n</div>");return"<div"+f+g+">"+k+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+n+"\n</div>"});a.defn(m,"$thematic_break",function(a){return"<hr"+this.void_element_slash+">"});a.defn(m,"$sidebar",function(a){var b,e=d,f=d,g=d,e=(b=
a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n";return"<div"+e+' class="'+((b=g=a.$role())===d||b.$$is_boolean&&1!=b?"sidebarblock":t(["sidebarblock",g]," "))+'">\n<div class="content">\n'+f+a.$content()+"\n</div>\n</div>"});a.defn(m,"$table",function(a){var b,e,f,g,k,m,q,n,p,r,P=d,u=d,I=d,K=d,w=d,x=K=I=w=d,M=d,P=[],u=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',I=["tableblock","frame-"+
a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],K=[];if((b=a["$option?"]("autowidth"))===d||b.$$is_boolean&&1!=b)if((w=a.$attr("tablepcwidth"))["$=="](100))I["$<<"]("spread");else K["$<<"]("width: "+w+"%;");if((b=w=a.$role())!==d&&(!b.$$is_boolean||1==b))I["$<<"](w);I=' class="'+t(I," ")+'"';if((b=a["$attr?"]("float"))!==d&&(!b.$$is_boolean||1==b))K["$<<"]("float: "+a.$attr("float")+";");K=(b=K["$empty?"]())===d||b.$$is_boolean&&1!=b?' style="'+t(K," ")+'"':d;P["$<<"]("<table"+u+I+K+">");if((b=
a["$title?"]())!==d&&(!b.$$is_boolean||1==b))P["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");(b=l(a.$attr("rowcount"),0))===d||b.$$is_boolean&&1!=b||(x=this.void_element_slash,P["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===d||b.$$is_boolean&&1!=b?(b=(g=a.$columns()).$each,b.$$p=(k=function(a){null==a&&(a=d);return P["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+x+">")},k.$$s=this,k),b).call(g):(M="<col"+x+">",(b=(e=a.$columns().$size()).$times,b.$$p=(f=function(){return P["$<<"](M)},
f.$$s=this,f),b).call(e)),P["$<<"]("</colgroup>"),(b=(m=(n=(p=["head","foot","body"]).$select,n.$$p=(r=function(b){null==b&&(b=d);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},r.$$s=this,r),n).call(p)).$each,b.$$p=(q=function(b){var c=q.$$s||this,e,f,g;null==b&&(b=d);P["$<<"]("<t"+b+">");(e=(f=a.$rows()["$[]"](b)).$each,e.$$p=(g=function(c){var e=g.$$s||this,f,k,m;null==c&&(c=d);P["$<<"]("<tr>");(f=(k=c).$each,f.$$p=(m=function(c){var e=m.$$s||this,f,g,k,q,n=d,l=d,p=l=d,r=d,t=d,C=d;null==c&&(c=
d);b["$=="]("head")?n=c.$text():(l=c.$style(),"asciidoc"["$==="](l)?n="<div>"+c.$content()+"</div>":"verse"["$==="](l)?n='<div class="verse">'+c.$text()+"</div>":"literal"["$==="](l)?n='<div class="literal"><pre>'+c.$text()+"</pre></div>":(n="",(f=(g=c.$content()).$each,f.$$p=(k=function(a){null==a&&(a=d);return n=""+n+'<p class="tableblock">'+a+"</p>"},k.$$s=e,k),f).call(g)));l=(f=!1!==(q=b["$=="]("head"))&&q!==d?q:c.$style()["$=="]("header"))===d||f.$$is_boolean&&1!=f?"td":"th";p=' class="tableblock halign-'+
c.$attr("halign")+" valign-"+c.$attr("valign")+'"';r=(f=c.$colspan())===d||f.$$is_boolean&&1!=f?d:' colspan="'+c.$colspan()+'"';t=(f=c.$rowspan())===d||f.$$is_boolean&&1!=f?d:' rowspan="'+c.$rowspan()+'"';C=(f=a.$document()["$attr?"]("cellbgcolor"))===d||f.$$is_boolean&&1!=f?d:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return P["$<<"]("<"+l+p+r+t+C+">"+n+"</"+l+">")},m.$$s=e,m),f).call(k);return P["$<<"]("</tr>")},g.$$s=c,g),e).call(f);return P["$<<"]("</t"+b+">")},q.$$s=
this,q),b).call(m));P["$<<"]("</table>");return t(P,y.get("EOL"))});a.defn(m,"$toc",function(a){var b,e,f,g=d,k=d,m=d,q=d,n=d,l=d;if((b=(e=(f=(g=a.$document())["$attr?"]("toc-placement","macro"),!1!==f&&f!==d?g["$sections?"]():f),!1!==e&&e!==d?g["$attr?"]("toc"):e))===d||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===d||b.$$is_boolean&&1!=b?(k=' id="toc"',m=' id="toctitle"'):(k=' id="'+a.$id()+'"',m=' id="'+a.$id()+'title"');q=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?g.$attr("toc-title"):
a.$title();n=(b=a["$attr?"]("levels"))===d||b.$$is_boolean&&1!=b?d:a.$attr("levels").$to_i();l=(b=a["$role?"]())===d||b.$$is_boolean&&1!=b?g.$attr("toc-class","toc"):a.$role();return"<div"+k+' class="'+l+'">\n<div'+m+' class="title">'+q+"</div>\n"+this.$outline(g,x(["toclevels"],{toclevels:n}))+"\n</div>"});a.defn(m,"$ulist",function(a){var b,e,f,g=d,k=d,m=d,q=d,n=d,l=d,p=d,g=[],k=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',m=["ulist",a.$style(),a.$role()].$compact(),n=q=d;(b=l=a["$option?"]("checklist"))===
d||b.$$is_boolean&&1!=b?p=(b=a.$style())===d||b.$$is_boolean&&1!=b?d:' class="'+a.$style()+'"':(m.$insert(1,"checklist"),p=' class="checklist"',(b=a["$option?"]("interactive"))===d||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===d||b.$$is_boolean&&1!=b?(q="&#10003; ",n="&#10063; "):(q='<i class="fa fa-check-square-o"></i> ',n='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===d||b.$$is_boolean&&1!=b?(q='<input type="checkbox" data-item-complete="1" checked> ',
n='<input type="checkbox" data-item-complete="0"> '):(q='<input type="checkbox" data-item-complete="1" checked="checked"/> ',n='<input type="checkbox" data-item-complete="0"/> '));g["$<<"]("<div"+k+' class="'+t(m," ")+'">');if((b=a["$title?"]())!==d&&(!b.$$is_boolean||1==b))g["$<<"]('<div class="title">'+a.$title()+"</div>");g["$<<"]("<ul"+p+">");(b=(e=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=d);g["$<<"]("<li>");if((b=!1!==l&&l!==d?a["$attr?"]("checkbox"):l)===d||b.$$is_boolean&&1!=
b)g["$<<"]("<p>"+a.$text()+"</p>");else g["$<<"]("<p>"+((b=a["$attr?"]("checked"))===d||b.$$is_boolean&&1!=b?n:q)+a.$text()+"</p>");if((b=a["$blocks?"]())!==d&&(!b.$$is_boolean||1==b))g["$<<"](a.$content());return g["$<<"]("</li>")},f.$$s=this,f),b).call(e);g["$<<"]("</ul>");g["$<<"]("</div>");return t(g,y.get("EOL"))});a.defn(m,"$verse",function(a){var b,e,f=d,g=d,k=g=d,m=d,q=d,n=d,n=m=d,f=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',g=["verseblock",a.$role()].$compact(),g=' class="'+
t(g," ")+'"',k=(b=a["$title?"]())===d||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$title()+"</div>",m=(b=a["$attr?"]("attribution"))===d||b.$$is_boolean&&1!=b?d:a.$attr("attribution"),q=(b=a["$attr?"]("citetitle"))===d||b.$$is_boolean&&1!=b?d:a.$attr("citetitle");(b=!1!==(e=m)&&e!==d?e:q)===d||b.$$is_boolean&&1!=b?n=d:(n=!1!==q&&q!==d?"<cite>"+q+"</cite>":d,m=!1!==m&&m!==d?"&#8212; "+m+(!1!==q&&q!==d?"<br"+this.void_element_slash+">\n":d):d,n='\n<div class="attribution">\n'+m+n+"\n</div>");
return"<div"+f+g+">"+k+'\n<pre class="content">'+a.$content()+"</pre>"+n+"\n</div>"});a.defn(m,"$video",function(b){var c,e,f=this,g=d,k=d,m=d,q=d,n=d,l=d,p=d,r=d,u=d,y=d,K=d,w=d,x=d,M=d,z=d,N=d,L=d,U=d,Y=d,ba=d,R=d,da=d,W=d,D=d,ea=d,F=d,T=d,ja=d,ma=d,ka=d,aa=d,g=b.$document()["$attr?"]("htmlsyntax","xml"),k=(c=b.$id())===d||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',m=["videoblock",b.$style(),b.$role()].$compact(),q=' class="'+t(m," ")+'"',n=(c=b["$title?"]())===d||c.$$is_boolean&&1!=c?d:'\n<div class="title">'+
b.$captioned_title()+"</div>",l=(c=b["$attr?"]("width"))===d||c.$$is_boolean&&1!=c?d:' width="'+b.$attr("width")+'"',p=(c=b["$attr?"]("height"))===d||c.$$is_boolean&&1!=c?d:' height="'+b.$attr("height")+'"';return function(){r=b.$attr("poster");if("vimeo"["$==="](r)){if((c=(u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===d||c.$$is_boolean&&1!=c)u=""+u+":";y=(c=b["$attr?"]("start",d,!1))===d||c.$$is_boolean&&1!=c?d:"#at="+b.$attr("start");K="?";w=(c=b["$option?"]("autoplay"))===
d||c.$$is_boolean&&1!=c?d:""+K+"autoplay=1";!1!==w&&w!==d&&(K="&amp;");x=(c=b["$option?"]("loop"))===d||c.$$is_boolean&&1!=c?d:""+K+"loop=1";return"<div"+k+q+">"+n+'\n<div class="content">\n<iframe'+l+p+' src="'+u+"//player.vimeo.com/video/"+b.$attr("target")+y+w+x+'" frameborder="0"'+((c=b["$option?"]("nofullscreen"))===d||c.$$is_boolean&&1!=c?f.$append_boolean_attribute("allowfullscreen",g):d)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](r)){if((c=(u=b.$document().$attr("asset-uri-scheme",
"https"))["$empty?"]())===d||c.$$is_boolean&&1!=c)u=""+u+":";M=(c=b["$option?"]("related"))===d||c.$$is_boolean&&1!=c?0:1;z=(c=b["$attr?"]("start",d,!1))===d||c.$$is_boolean&&1!=c?d:"&amp;start="+b.$attr("start");N=(c=b["$attr?"]("end",d,!1))===d||c.$$is_boolean&&1!=c?d:"&amp;end="+b.$attr("end");w=(c=b["$option?"]("autoplay"))===d||c.$$is_boolean&&1!=c?d:"&amp;autoplay=1";x=(c=b["$option?"]("loop"))===d||c.$$is_boolean&&1!=c?d:"&amp;loop=1";L=(c=b["$option?"]("nocontrols"))===d||c.$$is_boolean&&
1!=c?d:"&amp;controls=0";(c=b["$option?"]("nofullscreen"))===d||c.$$is_boolean&&1!=c?(U=d,Y=f.$append_boolean_attribute("allowfullscreen",g)):(U="&amp;fs=0",Y=d);ba=(c=b["$option?"]("modest"))===d||c.$$is_boolean&&1!=c?d:"&amp;modestbranding=1";R=(c=b["$attr?"]("theme",d,!1))===d||c.$$is_boolean&&1!=c?d:"&amp;theme="+b.$attr("theme");da=(c=b["$attr?"]("lang"))===d||c.$$is_boolean&&1!=c?d:"&amp;hl="+b.$attr("lang");e=b.$attr("target").$split("/",2);c=a.to_ary(e);W=null==c[0]?d:c[0];D=null==c[1]?d:
c[1];e;(c=!1!==(e=D)&&e!==d?e:D=b.$attr("list",d,!1))===d||c.$$is_boolean&&1!=c?(e=W.$split(",",2),c=a.to_ary(e),W=null==c[0]?d:c[0],F=null==c[1]?d:c[1],e,ea=(c=!1!==(e=F)&&e!==d?e:F=b.$attr("playlist",d,!1))===d||c.$$is_boolean&&1!=c?!1!==x&&x!==d?"&amp;playlist="+W:d:"&amp;playlist="+F):ea="&amp;list="+D;return"<div"+k+q+">"+n+'\n<div class="content">\n<iframe'+l+p+' src="'+u+"//www.youtube.com/embed/"+W+"?rel="+M+z+N+w+x+L+ea+U+ba+R+da+'" frameborder="0"'+Y+"></iframe>\n</div>\n</div>"}T=(c=(""+
(ja=b.$attr("poster")))["$empty?"]())===d||c.$$is_boolean&&1!=c?' poster="'+b.$media_uri(ja)+'"':d;ma=b.$attr("start",d,!1);ka=b.$attr("end",d,!1);aa=(c=!1!==(e=ma)&&e!==d?e:ka)===d||c.$$is_boolean&&1!=c?d:"#t="+ma+(!1!==ka&&ka!==d?",":d)+ka;return"<div"+k+q+">"+n+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+aa+'"'+l+p+T+((c=b["$option?"]("autoplay"))===d||c.$$is_boolean&&1!=c?d:f.$append_boolean_attribute("autoplay",g))+((c=b["$option?"]("nocontrols"))===d||c.$$is_boolean&&
1!=c?f.$append_boolean_attribute("controls",g):d)+((c=b["$option?"]("loop"))===d||c.$$is_boolean&&1!=c?d:f.$append_boolean_attribute("loop",g))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()});a.defn(m,"$inline_anchor",function(a){var b,e,f=this,g=d,k=d,m=d,q=d,n=d,l=d,g=a.$target();return function(){k=a.$type();if("xref"["$==="](k))return m=!1!==(b=a.$attributes()["$[]"]("refid"))&&b!==d?b:g,q=!1!==(b=a.$text())&&b!==d?b:!1!==(e=a.$document().$references()["$[]"]("ids")["$[]"](m))&&
e!==d?e:"["+m+"]",'<a href="'+g+'">'+q+"</a>";if("ref"["$==="](k))return'<a id="'+g+'"></a>';if("link"["$==="](k)){n=[];if((b=a.$id())!==d&&(!b.$$is_boolean||1==b))n["$<<"](' id="'+a.$id()+'"');if((b=l=a.$role())!==d&&(!b.$$is_boolean||1==b))n["$<<"](' class="'+l+'"');if((b=a["$attr?"]("title",d,!1))!==d&&(!b.$$is_boolean||1==b))n["$<<"](' title="'+a.$attr("title")+'"');if((b=a["$attr?"]("window",d,!1))!==d&&(!b.$$is_boolean||1==b))n["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+g+'"'+
n.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](k)?'<a id="'+g+'"></a>['+g+"]":f.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()});a.defn(m,"$inline_break",function(a){return""+a.$text()+"<br"+this.void_element_slash+">"});a.defn(m,"$inline_button",function(a){return'<b class="button">'+a.$text()+"</b>"});a.defn(m,"$inline_callout",function(a){var b,e=d;if((b=a.$document()["$attr?"]("icons","font"))===d||b.$$is_boolean&&1!=b){if((b=a.$document()["$attr?"]("icons"))===
d||b.$$is_boolean&&1!=b)return'<b class="conum">('+a.$text()+")</b>";e=a.$icon_uri("callouts/"+a.$text());return'<img src="'+e+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"});a.defn(m,"$inline_footnote",function(a){var b,e=d,f=d;if((b=e=a.$attr("index"))===d||b.$$is_boolean&&1!=b)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":d;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+
e+'" title="View footnote.">'+e+"</a>]</sup>";f=(b=a.$id())===d||b.$$is_boolean&&1!=b?d:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+f+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>"});a.defn(m,"$inline_image",function(a){var b,e,f,g,m,q,n,l,p=d,r=d,t=d,u=e=t=d,I=d,K=d,w=d,Q=e=d,p=d;(b=(e=(p=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(p=a.$type())["$=="]("icon"))===d||b.$$is_boolean&&1!=b?(b=(f=
p["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():p["$=="]("icon"))===d||b.$$is_boolean&&1!=b?(e=a.$target(),u=(b=(f=["width","height","title"]).$map,b.$$p=(g=function(b){var c;null==b&&(b=d);return(c=a["$attr?"](b))===d||c.$$is_boolean&&1!=c?d:" "+b+'="'+a.$attr(b)+'"'},g.$$s=this,g),b).call(f).$join(),(b=(m=(q=(n=p["$!="]("icon"),!1!==n&&n!==d?!1!==(l=a["$attr?"]("format","svg",!1))&&l!==d?l:e["$include?"](".svg"):n),!1!==q&&q!==d?k(a.$document().$safe(),y.get("SafeMode").$$scope.get("SECURE")):
q),!1!==m&&m!==d?!1!==(q=I=a["$option?"]("inline"))&&q!==d?q:K=a["$option?"]("interactive"):m))===d||b.$$is_boolean&&1!=b||(!1!==I&&I!==d?t=!1!==(b=this.$read_svg_contents(a,e))&&b!==d?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==K&&K!==d&&(w=(b=a["$attr?"]("fallback"))===d||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+u+this.void_element_slash+">",t='<object type="image/svg+xml" data="'+a.$image_uri(e)+
'"'+u+">"+w+"</object>")),!1!==(b=t)&&b!==d?b:t='<img src="'+(p["$=="]("icon")?a.$icon_uri(e):a.$image_uri(e))+'" alt="'+a.$attr("alt")+'"'+u+this.void_element_slash+">"):t="["+a.$attr("alt")+"]":(r="fa fa-"+a.$target(),(b=(e=x(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(f=function(b,c){var e;null==b&&(b=d);null==c&&(c=d);return(e=a["$attr?"](b))===d||e.$$is_boolean&&1!=e?d:r=""+r+" "+c+a.$attr(b)},f.$$s=this,f),b).call(e),t=(b=a["$attr?"]("title"))===
d||b.$$is_boolean&&1!=b?d:' title="'+a.$attr("title")+'"',t='<i class="'+r+'"'+t+"></i>");(b=a["$attr?"]("link"))===d||b.$$is_boolean&&1!=b||(e=(b=a["$attr?"]("window"))===d||b.$$is_boolean&&1!=b?d:' target="'+a.$attr("window")+'"',t='<a class="image" href="'+a.$attr("link")+'"'+e+">"+t+"</a>");r=(b=Q=a.$role())===d||b.$$is_boolean&&1!=b?p:""+p+" "+Q;p=(b=a["$attr?"]("float"))===d||b.$$is_boolean&&1!=b?d:' style="float: '+a.$attr("float")+'"';return'<span class="'+r+'"'+p+">"+t+"</span>"});a.defn(m,
"$inline_indexterm",function(a){return a.$type()["$=="]("visible")?a.$text():""});a.defn(m,"$inline_kbd",function(a){var b,e,f,g=d,g=d;if((g=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+g["$[]"](0)+"</kbd>";g=(b=(e=g).$map,b.$$p=(f=function(a){null==a&&(a=d);return"<kbd>"+a+"</kbd>+"},f.$$s=this,f),b).call(e).$join().$chop();return'<span class="keyseq">'+g+"</span>"});a.defn(m,"$inline_menu",function(a){var b,e,f,g=d,k=d,m=k=d,g=a.$attr("menu");if((b=(k=a.$attr("submenus"))["$empty?"]()["$!"]())===
d||b.$$is_boolean&&1!=b)return(b=m=a.$attr("menuitem"))===d||b.$$is_boolean&&1!=b?'<span class="menu">'+g+"</span>":'<span class="menuseq"><span class="menu">'+g+'</span>&#160;&#9656; <span class="menuitem">'+m+"</span></span>";k=(b=(e=k).$map,b.$$p=(f=function(a){null==a&&(a=d);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},f.$$s=this,f),b).call(e).$join().$chop();return'<span class="menuseq"><span class="menu">'+g+"</span>&#160;&#9656; "+k+' <span class="menuitem">'+a.$attr("menuitem")+
"</span></span>"});a.defn(m,"$inline_quoted",function(b){var c,e,f=d,g=d,k=d,m=d;e=d;e=y.get("QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(e);f=null==c[0]?d:c[0];g=null==c[1]?d:c[1];k=null==c[2]?d:c[2];e;e=(c=m=b.$role())===d||c.$$is_boolean&&1!=c?""+f+b.$text()+g:!1!==k&&k!==d?""+f.$chop()+' class="'+m+'">'+b.$text()+g:'<span class="'+m+'">'+f+b.$text()+g+"</span>";return(c=b.$id())===d||c.$$is_boolean&&1!=c?e:'<a id="'+b.$id()+'"></a>'+e});a.defn(m,"$append_boolean_attribute",function(a,b){return!1!==
b&&b!==d?" "+a+'="'+a+'"':" "+a});return(a.defn(m,"$read_svg_contents",function(a,b){var e,f,g,k=d,m=d;(e=k=a.$read_contents(b,x(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===d||e.$$is_boolean&&1!=e||(k=k.$sub(y.get("SvgPreambleRx"),""),m=d,(e=(f=["width","height"]).$each,e.$$p=(g=function(b){var c;null==b&&(b=d);if((c=a["$attr?"](b))===d||c.$$is_boolean&&1!=c)return d;!1!==(c=m)&&c!==d?c:m=k.$match(y.get("SvgStartTagRx"))["$[]"](0).$gsub(y.get("DimensionAttributeRx"),
"");return m=""+m.$chop()+" "+b+'="'+a.$attr(b)+'px">'},g.$$s=this,g),e).call(f),!1!==m&&m!==d&&(k=k.$sub(y.get("SvgStartTagRx"),m)));return k}),d)&&"read_svg_contents"})(r.get("Converter"),r.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var g=a.nil,k=a.module,e=a.klass,d=a.hash2,b=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $freeze $attribute_undefined $attribute_missing $detect $constants $key? $expand_path $pwd $>= $+ $length $fetch $delete_if $parse $restore_attributes $update_backend_attributes $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $to_i $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(z){z=k(z,"Asciidoctor").$$scope;(function(k,$super){function r(){}var n=r=e(k,$super,"Document",r),v=n.$$proto,f=n.$$scope,m,u,y;v.attributes=v.safe=v.reader=v.base_dir=v.parsed=v.parent_document=v.extensions=v.options=v.counters=v.references=v.doctype=v.backend=v.header=v.blocks=v.attributes_modified=v.id=v.callouts=v.header_attributes=v.attribute_overrides=v.converter=v.outfilesuffix=v.docinfo_processor_extensions=v.document=g;a.cdecl(f,"Footnote",a.get("Struct").$new("index","id",
"text"));(function(b,$super){function c(){}var d=c=e(b,$super,"AttributeEntry",c);d.$attr_reader("name","value","negate");a.defn(d,"$initialize",function(a,b,c){var e;null==c&&(c=g);this.name=a;this.value=b;return this.negate=(e=c["$nil?"]())===g||e.$$is_boolean&&1!=e?c:b["$nil?"]()});return(a.defn(d,"$save_to",function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&b!==g?b:a["$[]="]("attribute_entries",[]))["$<<"](this)}),g)&&"save_to"})(f.base,null);(function(b,$super){function c(){}var f=
c=e(b,$super,"Title",c),k=f.$$proto,m=f.$$scope;k.sanitized=k.subtitle=k.combined=g;f.$attr_reader("main");a.alias(f,"title","main");f.$attr_reader("subtitle");f.$attr_reader("combined");a.defn(f,"$initialize",function(b,c){var e,f,k,q=g;null==c&&(c=d([],{}));(e=(f=this.sanitized=c["$[]"]("sanitize"),!1!==f&&f!==g?b["$include?"]("<"):f))===g||e.$$is_boolean&&1!=e||(b=b.$gsub(m.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(e=!1!==(f=(q=!1!==(k=c["$[]"]("separator"))&&k!==g?k:":")["$empty?"]())&&
f!==g?f:b["$include?"](q=""+q+" ")["$!"]())===g||e.$$is_boolean&&1!=e?(f=b.$rpartition(q),e=a.to_ary(f),this.main=null==e[0]?g:e[0],this.subtitle=null==e[2]?g:e[2],f):(this.main=b,this.subtitle=g);return this.combined=b});a.defn(f,"$sanitized?",function(){return this.sanitized});a.defn(f,"$subtitle?",function(){return this.subtitle["$!"]()["$!"]()});return(a.defn(f,"$to_s",function(){return this.combined}),g)&&"to_s"})(f.base,null);n.$attr_reader("safe");n.$attr_reader("compat_mode");n.$attr_reader("sourcemap");
n.$attr_reader("references");n.$attr_reader("counters");n.$attr_reader("callouts");n.$attr_reader("header");n.$attr_reader("base_dir");n.$attr_reader("options");n.$attr_reader("outfilesuffix");n.$attr_reader("parent_document");n.$attr_reader("reader");n.$attr_reader("converter");n.$attr_reader("extensions");a.defn(n,"$initialize",m=function(e,h){var c,k,n,l,r,v,u,H,Z,C,P,y,I=g,K=g,S=g,x=g,M=x=g,z=g,N=I=z=x=I=x=x=g;null==e&&(e=g);null==h&&(h=d([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",
m,null).apply(this,[this,"document"]);if((c=I=h.$delete("parent"))===g||c.$$is_boolean&&1!=c){this.parent_document=g;this.references=d("ids footnotes links images indexterms includes".split(" "),{ids:d([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=f.get("Callouts").$new();K=d([],{});(c=(k=!1!==(u=h["$[]"]("attributes"))&&u!==g?u:d([],{})).$each,c.$$p=(v=function(a,c){var e;null==a&&(a=g);null==c&&(c=g);(e=a["$start_with?"]("!"))===g||e.$$is_boolean&&
1!=e?(e=a["$end_with?"]("!"))===g||e.$$is_boolean&&1!=e||(a=a.$chop(),c=g):(a=a["$[]"](b(1,-1,!1)),c=g);return K["$[]="](a.$downcase(),c)},v.$$s=this,v),c).call(k);this.attribute_overrides=K;if((c=(x=h["$[]"]("safe"))["$!"]())===g||c.$$is_boolean&&1!=c)if((c=a.get("Fixnum")["$==="](x))===g||c.$$is_boolean&&1!=c)try{this.safe=f.get("SafeMode").$const_get(x.$to_s().$upcase())}catch(L){try{this.safe=f.get("SafeMode").$$scope.get("SECURE")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else this.safe=
x;else this.safe=f.get("SafeMode").$$scope.get("SECURE");this.sourcemap=h["$[]"]("sourcemap");this.compat_mode=!1;this.converter=g;try{S=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":g}catch(L){if(L.$$class===a.NameError)S=g;else throw L;}this.extensions=g}else this.parent_document=I,c="base_dir",k=h,!1!==(n=k["$[]"](c))&&n!==g?n:k["$[]="](c,I.$base_dir()),this.references=(c=(k=I.$references()).$inject,c.$$p=(l=function(a,b){null==a&&(a=g);var c=b[0],e=b[1];if(c["$=="]("footnotes"))a["$[]="]("footnotes",
[]);else a["$[]="](c,e);return a},l.$$s=this,l),c).call(k,d([],{})),this.callouts=I.$callouts(),K=I.$attributes().$dup(),(c=(n=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,c.$$p=(r=function(a){null==a&&(a=g);return K.$delete(a)},r.$$s=this,r),c).call(n),this.attribute_overrides=K,this.safe=I.$safe(),this.compat_mode=I.$compat_mode(),this.sourcemap=I.$sourcemap(),this.converter=I.$converter(),S=!1,this.extensions=I.$extensions();this.parsed=!1;this.header=g;this.counters=d([],
{});this.attributes_modified=a.get("Set").$new();this.options=h;this.docinfo_processor_extensions=d([],{});x=(c="header_footer",u=h,!1!==(H=u["$[]"](c))&&H!==g?H:u["$[]="](c,!1));h.$freeze();M=this.attributes;M["$[]="]("sectids","");if(!1===x||x===g)M["$[]="]("notitle","");M["$[]="]("toc-placement","auto");M["$[]="]("stylesheet","");M["$[]="]("webfonts","");if(!1!==x&&x!==g)M["$[]="]("copycss","");M["$[]="]("prewrap","");M["$[]="]("attribute-undefined",f.get("Compliance").$attribute_undefined());
M["$[]="]("attribute-missing",f.get("Compliance").$attribute_missing());M["$[]="]("iconfont-remote","");M["$[]="]("caution-caption","Caution");M["$[]="]("important-caption","Important");M["$[]="]("note-caption","Note");M["$[]="]("tip-caption","Tip");M["$[]="]("warning-caption","Warning");M["$[]="]("appendix-caption","Appendix");M["$[]="]("example-caption","Example");M["$[]="]("figure-caption","Figure");M["$[]="]("table-caption","Table");M["$[]="]("toc-title","Table of Contents");M["$[]="]("manname-title",
"NAME");M["$[]="]("untitled-label","Untitled");M["$[]="]("version-label","Version");M["$[]="]("last-update-label","Last updated");K["$[]="]("asciidoctor","");K["$[]="]("asciidoctor-version",f.get("VERSION"));z=(c=(u=f.get("SafeMode").$constants()).$detect,c.$$p=(Z=function(a){var b=Z.$$s||this;null==b.safe&&(b.safe=g);null==a&&(a=g);return f.get("SafeMode").$const_get(a)["$=="](b.safe)},Z.$$s=this,Z),c).call(u).$to_s().$downcase();K["$[]="]("safe-mode-name",z);K["$[]="]("safe-mode-"+z,"");K["$[]="]("safe-mode-level",
this.safe);K["$[]="]("embedded",!1!==x&&x!==g?g:"");c="max-include-depth";H=K;!1!==(C=H["$[]"](c))&&C!==g?C:H["$[]="](c,64);if((c=K["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===g||c.$$is_boolean&&1!=c)K["$[]="]("allow-uri-read",g);K["$[]="]("user-home",f.get("USER_HOME"));if((c=K["$key?"]("numbered"))!==g&&(!c.$$is_boolean||1==c))K["$[]="]("sectnums",K.$delete("numbered"));(c=h["$[]"]("base_dir"))===g||c.$$is_boolean&&1!=c?(c=K["$[]"]("docdir"))===g||c.$$is_boolean&&1!=c?this.base_dir=K["$[]="]("docdir",
a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=K["$[]="]("docdir",a.get("File").$expand_path(K["$[]"]("docdir"))):this.base_dir=K["$[]="]("docdir",a.get("File").$expand_path(h["$[]"]("base_dir")));if((c=x=h["$[]"]("backend"))!==g&&(!c.$$is_boolean||1==c))K["$[]="]("backend",""+x);if((c=x=h["$[]"]("doctype"))!==g&&(!c.$$is_boolean||1==c))K["$[]="]("doctype",""+x);if((c=p(this.safe,f.get("SafeMode").$$scope.get("SERVER")))!==g&&(!c.$$is_boolean||1==c)){c="copycss";H=K;!1!==(C=H["$[]"](c))&&
C!==g?C:H["$[]="](c,g);c="source-highlighter";H=K;!1!==(C=H["$[]"](c))&&C!==g?C:H["$[]="](c,g);c="backend";H=K;!1!==(C=H["$[]"](c))&&C!==g?C:H["$[]="](c,f.get("DEFAULT_BACKEND"));if((c=(H=I["$!"](),!1!==H&&H!==g?K["$key?"]("docfile"):H))!==g&&(!c.$$is_boolean||1==c))K["$[]="]("docfile",K["$[]"]("docfile")["$[]"](b(t(K["$[]"]("docdir").$length(),1),-1,!1)));K["$[]="]("docdir","");K["$[]="]("user-home",".");if((c=p(this.safe,f.get("SafeMode").$$scope.get("SECURE")))!==g&&(!c.$$is_boolean||1==c)){if((c=
K.$fetch("linkcss","")["$nil?"]())===g||c.$$is_boolean&&1!=c)K["$[]="]("linkcss","");c="icons";H=K;!1!==(C=H["$[]"](c))&&C!==g?C:H["$[]="](c,g)}}(c=(H=K).$delete_if,c.$$p=(P=function(b,c){var e,d,f=g;null==b&&(b=g);null==c&&(c=g);f=!1;(e=c["$nil?"]())===g||e.$$is_boolean&&1!=e?((e=(d=a.get("String")["$==="](c),!1!==d&&d!==g?c["$end_with?"]("@"):d))===g||e.$$is_boolean&&1!=e||(c=c.$chop(),f=!0),M["$[]="](b,c)):M.$delete(b);return f},P.$$s=this,P),c).call(H);(c=M["$key?"]("compat-mode"))===g||c.$$is_boolean&&
1!=c||(this.compat_mode=!0);if(!1!==I&&I!==g)return c="doctype",C=M,!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,f.get("DEFAULT_DOCTYPE")),this.reader=f.get("Reader").$new(e,h["$[]"]("cursor")),f.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((c="backend",C=M,!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,f.get("DEFAULT_BACKEND")))["$=="]("manpage"))M["$[]="]("doctype",K["$[]="]("doctype","manpage"));else c="doctype",C=M,!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,f.get("DEFAULT_DOCTYPE"));
this.$update_backend_attributes(M["$[]"]("backend"),!0);I=a.get("Time").$now();x=(c="localdate",C=M,!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,I.$strftime("%Y-%m-%d")));if((c=z=M["$[]"]("localtime"))===g||c.$$is_boolean&&1!=c)try{z=M["$[]="]("localtime",I.$strftime("%H:%M:%S %Z"))}catch(L){try{z=M["$[]="]("localtime",I.$strftime("%H:%M:%S"))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}c="localdatetime";C=M;!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,""+x+" "+z);c="docdate";C=M;!1!==(y=C["$[]"](c))&&
y!==g?y:C["$[]="](c,x);c="doctime";C=M;!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,z);c="docdatetime";C=M;!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,""+x+" "+z);c="stylesdir";C=M;!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,".");c="iconsdir";C=M;!1!==(y=C["$[]"](c))&&y!==g?y:C["$[]="](c,a.get("File").$join(M.$fetch("imagesdir","./images"),"icons"));if(!1!==S&&S!==g){if((c=I=h["$[]"]("extensions_registry"))===g||c.$$is_boolean&&1!=c)I=(c=a.get("Proc")["$==="](N=h["$[]"]("extensions")))===g||c.$$is_boolean&&
1!=c?f.get("Extensions").$$scope.get("Registry").$new():(c=(C=f.get("Extensions")).$build_registry,c.$$p=N.$to_proc(),c).call(C);else if((c=!1!==(C=f.get("Extensions").$$scope.get("Registry")["$==="](I))&&C!==g?C:(y=a.get("RUBY_ENGINE_JRUBY"),!1!==y&&y!==g?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](I):y))===g||c.$$is_boolean&&1!=c)I=f.get("Extensions").$$scope.get("Registry").$new();this.extensions=I.$activate(this)}return this.reader=f.get("PreprocessorReader").$new(this,
e,f.get("Reader").$$scope.get("Cursor").$new(M["$[]"]("docfile"),this.base_dir))});a.defn(n,"$parse",function(a){var b,c,e,k,m,n=g,l=g;null==a&&(a=g);return(b=this.parsed)===g||b.$$is_boolean&&1!=b?(n=this,!1!==a&&a!==g&&(this.reader=f.get("PreprocessorReader").$new(n,a,f.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(b=(c=l=(e=this.parent_document)===g||e.$$is_boolean&&1!=e?this.extensions:g,!1!==c&&c!==g?l["$preprocessors?"]():c))===g||b.$$is_boolean&&
1!=b||(b=(c=l.$preprocessors()).$each,b.$$p=(k=function(a){var b=k.$$s||this,c;null==b.reader&&(b.reader=g);null==a&&(a=g);return b.reader=!1!==(c=a.$process_method()["$[]"](n,b.reader))&&c!==g?c:b.reader},k.$$s=this,k),b).call(c),f.get("Parser").$parse(this.reader,n,d(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(b=(e=!1!==l&&l!==g)?l["$treeprocessors?"]():l)===g||b.$$is_boolean&&1!=b||(b=(e=l.$treeprocessors()).$each,b.$$p=(m=
function(a){var b,c,e,d=g;null==a&&(a=g);return(b=(c=(e=d=a.$process_method()["$[]"](n),!1!==e&&e!==g?f.get("Document")["$==="](d):e),!1!==c&&c!==g?d["$!="](n):c))===g||b.$$is_boolean&&1!=b?g:n=d},m.$$s=this,m),b).call(e),this.parsed=!0,n):this});a.defn(n,"$counter",function(a,b){var c,e,d=g,f=g;null==b&&(b=g);if((c=(e=d=(f=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==e&&e!==g?this.counters["$key?"](a):e))===g||c.$$is_boolean&&1!=c)(c=b["$nil?"]())===g||c.$$is_boolean&&1!=c?b.$to_i().$to_s()["$=="](b)&&
(b=b.$to_i()):b=this.$nextval(!1!==d&&d!==g?f:0),this.counters["$[]="](a,b);else this.counters["$[]="](a,this.$nextval(f));return this.attributes["$[]="](a,this.counters["$[]"](a))});a.defn(n,"$counter_increment",function(a,b){var c=g,c=this.$counter(a);f.get("AttributeEntry").$new(a,c).$save_to(b.$attributes());return c});a.defn(n,"$nextval",function(b){var e,c=g;return(e=a.get("Integer")["$==="](b))===g||e.$$is_boolean&&1!=e?(c=b.$to_i(),(e=c.$to_s()["$!="](b.$to_s()))===g||e.$$is_boolean&&1!=e?
t(c,1):t(b["$[]"](0).$ord(),1).$chr()):t(b,1)});a.defn(n,"$register",function(b,e,c){var d,f,k=g,m=k=g;null==c&&(c=!1);k=b;"ids"["$==="](k)?(b=[].concat(a.to_a(e)),d=a.to_ary(b),k=null==d[0]?g:d[0],m=null==d[1]?g:d[1],b,!1!==(d=m)&&d!==g?d:m=t(t("[",k),"]"),c=!1!==c&&c!==g?this.references["$[]"]("ids")["$[]="](k,m):(d=k,b=this.references["$[]"]("ids"),!1!==(f=b["$[]"](d))&&f!==g?f:b["$[]="](d,m))):c="footnotes"["$==="](k)||"indexterms"["$==="](k)?this.references["$[]"](b)["$<<"](e):(d=this.options["$[]"]("catalog_assets"))===
g||d.$$is_boolean&&1!=d?g:this.references["$[]"](b)["$<<"](e);return c});a.defn(n,"$footnotes?",function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()});a.defn(n,"$footnotes",function(){return this.references["$[]"]("footnotes")});a.defn(n,"$nested?",function(){return this.parent_document["$!"]()["$!"]()});a.defn(n,"$embedded?",function(){return this.attributes["$key?"]("embedded")});a.defn(n,"$extensions?",function(){return this.extensions["$!"]()["$!"]()});a.defn(n,"$source",
function(){var a;return(a=this.reader)===g||a.$$is_boolean&&1!=a?g:this.reader.$source()});a.defn(n,"$source_lines",function(){var a;return(a=this.reader)===g||a.$$is_boolean&&1!=a?g:this.reader.$source_lines()});a.defn(n,"$doctype",function(){var a;return!1!==(a=this.doctype)&&a!==g?a:this.doctype=this.attributes["$[]"]("doctype")});a.defn(n,"$backend",function(){var a;return!1!==(a=this.backend)&&a!==g?a:this.backend=this.attributes["$[]"]("backend")});a.defn(n,"$basebackend?",function(a){return this.attributes["$[]"]("basebackend")["$=="](a)});
a.defn(n,"$title",function(){return this.attributes["$[]"]("title")});a.defn(n,"$title=",function(a){var b,c;!1!==(b=this.header)&&b!==g?b:this.header=f.get("Section").$new(this,0);return b=[a],c=this.header,c["$title="].apply(c,b),b[b.length-1]});a.defn(n,"$doctitle",function(a){var b,c,e=g,k=g,m=g;null==a&&(a=d([],{}));if((b=(e=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==g&&(!b.$$is_boolean||1==b))e=this.$title();else if((b=(c=k=this.$first_section(),!1!==c&&c!==g?k["$title?"]():
c))!==g&&(!b.$$is_boolean||1==b))e=k.$title();else if((b=(c=a["$[]"]("use_fallback"),!1!==c&&c!==g?e=this.attributes["$[]"]("untitled-label"):c))===g||b.$$is_boolean&&1!=b)return g;return(b=m=a["$[]"]("partition"))===g||b.$$is_boolean&&1!=b?(b=(c=a["$[]"]("sanitize"),!1!==c&&c!==g?e["$include?"]("<"):c))===g||b.$$is_boolean&&1!=b?e:e.$gsub(f.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():f.get("Title").$new(e,a.$merge(d(["separator"],{separator:m["$=="](!0)?this.attributes["$[]"]("title-separator"):
m})))});a.alias(n,"name","doctitle");a.defn(n,"$author",function(){return this.attributes["$[]"]("author")});a.defn(n,"$revdate",function(){return this.attributes["$[]"]("revdate")});a.defn(n,"$notitle",function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==g?this.attributes["$key?"]("notitle"):a});a.defn(n,"$noheader",function(){return this.attributes["$key?"]("noheader")});a.defn(n,"$nofooter",function(){return this.attributes["$key?"]("nofooter")});a.defn(n,"$first_section",
function(){var a,b,c,e;return(a=this["$has_header?"]())===g||a.$$is_boolean&&1!=a?(a=(b=!1!==(e=this.blocks)&&e!==g?e:[]).$detect,a.$$p=(c=function(a){null==a&&(a=g);return a.$context()["$=="]("section")},c.$$s=this,c),a).call(b):this.header});a.defn(n,"$has_header?",function(){var a;return(a=this.header)===g||a.$$is_boolean&&1!=a?!1:!0});a.alias(n,"header?","has_header?");a.defn(n,"$<<",u=function(b){var e=u.$$p,c=g,d=g;u.$$p=null;c=[];for(d=0;d<arguments.length;d++)c[d]=arguments[d];b.$context()["$=="]("section")&&
this.$assign_index(b);return a.find_super_dispatcher(this,"<<",u,e).apply(this,c)});a.defn(n,"$finalize_header",function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===g)a["$[]="]("invalid-header",!0);return a});a.defn(n,"$save_attributes",function(){var a,b,c,e,d=g,k=g,m=g,n=g,l=g,p=g,r=g,n=m=g;if((d=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==g?b:this.attributes_modified["$include?"]("toc"))===
g||a.$$is_boolean&&1!=a)d["$[]="]("toc","");if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==g?b:this.attributes_modified["$include?"]("sectnums"))===g||a.$$is_boolean&&1!=a)d["$[]="]("sectnums","")}if((a=!1!==(b=d["$key?"]("doctitle"))&&b!==g?b:(k=this.$doctitle())["$!"]())===g||a.$$is_boolean&&1!=a)d["$[]="]("doctitle",k);if((a=this.id)===g||a.$$is_boolean&&1!=a)this.id=d["$[]"]("css-signature");m=(a=n=(b=d.$delete("toc2"))===g||b.$$is_boolean&&1!=b?d["$[]"]("toc"):"left")===g||a.$$is_boolean&&
1!=a?g:(a=(b=l=d.$fetch("toc-placement","macro"),!1!==b&&b!==g?l["$!="]("auto"):b))===g||a.$$is_boolean&&1!=a?d["$[]"]("toc-position"):l;if((a=(b=!1!==n&&n!==g)?!1!==(c=n["$empty?"]()["$!"]())&&c!==g?c:m["$nil_or_empty?"]()["$!"]():n)!==g&&(!a.$$is_boolean||1==a)){p="left";r="toc2";m=(a=m["$nil_or_empty?"]()["$!"]())===g||a.$$is_boolean&&1!=a?(a=n["$empty?"]()["$!"]())===g||a.$$is_boolean&&1!=a?p:n:m;d["$[]="]("toc","");d["$[]="]("toc-placement","auto");n=m;if("left"["$==="](n)||"<"["$==="](n)||"&lt;"["$==="](n))d["$[]="]("toc-position",
"left");else if("right"["$==="](n)||">"["$==="](n)||"&gt;"["$==="](n))d["$[]="]("toc-position","right");else if("top"["$==="](n)||"^"["$==="](n))d["$[]="]("toc-position","top");else if("bottom"["$==="](n)||"v"["$==="](n))d["$[]="]("toc-position","bottom");else"preamble"["$==="](n)||"macro"["$==="](n)?(d["$[]="]("toc-position","content"),d["$[]="]("toc-placement",m)):d.$delete("toc-position"),r=g;!1!==r&&r!==g&&(a="toc-class",b=d,!1!==(c=b["$[]"](a))&&c!==g?c:b["$[]="](a,r))}if((a=d["$key?"]("compat-mode"))===
g||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=d["$has_key?"]("language"))!==g&&(!a.$$is_boolean||1==a))d["$[]="]("source-language",d["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=d["$[]"]("outfilesuffix");this.header_attributes=d.$dup();return(a=this.parent_document)===g||a.$$is_boolean&&1!=a?(a=(b=f.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(e=function(a){var b=e.$$s||this,c,d;null==b.attribute_overrides&&(b.attribute_overrides=g);null==a&&(a=g);return(c=(d=b.attribute_overrides["$key?"](a),
!1!==d&&d!==g?b.attribute_overrides["$[]"](a):d))===g||c.$$is_boolean&&1!=c?g:b.attribute_overrides.$delete(a)},e.$$s=this,e),a).call(b):g});a.defn(n,"$restore_attributes",function(){var a;((a=this.parent_document)===g||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes});a.defn(n,"$clear_playback_attributes",function(a){return a.$delete("attribute_entries")});a.defn(n,"$playback_attributes",function(a){var b,c,e;return(b=a["$key?"]("attribute_entries"))===
g||b.$$is_boolean&&1!=b?g:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(e=function(a){var b=e.$$s||this,c,d=g;null==b.attributes&&(b.attributes=g);null==a&&(a=g);d=a.$name();if((c=a.$negate())===g||c.$$is_boolean&&1!=c)return b.attributes["$[]="](d,a.$value()),d["$=="]("compat-mode")?b.compat_mode=!0:g;b.attributes.$delete(d);return d["$=="]("compat-mode")?b.compat_mode=!1:g},e.$$s=this,e),b).call(c)});a.defn(n,"$set_attribute",function(a,b){var c,e=g;if((c=this["$attribute_locked?"](a))===g||
c.$$is_boolean&&1!=c){e=a;if("backend"["$==="](e))this.$update_backend_attributes(this.$apply_attribute_value_subs(b),this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](e))this.$update_doctype_attributes(this.$apply_attribute_value_subs(b));else this.attributes["$[]="](a,this.$apply_attribute_value_subs(b));this.attributes_modified["$<<"](a);return!0}return!1});a.defn(n,"$delete_attribute",function(a){var b;return(b=this["$attribute_locked?"](a))===g||b.$$is_boolean&&
1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1});a.defn(n,"$attribute_locked?",function(a){return this.attribute_overrides["$key?"](a)});a.defn(n,"$apply_attribute_value_subs",function(a){var b,c=g,e=g;if((b=c=f.get("AttributeEntryPassMacroRx").$match(a))===g||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);if((b=c["$[]"](1)["$empty?"]()["$!"]())===g||b.$$is_boolean&&1!=b)return c["$[]"](2);e=this.$resolve_pass_subs(c["$[]"](1));return(b=e["$empty?"]())===g||b.$$is_boolean&&
1!=b?this.$apply_subs(c["$[]"](2),e):c["$[]"](2)});a.defn(n,"$update_backend_attributes",function(a,e){var c,d,k=g,m=g,n=g,l=g,p=g,r=m=g,t=g,v=g,r=g;null==e&&(e=!1);if((c=!1!==(d=e)&&d!==g?d:!1!==a&&a!==g?a["$!="](this.attributes["$[]"]("backend")):a)===g||c.$$is_boolean&&1!=c)return g;k=this.attributes;m=k["$[]"]("backend");n=k["$[]"]("basebackend");l=k["$[]"]("doctype");if((c=a["$start_with?"]("xhtml"))!==g&&(!c.$$is_boolean||1==c))k["$[]="]("htmlsyntax","xml"),a=a["$[]"](b(1,-1,!1));else if(!((c=
a["$start_with?"]("html"))===g||c.$$is_boolean&&1!=c||k["$[]"]("htmlsyntax")["$=="]("xml")))k["$[]="]("htmlsyntax","html");(c=p=f.get("BACKEND_ALIASES")["$[]"](a))===g||c.$$is_boolean&&1!=c||(a=p);!1!==m&&m!==g&&(k.$delete("backend-"+m),!1!==l&&l!==g&&k.$delete("backend-"+m+"-doctype-"+l));!1!==l&&l!==g&&(k["$[]="]("doctype-"+l,""),k["$[]="]("backend-"+a+"-doctype-"+l,""));k["$[]="]("backend",a);k["$[]="]("backend-"+a,"");if((c=f.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=
this.$create_converter()))===g||c.$$is_boolean&&1!=c){if(m=a.$sub(f.get("TrailingDigitsRx"),""),t=!1!==(c=f.get("DEFAULT_EXTENSIONS")["$[]"](m))&&c!==g?c:".html",r=t["$[]"](b(1,-1,!1)),(c=this["$attribute_locked?"]("outfilesuffix"))===g||c.$$is_boolean&&1!=c)k["$[]="]("outfilesuffix",t)}else{m=this.converter.$basebackend();if((c=this["$attribute_locked?"]("outfilesuffix"))===g||c.$$is_boolean&&1!=c)k["$[]="]("outfilesuffix",this.converter.$outfilesuffix());r=this.converter.$filetype()}(c=v=k["$[]"]("filetype"))===
g||c.$$is_boolean&&1!=c||k.$delete("filetype-"+v);k["$[]="]("filetype",r);k["$[]="]("filetype-"+r,"");if((c=r=f.get("DEFAULT_PAGE_WIDTHS")["$[]"](m))===g||c.$$is_boolean&&1!=c)k.$delete("pagewidth");else k["$[]="]("pagewidth",r);if((c=m["$!="](n))!==g&&(!c.$$is_boolean||1==c)&&(!1!==n&&n!==g&&(k.$delete("basebackend-"+n),!1!==l&&l!==g&&k.$delete("basebackend-"+n+"-doctype-"+l)),k["$[]="]("basebackend",m),k["$[]="]("basebackend-"+m,""),!1!==l&&l!==g))k["$[]="]("basebackend-"+m+"-doctype-"+l,"");return this.backend=
g});a.defn(n,"$update_doctype_attributes",function(a){var b,c=g,e=g,d=g,f=g;if((b=!1!==a&&a!==g?a["$!="](this.attributes["$[]"]("doctype")):a)===g||b.$$is_boolean&&1!=b)return g;c=this.attributes;e=c["$[]"]("doctype");d=c["$[]"]("backend");f=c["$[]"]("basebackend");!1!==e&&e!==g&&(c.$delete("doctype-"+e),!1!==d&&d!==g&&c.$delete("backend-"+d+"-doctype-"+e),!1!==f&&f!==g&&c.$delete("basebackend-"+f+"-doctype-"+e));c["$[]="]("doctype",a);c["$[]="]("doctype-"+a,"");if(!1!==d&&d!==g)c["$[]="]("backend-"+
d+"-doctype-"+a,"");if(!1!==f&&f!==g)c["$[]="]("basebackend-"+f+"-doctype-"+a,"");return this.doctype=g});a.defn(n,"$create_converter",function(){var b,e=g,c=g,k=g,m=g,n=g,e=d([],{});e["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));c=(b=k=this.options["$[]"]("template_dir"))===g||b.$$is_boolean&&1!=b?(b=c=this.options["$[]"]("template_dirs"))===g||b.$$is_boolean&&1!=b?g:e["$[]="]("template_dirs",c):e["$[]="]("template_dirs",[k]);!1!==c&&c!==g&&(e["$[]="]("template_cache",this.options.$fetch("template_cache",
!0)),e["$[]="]("template_engine",this.options["$[]"]("template_engine")),e["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),e["$[]="]("eruby",this.options["$[]"]("eruby")),e["$[]="]("safe",this.safe));n=(b=m=this.options["$[]"]("converter"))===g||b.$$is_boolean&&1!=b?f.get("Converter").$$scope.get("Factory").$default(!1):f.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),m));return n.$create(this.$backend(),e)});a.defn(n,"$convert",
function(a){var b,c,e,k=g,m=g,n=g,l=g;null==a&&(a=d([],{}));((b=this.parsed)===g||b.$$is_boolean&&1!=b)&&this.$parse();if((b=!1!==(c=p(this.safe,f.get("SafeMode").$$scope.get("SERVER")))&&c!==g?c:a["$empty?"]())===g||b.$$is_boolean&&1!=b)((b=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===g||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outfile"),((b=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===g||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outdir");((b=this.converter)===
g||b.$$is_boolean&&1!=b)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?m=(b=(c=k=this.blocks["$[]"](0),!1!==c&&c!==g?k.$content_model()["$!="]("compound"):c))===g||b.$$is_boolean&&1!=b?g:k.$content():(n=(b=(c=a["$key?"]("header_footer"))===g||c.$$is_boolean&&1!=c?this.options["$[]"]("header_footer"):a["$[]"]("header_footer"))===g||b.$$is_boolean&&1!=b?"embedded":"document",m=this.converter.$convert(this,
n));!((b=this.parent_document)===g||b.$$is_boolean&&1!=b)||(b=(c=l=this.extensions,!1!==c&&c!==g?l["$postprocessors?"]():c))===g||b.$$is_boolean&&1!=b||(b=(c=l.$postprocessors()).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=g);return m=a.$process_method()["$[]"](b,m)},e.$$s=this,e),b).call(c);return m});a.alias(n,"render","convert");a.defn(n,"$write",function(b,e){var c,d,k;if((c=f.get("Writer")["$==="](this.converter))===g||c.$$is_boolean&&1!=c){if((c=e["$respond_to?"]("write"))===g||
c.$$is_boolean&&1!=c)(c=(d=a.get("File")).$open,c.$$p=(k=function(a){null==a&&(a=g);return a.$write(b)},k.$$s=this,k),c).call(d,e,"w");else if((c=b["$nil_or_empty?"]())===g||c.$$is_boolean&&1!=c)e.$write(b.$chomp()),e.$write(f.get("EOL"));return g}return this.converter.$write(b,e)});a.defn(n,"$content",y=function(){var b=y.$$p,e=g,c=g;y.$$p=null;e=[];for(c=0;c<arguments.length;c++)e[c]=arguments[c];this.attributes.$delete("title");return a.find_super_dispatcher(this,"content",y,b).apply(this,e)});
a.defn(n,"$docinfo",function(a,b){var c,e,k,m,n=g,r=g,t=g,v=g,u=n=g,C=g,r=r=g;null==a&&(a="head");null==b&&(b=g);if((c=p(this.$safe(),f.get("SafeMode").$$scope.get("SECURE")))===g||c.$$is_boolean&&1!=c){n=a["$=="]("footer")?"-footer":g;if(!1===b||b===g)b=this.outfilesuffix;r=this.attributes["$[]"]("docinfodir");t=g;v=(c=(v=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===g||c.$$is_boolean&&1!=c?(c=(e=v.$split(",")).$map,c.$$p="strip".$to_proc(),c).call(e):(c=this.attributes["$key?"]("docinfo2"))===
g||c.$$is_boolean&&1!=c?(c=this.attributes["$key?"]("docinfo1"))===g||c.$$is_boolean&&1!=c?!1!==v&&v!==g?["private"]:g:["shared"]:["private","shared"];if(!1!==v&&v!==g){n="docinfo"+n+b;if((c=v["$&"](["shared","shared-"+a])["$empty?"]())===g||c.$$is_boolean&&1!=c)u=this.$normalize_system_path(n,r),(c=t=this.$read_asset(u,d(["normalize"],{normalize:!0})))===g||c.$$is_boolean&&1!=c||(c=!1!==(k=C)&&k!==g?k:C=this.$resolve_docinfo_subs())===g||c.$$is_boolean&&1!=c||(t=(c=C["$=="]("attributes"))===g||c.$$is_boolean&&
1!=c?this.$apply_subs(t,C):this.$sub_attributes(t));if((c=!1!==(k=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&k!==g?k:v["$&"](["private","private-"+a])["$empty?"]())===g||c.$$is_boolean&&1!=c)u=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+n,r),(c=r=this.$read_asset(u,d(["normalize"],{normalize:!0})))===g||c.$$is_boolean&&1!=c||((c=!1!==(k=C)&&k!==g?k:C=this.$resolve_docinfo_subs())===g||c.$$is_boolean&&1!=c||(r=(c=C["$=="]("attributes"))===g||c.$$is_boolean&&1!=
c?this.$apply_subs(r,C):this.$sub_attributes(r)),t=!1!==t&&t!==g?""+t+f.get("EOL")+r:r)}(c=(k=this.extensions,!1!==k&&k!==g?this["$docinfo_processors?"](a):k))===g||c.$$is_boolean&&1!=c||(r=l((c=(k=this.docinfo_processor_extensions["$[]"](a)).$map,c.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=g);return a.$process_method()["$[]"](b)},m.$$s=this,m),c).call(k).$compact(),f.get("EOL")),t=!1!==t&&t!==g?""+t+f.get("EOL")+r:r);return""+t}return""});a.defn(n,"$resolve_docinfo_subs",function(){var a,
b=g;if((a=this.attributes["$key?"]("docinfosubs"))===g||a.$$is_boolean&&1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",g,"docinfo");return(a=b["$empty?"]())===g||a.$$is_boolean&&1!=a?b:g});a.defn(n,"$docinfo_processors?",function(a){var b,c;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===g||b.$$is_boolean&&1!=b?(b=(c=this.extensions,!1!==c&&c!==g?this.document.$extensions()["$docinfo_processors?"](a):c))===g||b.$$is_boolean&&
1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](a)["$!="](!1)});return(a.defn(n,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](g))===g||a.$$is_boolean&&1!=a?g:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"}),g)&&"to_s"})(z.base,
z.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.module,l=a.klass,g=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(k){k=t(k,"Asciidoctor").$$scope;(function(e,$super){function b(){}var k=b=l(e,$super,"Inline",b),t;k.$attr_reader("text");k.$attr_reader("type");k.$attr_accessor("target");a.defn(k,"$initialize",t=function(b,e,k,l){var f,m=p;null==k&&(k=p);null==l&&
(l=g([],{}));t.$$p=null;a.find_super_dispatcher(this,"initialize",t,null).apply(this,[b,e]);this.node_name="inline_"+e;this.text=k;this.id=l["$[]"]("id");this.type=l["$[]"]("type");this.target=l["$[]"]("target");return(f=(m=l["$[]"]("attributes"))["$nil_or_empty?"]())===p||f.$$is_boolean&&1!=f?this.$update_attributes(m):p});a.defn(k,"$block?",function(){return!1});a.defn(k,"$inline?",function(){return!0});a.defn(k,"$convert",function(){return this.$converter().$convert(this)});return a.alias(k,"render",
"convert")})(k.base,k.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.module,l=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(g){g=t(g,"Asciidoctor").$$scope;(function(g,$super){function d(){}var b=d=l(g,$super,"List",d),t=b.$$proto,x,w;t.context=t.document=
t.style=p;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",x=function(b,d){var g=x.$$p,f=p,k=p;x.$$p=null;f=[];for(k=0;k<arguments.length;k++)f[k]=arguments[k];return a.find_super_dispatcher(this,"initialize",x,g).apply(this,f)});a.defn(b,"$outline?",function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==p?a:this.context["$=="]("olist")});a.defn(b,"$convert",w=function(){var b=w.$$p,d=p,g=d=p;w.$$p=null;d=[];for(g=0;g<arguments.length;g++)d[g]=
arguments[g];return this.context["$=="]("colist")?(d=a.find_super_dispatcher(this,"convert",w,b).apply(this,d),this.document.$callouts().$next_list(),d):a.find_super_dispatcher(this,"convert",w,b).apply(this,d)});a.alias(b,"render","convert");return(a.defn(b,"$to_s",function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"}),p)&&"to_s"})(g.base,g.get("AbstractBlock"));(function(g,$super){function d(){}
var b=d=l(g,$super,"ListItem",d),t=b.$$proto,x=b.$$scope,w;t.text=t.blocks=p;b.$attr_accessor("marker");a.defn(b,"$initialize",w=function(b,d){null==d&&(d=p);w.$$p=null;a.find_super_dispatcher(this,"initialize",w,null).apply(this,[b,"list_item"]);this.text=d;return this.level=b.$level()});a.defn(b,"$text?",function(){return this.text["$nil_or_empty?"]()["$!"]()});a.defn(b,"$text",function(){return this.$apply_subs(this.text)});a.defn(b,"$simple?",function(){var a,b,d=p;return!1!==(a=this.blocks["$empty?"]())&&
a!==p?a:(b=this.blocks.$size()["$=="](1)?x.get("List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==b&&b!==p?d["$outline?"]():b)});a.defn(b,"$compound?",function(){return this["$simple?"]()["$!"]()});a.defn(b,"$fold_first",function(a,b){var d,f,g,k,l,q,h=p,c=p;null==a&&(a=!1);null==b&&(b=!1);(d=(f=(g=h=this.blocks["$[]"](0),!1!==g&&g!==p?x.get("Block")["$==="](h):g),!1!==f&&f!==p?!1!==(g=h.$context()["$=="]("paragraph")?a["$!"]():h.$context()["$=="]("paragraph"))&&g!==p?g:(k=
(l=!1!==(q=b)&&q!==p?q:a["$!"](),!1!==l&&l!==p?h.$context()["$=="]("literal"):l),!1!==k&&k!==p?h["$option?"]("listparagraph"):k):f))===p||d.$$is_boolean&&1!=d||(c=this.$blocks().$shift(),((d=this.text["$nil_or_empty?"]())===p||d.$$is_boolean&&1!=d)&&c.$lines().$unshift(this.text),this.text=c.$source());return p});return(a.defn(b,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+
(!1!==(a=this.blocks)&&a!==p?a:[]).$size()+"}>"}),p)&&"to_s"})(g.base,g.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var b=a.nil,z=a.breaker,x=a.module,w=a.klass,r=a.hash2,n=a.hash,v=a.range,f=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $detect $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $is_a? $apply_header_subs $map $each_with_index $zero? $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_col_specs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cell_spec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cell_spec $close_cell $cell_open? $columns $assign_col_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(m){(function(m,$super){function q(){}var h=q=w(m,$super,"Parser",q),c=h.$$scope,x,B,J,G;a.cdecl(c,"BlockMatchData",c.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(c,"TabRx",/\t/);a.cdecl(c,"TabIndentRx",/^\t+/);a.cdecl(c,"StartOfBlockProc",(x=h.$lambda,x.$$p=(B=function(a){var e=B.$$s||this,d,f;null==a&&(a=b);return!1!==(d=(f=a["$start_with?"]("["),!1!==f&&f!==b?c.get("BlockAttributeLineRx")["$=~"](a):f))&&d!==b?d:e["$is_delimited_block?"](a)},B.$$s=h,B),x).call(h));
a.cdecl(c,"StartOfListProc",(x=h.$lambda,x.$$p=(J=function(a){null==a&&(a=b);return c.get("AnyListRx")["$=~"](a)},J.$$s=h,J),x).call(h));a.cdecl(c,"StartOfBlockOrListProc",(x=h.$lambda,x.$$p=(G=function(a){var e=G.$$s||this,d,f,h;null==a&&(a=b);return!1!==(d=!1!==(f=e["$is_delimited_block?"](a))&&f!==b?f:(h=a["$start_with?"]("["),!1!==h&&h!==b?c.get("BlockAttributeLineRx")["$=~"](a):h))&&d!==b?d:c.get("AnyListRx")["$=~"](a)},G.$$s=h,G),x).call(h));a.cdecl(c,"NoOp",b);a.defn(h,"$initialize",function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")});
a.defs(h,"$parse",function(c,e,d){var f,h,g=b,k=b;null==d&&(d=r([],{}));g=this.$parse_document_header(c,e);if((f=d["$[]"]("header_only"))===b||f.$$is_boolean&&1!=f)for(;(h=c["$has_more_lines?"]())!==b&&(!h.$$is_boolean||1==h);)if(d=this.$next_section(c,e,g),h=a.to_ary(d),k=null==h[0]?b:h[0],g=null==h[1]?b:h[1],d,!1!==k&&k!==b)e["$<<"](k);return e});a.defs(h,"$parse_document_header",function(c,e){var d,f,h=b,g=b,k=b,m=b,l=b,q=b,p=g=l=b,g=g=b,h=this.$parse_block_metadata_lines(c,e);if((d=(f=g=this["$is_next_line_document_title?"](c,
h),!1!==f&&f!==b?h["$has_key?"]("title"):f))!==b&&(!d.$$is_boolean||1==d))return e.$finalize_header(h,!1);k=b;if((d=(m=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||d.$$is_boolean&&1!=d)d=[k=m],f=e,f["$title="].apply(f,d),d[d.length-1];l=b;if(!1!==g&&g!==b){(d=e.$sourcemap())===b||d.$$is_boolean&&1!=d||(q=c.$cursor());f=this.$parse_section_title(c,e);d=a.to_ary(f);e["$id="](null==d[0]?b:d[0]);l=null==d[2]?b:d[2];g=null==d[4]?b:d[4];f;if(!1===k||k===b)d=[k=l],f=e,f["$title="].apply(f,
d),d[d.length-1];!1!==g&&g!==b||e.$set_attribute("compat-mode","");(d=p=h.$delete("separator"))===b||d.$$is_boolean&&1!=d||e.$set_attribute("title-separator",p);!1!==q&&q!==b&&(d=[q],f=e.$header(),f["$source_location="].apply(f,d),d[d.length-1]);e.$attributes()["$[]="]("doctitle",l);if((d=e.$id())===b||d.$$is_boolean&&1!=d){if(!((d=g=h.$delete(1))===b||d.$$is_boolean&&1!=d||(g=n(1,g),this.$parse_style_attribute(g,c),(d=g["$key?"]("id"))===b||d.$$is_boolean&&1!=d)))h["$[]="]("id",g["$[]"]("id"));d=
[h.$delete("id")];f=e;f["$id="].apply(f,d);d[d.length-1]}else h.$delete(1),h.$delete("id");this.$parse_header_metadata(c,e)}if((d=!1!==(f=(m=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&f!==b?f:m["$=="](l))===b||d.$$is_boolean&&1!=d)d=[k=m],f=e,f["$title="].apply(f,d),d[d.length-1];if(!1!==k&&k!==b)e.$attributes()["$[]="]("doctitle",k);e.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(c,e);return e.$finalize_header(h)});a.defs(h,"$parse_manpage_header",function(a,e){var d,f=
b,f=f=b;(d=f=c.get("ManpageTitleVolnumRx").$match(e.$attributes()["$[]"]("doctitle")))===b||d.$$is_boolean&&1!=d?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),e.$attributes()["$[]="]("mantitle",e.$attributes()["$[]"]("doctitle")),e.$attributes()["$[]="]("manvolnum","1")):(e.$attributes()["$[]="]("mantitle",e.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),e.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip()));a.$skip_blank_lines();if((d=this["$is_next_line_section?"](a,
r([],{})))===b||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected");f=this.$initialize_section(a,e,r([],{}));if(f.$level()["$=="](1)){f=a.$read_lines_until(r(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((d=f=c.get("ManpageNamePurposeRx").$match(f))===b||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");e.$attributes()["$[]="]("manname",e.$sub_attributes(f["$[]"](1)));
e.$attributes()["$[]="]("manpurpose",f["$[]"](2));return e.$backend()["$=="]("manpage")?(e.$attributes()["$[]="]("docname",e.$attributes()["$[]"]("manname")),e.$attributes()["$[]="]("outfilesuffix","."+e.$attributes()["$[]"]("manvolnum"))):b}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")});a.defs(h,"$next_section",function(e,d,f){var h,g,k,m,n=b,q=b,v=b,u=b,B=b,w=b,x=b,J=b,G=x=b,O=G=G=b,z=b,B=q=b;null==f&&(f=r([],{}));v=q=n=!1;(h=(g=(k=d.$context()["$=="]("document"))?
d.$blocks()["$empty?"]():d.$context()["$=="]("document"),!1!==g&&g!==b?!1!==(k=!1!==(m=u=d["$has_header?"]())&&m!==b?m:f.$delete("invalid-header"))&&k!==b?k:this["$is_next_line_section?"](e,f)["$!"]():g))===b||h.$$is_boolean&&1!=h?(B=d.$document().$doctype(),w=this.$initialize_section(e,d,f),f=(h=x=f["$[]"]("title"))===b||h.$$is_boolean&&1!=h?r([],{}):r(["title"],{title:x}),x=w.$level(),(h=(g=x["$=="](0))?B["$=="]("book"):x["$=="](0))===b||h.$$is_boolean&&1!=h?J=[p(x,1)]:(q=w.$special()["$!"](),J=
(h=(g=w.$special(),!1!==g&&g!==b?["preface","appendix"]["$include?"](w.$sectname()):g))===b||h.$$is_boolean&&1!=h?[p(x,1)]:[p(x,2)])):(B=d.$doctype(),(h=!1!==(g=u)&&g!==b?g:(k=B["$=="]("book"))?f["$[]"](1)["$!="]("abstract"):B["$=="]("book"))===b||h.$$is_boolean&&1!=h||(n=v=c.get("Block").$new(d,"preamble",r(["content_model"],{content_model:"compound"})),(h=(g=B["$=="]("book"))?d["$attr?"]("preface-title"):B["$=="]("book"))===b||h.$$is_boolean&&1!=h||(h=[d.$attr("preface-title")],g=n,g["$title="].apply(g,
h),h[h.length-1]),d["$<<"](n)),w=d,x=0,J=(h=d.$attributes()["$has_key?"]("fragment"))===b||h.$$is_boolean&&1!=h?B["$=="]("book")?[0,1]:[1]:b);for(e.$skip_blank_lines();(g=e["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);){this.$parse_block_metadata_lines(e,w,f);if((g=G=this["$is_next_line_section?"](e,f))===b||g.$$is_boolean&&1!=g)(G=e.$line_info(),(g=O=this.$next_block(e,!1!==(k=v)&&k!==b?k:w,f,r(["parse_metadata"],{parse_metadata:!1})))===b||g.$$is_boolean&&1!=g)||(!1!==q&&q!==b&&((g=w["$blocks?"]()["$!"]())===
b||g.$$is_boolean&&1!=g?w.$blocks().$size()["$=="](1)&&((z=w.$blocks()["$[]"](0),(g=(k=v["$!"](),!1!==k&&k!==b?z.$content_model()["$=="]("compound"):k))===b||g.$$is_boolean&&1!=g)?(g=z.$content_model()["$!="]("compound"))===b||g.$$is_boolean&&1!=g||(v=c.get("Block").$new(w,"open",r(["content_model"],{content_model:"compound"})),g=["partintro"],k=v,k["$style="].apply(k,g),g[g.length-1],w.$blocks().$shift(),z.$style()["$=="]("partintro")&&(g=["paragraph"],k=z,k["$context="].apply(k,g),g[g.length-1],
g=[b],k=z,k["$style="].apply(k,g),g[g.length-1]),g=[v],k=z,k["$parent="].apply(k,g),g[g.length-1],v["$<<"](z),g=[v],k=O,k["$parent="].apply(k,g),g[g.length-1],w["$<<"](v)):this.$warn("asciidoctor: ERROR: "+G+": illegal block content outside of partintro block")):(g=O.$style()["$!="]("partintro"))===b||g.$$is_boolean&&1!=g||(O.$context()["$=="]("paragraph")?(g=["open"],k=O,k["$context="].apply(k,g),g[g.length-1],g=["partintro"],k=O,k["$style="].apply(k,g),g[g.length-1]):(v=c.get("Block").$new(w,"open",
r(["content_model"],{content_model:"compound"})),g=["partintro"],k=v,k["$style="].apply(k,g),g[g.length-1],g=[v],k=O,k["$parent="].apply(k,g),g[g.length-1],w["$<<"](v)))),(!1!==(g=v)&&g!==b?g:w)["$<<"](O),f=r([],{}));else if(G=p(G,w.$document().$attr("leveloffset",0).$to_i()),(g=!1!==(k=t(G,x))&&k!==b?k:w.$context()["$=="]("document")?G["$=="](0):w.$context()["$=="]("document"))===b||g.$$is_boolean&&1!=g){(g=(k=G["$=="](0))?B["$!="]("book"):G["$=="](0))===b||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: ERROR: "+
e.$line_info()+": only book doctypes can contain level 0 sections");break}else(g=G["$=="](0)?B["$!="]("book"):G["$=="](0))===b||g.$$is_boolean&&1!=g?(g=!1!==J&&J!==b?J["$include?"](G)["$!"]():J)===b||g.$$is_boolean&&1!=g||this.$warn(p(p("asciidoctor: WARNING: "+e.$line_info()+": section title out of sequence: ","expected "+((g=t(J.$size(),1))===b||g.$$is_boolean&&1!=g?"level":"levels")+" "+l(J," or ")+", "),"got level "+G)):this.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections"),
k=this.$next_section(e,w,f),g=a.to_ary(k),G=null==g[0]?b:g[0],f=null==g[1]?b:g[1],k,w["$<<"](G);e.$skip_blank_lines()}if(!1!==q&&q!==b)((h=(g=w["$blocks?"](),!1!==g&&g!==b?w.$blocks()["$[]"](-1).$context()["$=="]("section"):g))===b||h.$$is_boolean&&1!=h)&&this.$warn("asciidoctor: ERROR: "+e.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==n&&n!==b)if(q=d,(h=n["$blocks?"]())===b||h.$$is_boolean&&1!=h)q.$blocks().$shift();else if((h=(g=(k=c.get("Compliance").$unwrap_standalone_preamble(),
!1!==k&&k!==b?q.$blocks().$size()["$=="](1):k),!1!==g&&g!==b?B["$!="]("book"):g))!==b&&(!h.$$is_boolean||1==h))for(q.$blocks().$shift();(g=B=n.$blocks().$shift())!==b&&(!g.$$is_boolean||1==g);)g=[q],k=B,k["$parent="].apply(k,g),g[g.length-1],q["$<<"](B);return[(h=w["$!="](d))===b||h.$$is_boolean&&1!=h?b:w,f.$dup()]});a.defs(h,"$next_block",function(e,d,f,h){var m,n,l,q,u,B,w,x,J,G,O,z=b,Y=b,ba=b,R=b,da=b,W=b,D=b,ea=b,F=b,T=b,ja=b,ma=b,ka=b,aa=b,X=u=b,na=b,ha=b,ca=b,ga=ca=b,la=u=ca=u=b,ia=ca=F=F=b,
ra=b,oa=b,pa=u=F=F=ia=ca=u=F=ia=b,qa=aa=X=u=ca=u=u=b,ta=b,ua=b,va=aa=X=X=b,sa=z=b,wa=b;null==f&&(f=r([],{}));null==h&&(h=r([],{}));z=e.$skip_blank_lines();if((m=e["$has_more_lines?"]())===b||m.$$is_boolean&&1!=m)return b;(m=(n=Y=h["$[]"]("text"),!1!==n&&n!==b?t(z,0):n))===b||m.$$is_boolean&&1!=m||(h.$delete("text"),Y=!1);ba=h.$fetch("parse_metadata",!0);R=d.$document();(m=da=R.$extensions())===b||m.$$is_boolean&&1!=m?W=D=!1:(W=da["$blocks?"](),D=da["$block_macros?"]());ea=c.get("ListItem")["$==="](d);
ja=T=F=b;ma=R.$sourcemap();for(ka=b;(n=(l=F["$!"](),!1!==l&&l!==b?e["$has_more_lines?"]():l))!==b&&(!n.$$is_boolean||1==n);)if((n=(l=!1!==ba&&ba!==b)?this.$parse_block_metadata_line(e,R,f,h):ba)===b||n.$$is_boolean&&1!=n){!1!==ma&&ma!==b&&(ka=e.$cursor());aa=e.$read_line();u=!1;ha=na=X=b;(n=f["$[]"](1))===b||n.$$is_boolean&&1!=n||(l=this.$parse_style_attribute(f,e),n=a.to_ary(l),T=null==n[0]?b:n[0],ja=null==n[1]?b:n[1],l);(n=ca=this["$is_delimited_block?"](aa,!0))===b||n.$$is_boolean&&1!=n||((u=!0,
X=na=ca.$context(),ha=ca.$terminator(),(n=T["$!"]())===b||n.$$is_boolean&&1!=n)?(n=T["$!="](X.$to_s()))===b||n.$$is_boolean&&1!=n||((n=ca.$masq()["$include?"](T))===b||n.$$is_boolean&&1!=n?(n=(l=ca.$masq()["$include?"]("admonition"),!1!==l&&l!==b?c.get("ADMONITION_STYLES")["$include?"](T):l))===b||n.$$is_boolean&&1!=n?(n=(l=!1!==W&&W!==b)?da["$registered_for_block?"](T,X):W)===b||n.$$is_boolean&&1!=n?(this.$warn("asciidoctor: WARNING: "+e.$prev_line_info()+": invalid style for "+X+" block: "+T),T=
X.$to_s()):X=T.$to_sym():X="admonition":X=T.$to_sym()):T=f["$[]="]("style",X.$to_s()));if(!1===u||u===b)for(;(l=!0)!==b&&(!l.$$is_boolean||1==l);){if((l=(q=(u=!1!==T&&T!==b)?c.get("Compliance").$strict_verbatim_paragraphs():T,!1!==q&&q!==b?c.get("VERBATIM_STYLES")["$include?"](T):q))!==b&&(!l.$$is_boolean||1==l)){X=T.$to_sym();e.$unshift_line(aa);break}if(!1===Y||Y===b)if(ca=(l=c.get("Compliance").$markdown_syntax())===b||l.$$is_boolean&&1!=l?aa.$chr():aa.$lstrip().$chr(),(l=(q=(u=c.get("LAYOUT_BREAK_LINES")["$has_key?"](ca),
!1!==u&&u!==b?g(aa.$length(),3):u),!1!==q&&q!==b?((u=c.get("Compliance").$markdown_syntax())===b||u.$$is_boolean&&1!=u?c.get("LayoutBreakLineRx"):c.get("LayoutBreakLinePlusRx"))["$=~"](aa):q))!==b&&(!l.$$is_boolean||1==l)){F=c.get("Block").$new(d,c.get("LAYOUT_BREAK_LINES")["$[]"](ca),r(["content_model"],{content_model:"empty"}));break}else if((l=(q=aa["$end_with?"]("]"),!1!==q&&q!==b?ga=c.get("MediaBlockMacroRx").$match(aa):q))!==b&&(!l.$$is_boolean||1==l)){u=ga["$[]"](1).$to_sym();F=c.get("Block").$new(d,
u,r(["content_model"],{content_model:"empty"}));ca=u["$=="]("image")?["alt","width","height"]:u["$=="]("video")?["poster","width","height"]:[];if((l=!1!==(q=T["$!"]())&&q!==b?q:ja)===b||l.$$is_boolean&&1!=l){if(u["$=="]("image"))f["$[]="]("alt",T);f.$delete("style");T=b}F.$parse_attributes(ga["$[]"](3),ca,r(["unescape_input","sub_input","sub_result","into"],{unescape_input:u["$=="]("image"),sub_input:!0,sub_result:!1,into:f}));u=F.$sub_attributes(ga["$[]"](2),r(["attribute_missing"],{attribute_missing:"drop-line"}));
if((l=u["$empty?"]())!==b&&(!l.$$is_boolean||1==l)){if(R.$attributes().$fetch("attribute-missing",c.get("Compliance").$attribute_missing())["$=="]("skip"))return c.get("Block").$new(d,"paragraph",r(["content_model","source"],{content_model:"simple",source:[aa]}));f.$clear();return b}f["$[]="]("target",u);break}else if((l=(q=ca["$=="]("t"))?ga=c.get("TocBlockMacroRx").$match(aa):ca["$=="]("t"))!==b&&(!l.$$is_boolean||1==l)){F=c.get("Block").$new(d,"toc",r(["content_model"],{content_model:"empty"}));
F.$parse_attributes(ga["$[]"](1),[],r(["sub_result","into"],{sub_result:!1,into:f}));break}else if((l=(q=(u=!1!==D&&D!==b)?ga=c.get("GenericBlockMacroRx").$match(aa):D,!1!==q&&q!==b?la=da["$registered_for_block_macro?"](ga["$[]"](1)):q))!==b&&(!l.$$is_boolean||1==l)){u=ga["$[]"](2);F=ga["$[]"](3);if(la.$config()["$[]"]("content_model")["$=="]("attributes"))((l=F["$empty?"]())===b||l.$$is_boolean&&1!=l)&&R.$parse_attributes(F,!1!==(l=la.$config()["$[]"]("pos_attrs"))&&l!==b?l:[],r(["sub_input","sub_result",
"into"],{sub_input:!0,sub_result:!1,into:f}));else f["$[]="]("text",F);(l=F=la.$config()["$[]"]("default_attrs"))===b||l.$$is_boolean&&1!=l||(l=(q=F).$each,l.$$p=(B=function(a,c){var e,d,h;null==a&&(a=b);null==c&&(c=b);return e=a,d=f,!1!==(h=d["$[]"](e))&&h!==b?h:d["$[]="](e,c)},B.$$s=this,B),l).call(q);if((l=F=la.$process_method()["$[]"](d,u,f.$dup()))===b||l.$$is_boolean&&1!=l)return f.$clear(),b;f.$replace(F.$attributes());break}if((l=ga=c.get("CalloutListRx").$match(aa))!==b&&(!l.$$is_boolean||
1==l)){F=c.get("List").$new(d,"colist");f["$[]="]("style","arabic");e.$unshift_line(aa);for(ca=1;(u=!1!==(w=ga)&&w!==b?w:(x=e["$has_more_lines?"](),!1!==x&&x!==b?ga=c.get("CalloutListRx").$match(e.$peek_line()):x))!==b&&(!u.$$is_boolean||1==u);){(u=ga["$[]"](1).$to_i()["$!="](ca))===b||u.$$is_boolean&&1!=u||this.$warn("asciidoctor: WARNING: "+e.$path()+": line "+k(e.$lineno(),2)+": callout list item index: expected "+ca+" got "+ga["$[]"](1));ia=this.$next_list_item(e,F,ga);ca=p(ca,1);if(!1!==ia&&
ia!==b)if(F["$<<"](ia),ra=R.$callouts().$callout_ids(F.$items().$size()),(u=ra["$empty?"]()["$!"]())===b||u.$$is_boolean&&1!=u)this.$warn("asciidoctor: WARNING: "+e.$path()+": line "+k(e.$lineno(),2)+": no callouts refer to list item "+F.$items().$size());else ia.$attributes()["$[]="]("coids",ra);ga=b}R.$callouts().$next_list();break}else if((l=c.get("UnorderedListRx")["$=~"](aa))!==b&&(!l.$$is_boolean||1==l)){e.$unshift_line(aa);F=this.$next_outline_list(e,"ulist",d);break}else if((l=ga=c.get("OrderedListRx").$match(aa))!==
b&&(!l.$$is_boolean||1==l)){e.$unshift_line(aa);F=this.$next_outline_list(e,"olist",d);if((l=(u=f["$[]"]("style")["$!"](),!1!==u&&u!==b?F.$attributes()["$[]"]("style")["$!"]():u))!==b&&(!l.$$is_boolean||1==l))if(oa=F.$items()["$[]"](0).$marker(),(l=oa["$start_with?"]("."))===b||l.$$is_boolean&&1!=l)T=(l=(u=c.get("ORDERED_LIST_STYLES")).$detect,l.$$p=(J=function(a){null==a&&(a=b);return c.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](oa)},J.$$s=this,J),l).call(u),f["$[]="]("style",(!1!==(l=T)&&l!==
b?l:c.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else f["$[]="]("style",(!1!==(l=c.get("ORDERED_LIST_STYLES")["$[]"](k(oa.$length(),1)))&&l!==b?l:c.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((l=ga=c.get("DefinitionListRx").$match(aa))!==b&&(!l.$$is_boolean||1==l)){e.$unshift_line(aa);F=this.$next_labeled_list(e,ga,d);break}else if((l=(w=!1!==(x=T["$=="]("float"))&&x!==b?x:T["$=="]("discrete"),!1!==w&&w!==b?this["$is_section_title?"](aa,(x=c.get("Compliance").$underline_style_section_titles())===
b||x.$$is_boolean&&1!=x?b:e.$peek_line(!0)):w))!==b&&(!l.$$is_boolean||1==l)){e.$unshift_line(aa);w=this.$parse_section_title(e,R);l=a.to_ary(w);ia=null==l[0]?b:l[0];F=null==l[1]?b:l[1];u=null==l[2]?b:l[2];ca=null==l[3]?b:l[3];w;if(!1!==F&&F!==b)f["$[]="]("reftext",F);(l=f["$has_key?"]("id"))===b||l.$$is_boolean&&1!=l||(!1!==(l=ia)&&l!==b?l:ia=f["$[]"]("id"));F=c.get("Block").$new(d,"floating_title",r(["content_model"],{content_model:"empty"}));(l=ia["$nil_or_empty?"]())===b||l.$$is_boolean&&1!=l?
l=[ia]:(ia=c.get("Section").$new(d),l=[u],w=ia,w["$title="].apply(w,l),l[l.length-1],l=[ia.$generate_id()]);w=F;w["$id="].apply(w,l);l[l.length-1];l=[ca];w=F;w["$level="].apply(w,l);l[l.length-1];l=[u];w=F;w["$title="].apply(w,l);l[l.length-1];break}else if((l=(w=!1!==T&&T!==b)?T["$!="]("normal"):T)!==b&&(!l.$$is_boolean||1==l))if((l=c.get("PARAGRAPH_STYLES")["$include?"](T))===b||l.$$is_boolean&&1!=l)if((l=c.get("ADMONITION_STYLES")["$include?"](T))===b||l.$$is_boolean&&1!=l)if((l=(w=!1!==W&&W!==
b)?da["$registered_for_block?"](T,"paragraph"):W)===b||l.$$is_boolean&&1!=l)this.$warn("asciidoctor: WARNING: "+e.$prev_line_info()+": invalid style for paragraph: "+T),T=b;else{X=T.$to_sym();na="paragraph";e.$unshift_line(aa);break}else{X="admonition";na="paragraph";e.$unshift_line(aa);break}else{X=T.$to_sym();na="paragraph";e.$unshift_line(aa);break}F=(l=z["$=="](0))?ea:z["$=="](0);if((l=(w=T["$!="]("normal"),!1!==w&&w!==b?c.get("LiteralParagraphRx")["$=~"](aa):w))===b||l.$$is_boolean&&1!=l){e.$unshift_line(aa);
F=this.$read_paragraph_lines(e,F,r(["skip_line_comments"],{skip_line_comments:!0}));if((l=F["$empty?"]())!==b&&(!l.$$is_boolean||1==l))return e.$advance(),b;this.$catalog_inline_anchors(F.$join(c.get("EOL")),R);u=F["$[]"](0);if((l=(w=Y["$!"](),!1!==w&&w!==b?pa=c.get("AdmonitionParagraphRx").$match(u):w))===b||l.$$is_boolean&&1!=l)if((l=(w=(x=Y["$!"](),!1!==x&&x!==b?c.get("Compliance").$markdown_syntax():x),!1!==w&&w!==b?u["$start_with?"]("> "):w))===b||l.$$is_boolean&&1!=l)if((l=(x=Y["$!"](),!1!==
x&&x!==b?this["$blockquote?"](F,u):x))===b||l.$$is_boolean&&1!=l){if(T["$=="]("normal"))this["$adjust_indentation!"](F);F=c.get("Block").$new(d,"paragraph",r(["content_model","source","attributes"],{content_model:"simple",source:F,attributes:f}))}else{F["$[]="](0,u["$[]"](v(1,-1,!1)));x=F.$pop()["$[]"](v(3,-1,!1)).$split(", ",2);l=a.to_ary(x);u=null==l[0]?b:l[0];ca=null==l[1]?b:l[1];for(x;(x=F["$[]"](-1)["$empty?"]())!==b&&(!x.$$is_boolean||1==x);)F.$pop();F["$[]="](-1,F["$[]"](-1).$chop());f["$[]="]("style",
"quote");if(!1!==u&&u!==b)f["$[]="]("attribution",u);if(!1!==ca&&ca!==b)f["$[]="]("citetitle",ca);F=c.get("Block").$new(d,"quote",r(["content_model","source","attributes"],{content_model:"simple",source:F,attributes:f}))}else{(l=(w=F)["$map!"],l.$$p=(G=function(a){var c;null==a&&(a=b);return a["$=="](">")?a["$[]"](v(1,-1,!1)):(c=a["$start_with?"]("> "))===b||c.$$is_boolean&&1!=c?a:a["$[]"](v(2,-1,!1))},G.$$s=this,G),l).call(w);if((l=F["$[]"](-1)["$start_with?"]("-- "))===b||l.$$is_boolean&&1!=l)x=
b,l=a.to_ary(x),u=null==l[0]?b:l[0],ca=null==l[1]?b:l[1],x;else for(x=F.$pop()["$[]"](v(3,-1,!1)).$split(", ",2),l=a.to_ary(x),u=null==l[0]?b:l[0],ca=null==l[1]?b:l[1],x;(x=F["$[]"](-1)["$empty?"]())!==b&&(!x.$$is_boolean||1==x);)F.$pop();f["$[]="]("style","quote");if(!1!==u&&u!==b)f["$[]="]("attribution",u);if(!1!==ca&&ca!==b)f["$[]="]("citetitle",ca);F=this.$build_block("quote","compound",!1,d,c.get("Reader").$new(F),f)}else F["$[]="](0,pa.$post_match().$lstrip()),f["$[]="]("style",pa["$[]"](1)),
f["$[]="]("name",u=pa["$[]"](1).$downcase()),l="caption",w=f,!1!==(x=w["$[]"](l))&&x!==b?x:w["$[]="](l,R.$attributes()["$[]"](""+u+"-caption")),F=c.get("Block").$new(d,"admonition",r(["content_model","source","attributes"],{content_model:"simple",source:F,attributes:f}))}else e.$unshift_line(aa),F=this.$read_paragraph_lines(e,F,r(["skip_line_comments"],{skip_line_comments:Y})),this["$adjust_indentation!"](F),F=c.get("Block").$new(d,"literal",r(["content_model","source","attributes"],{content_model:"verbatim",
source:F,attributes:f})),!1!==ea&&ea!==b&&F.$set_option("listparagraph");break}if((n=(l=F["$!"](),!1!==l&&l!==b?X:l))!==b&&(!n.$$is_boolean||1==n))if((n=!1!==(l=X["$=="]("abstract"))&&l!==b?l:X["$=="]("partintro"))===b||n.$$is_boolean&&1!=n||(X="open"),u=X,"admonition"["$==="](u))f["$[]="]("name",u=T.$downcase()),n="caption",l=f,!1!==(x=l["$[]"](n))&&x!==b?x:l["$[]="](n,R.$attributes()["$[]"](""+u+"-caption")),F=this.$build_block(X,"compound",ha,d,e,f);else{if("comment"["$==="](u))return this.$build_block(X,
"skip",ha,d,e,f),b;if("example"["$==="](u))F=this.$build_block(X,"compound",ha,d,e,f);else if("listing"["$==="](u)||"fenced_code"["$==="](u)||"source"["$==="](u)){if(X["$=="]("fenced_code")){T=f["$[]="]("style","source");l=aa["$[]"](v(3,-1,!1)).$tr(" ","").$split(",",2);n=a.to_ary(l);X=null==n[0]?b:n[0];aa=null==n[1]?b:n[1];l;if((n=X["$nil_or_empty?"]()["$!"]())!==b&&(!n.$$is_boolean||1==n)){if(f["$[]="]("language",X),(n=aa["$nil_or_empty?"]())===b||n.$$is_boolean&&1!=n)f["$[]="]("linenums","")}else if((n=
qa=R.$attributes()["$[]"]("source-language"))!==b&&(!n.$$is_boolean||1==n))f["$[]="]("language",qa);if((n=(l=f["$key?"]("indent")["$!"](),!1!==l&&l!==b?R.$attributes()["$key?"]("source-indent"):l))!==b&&(!n.$$is_boolean||1==n))f["$[]="]("indent",R.$attributes()["$[]"]("source-indent"));ha=ha["$[]"](v(0,2,!1))}else if(X["$=="]("source")){c.get("AttributeList").$rekey(f,[b,"language","linenums"]);if(((n=f["$key?"]("language"))===b||n.$$is_boolean&&1!=n)&&(n=qa=R.$attributes()["$[]"]("source-language"))!==
b&&(!n.$$is_boolean||1==n))f["$[]="]("language",qa);if((n=(l=f["$key?"]("indent")["$!"](),!1!==l&&l!==b?R.$attributes()["$key?"]("source-indent"):l))!==b&&(!n.$$is_boolean||1==n))f["$[]="]("indent",R.$attributes()["$[]"]("source-indent"))}F=this.$build_block("listing","verbatim",ha,d,e,f)}else if("literal"["$==="](u))F=this.$build_block(X,"verbatim",ha,d,e,f);else if("pass"["$==="](u))F=this.$build_block(X,"raw",ha,d,e,f);else if("stem"["$==="](u)||"latexmath"["$==="](u)||"asciimath"["$==="](u)){if(X["$=="]("stem"))f["$[]="]("style",
(n=ta=f["$[]"](2))===b||n.$$is_boolean&&1!=n?(n=(ua=R.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||n.$$is_boolean&&1!=n?ua:"asciimath":(n=ta["$include?"]("tex"))===b||n.$$is_boolean&&1!=n?"asciimath":"latexmath");F=this.$build_block("stem","raw",ha,d,e,f)}else if("open"["$==="](u)||"sidebar"["$==="](u))F=this.$build_block(X,"compound",ha,d,e,f);else if("table"["$==="](u)){X=e.$cursor();X=c.get("Reader").$new(e.$read_lines_until(r(["terminator","skip_line_comments"],{terminator:ha,skip_line_comments:!0})),
X);u=ha.$chr();if(","["$==="](u))f["$[]="]("format","csv");else if(":"["$==="](u))f["$[]="]("format","dsv");F=this.$next_table(X,d,f)}else if("quote"["$==="](u)||"verse"["$==="](u))c.get("AttributeList").$rekey(f,[b,"attribution","citetitle"]),F=this.$build_block(X,X["$=="]("verse")?"verbatim":"compound",ha,d,e,f);else if((n=(l=!1!==W&&W!==b)?la=da["$registered_for_block?"](X,na):W)===b||n.$$is_boolean&&1!=n)this.$raise("Unsupported block type "+X+" at "+e.$line_info());else if((n=(aa=la.$config()["$[]"]("content_model"))["$!="]("skip"))===
b||n.$$is_boolean&&1!=n||((n=(va=!1!==(l=la.$config()["$[]"]("pos_attrs"))&&l!==b?l:[])["$empty?"]()["$!"]())===b||n.$$is_boolean&&1!=n||c.get("AttributeList").$rekey(f,[b].$concat(va)),(n=F=la.$config()["$[]"]("default_attrs"))===b||n.$$is_boolean&&1!=n||(n=(l=F).$each,n.$$p=(O=function(a,c){var e,d,h;null==a&&(a=b);null==c&&(c=b);return e=a,d=f,!1!==(h=d["$[]"](e))&&h!==b?h:d["$[]="](e,c)},O.$$s=this,O),n).call(l)),F=this.$build_block(X,aa,ha,d,e,f,r(["extension"],{extension:la})),(n=(x=!1!==F&&
F!==b)?aa["$!="]("skip"):F)===b||n.$$is_boolean&&1!=n)return f.$clear(),b}}else e.$advance();if(!1!==F&&F!==b){!1!==ka&&ka!==b&&(m=[ka],n=F,n["$source_location="].apply(n,m),m[m.length-1]);if((m=F["$title?"]())===b||m.$$is_boolean&&1!=m)m=[f["$[]"]("title")],n=F,n["$title="].apply(n,m),m[m.length-1];if(F.$context()["$=="]("image")){if(z=f["$[]"]("target"),F.$document().$register("images",z),m="alt",n=f,!1!==(x=n["$[]"](m))&&x!==b?x:n["$[]="](m,c.get("Helpers").$basename(z,!0).$tr("_-"," ")),f["$[]="]("alt",
F.$sub_specialchars(f["$[]"]("alt"))),F.$assign_caption(f.$delete("caption"),"figure"),!((m=sa=f["$[]"]("scaledwidth"))===b||m.$$is_boolean&&1!=m||(m=v(48,57,!1)["$include?"]((!1!==(n=sa["$[]"](-1))&&n!==b?n:0).$ord()))===b||m.$$is_boolean&&1!=m))f["$[]="]("scaledwidth",""+sa+"%")}else m=F,!1!==(n=m.$caption())&&n!==b?n:m["$caption="](f.$delete("caption"));m=[f["$[]"]("style")];n=F;n["$style="].apply(n,m);m[m.length-1];(m=wa=(n=F,!1!==(x=n.$id())&&x!==b?x:n["$id="](f["$[]"]("id"))))===b||m.$$is_boolean&&
1!=m||R.$register("ids",[wa,!1!==(m=f["$[]"]("reftext"))&&m!==b?m:(n=F["$title?"]())===b||n.$$is_boolean&&1!=n?b:F.$title()]);((m=f["$empty?"]())===b||m.$$is_boolean&&1!=m)&&F.$attributes().$update(f);F.$lock_in_subs();(m=F["$sub?"]("callouts"))===b||m.$$is_boolean&&1!=m||!((m=this.$catalog_callouts(F.$source(),R))===b||m.$$is_boolean&&1!=m)||F.$remove_sub("callouts")}return F});a.defs(h,"$blockquote?",function(a,c){var e,d,f,h;null==c&&(c=b);return e=(d=(f=t(a.$size(),1),!1!==f&&f!==b?(!1!==(h=c)&&
h!==b?h:a["$[]"](0))["$start_with?"]('"'):f),!1!==d&&d!==b?a["$[]"](-1)["$start_with?"]("-- "):d),!1!==e&&e!==b?a["$[]"](-2)["$end_with?"]('"'):e});a.defs(h,"$read_paragraph_lines",function(a,e,d){var f,h=b;null==d&&(d=r([],{}));d["$[]="]("break_on_blank_lines",!0);d["$[]="]("break_on_list_continuation",!0);d["$[]="]("preserve_last_line",!0);h=!1!==e&&e!==b?(f=c.get("Compliance").$block_terminates_paragraph())===b||f.$$is_boolean&&1!=f?c.get("StartOfListProc"):c.get("StartOfBlockOrListProc"):(f=c.get("Compliance").$block_terminates_paragraph())===
b||f.$$is_boolean&&1!=f?c.get("NoOp"):c.get("StartOfBlockProc");return(f=a.$read_lines_until,f.$$p=h.$to_proc(),f).call(a,d)});a.defs(h,"$is_delimited_block?",function(f,h){var g,m,n=b,q=b,p=b,r=b,u=b,p=n=b;null==h&&(h=!1);if((g=(m=t(n=f.$length(),1),!1!==m&&m!==b?c.get("DELIMITED_BLOCK_LEADERS")["$include?"](f["$[]"](v(0,1,!1))):m))===b||g.$$is_boolean&&1!=g)return b;if(n["$=="](2))q=f,p=2;else{(g=e(n,4))===b||g.$$is_boolean&&1!=g?(q=f["$[]"](v(0,3,!1)),p=4):(q=f,p=n);r=!1;if((g=c.get("Compliance").$markdown_syntax())!==
b&&(!g.$$is_boolean||1==g)&&(u=p["$=="](4)?q.$chop():q,u["$=="]("```"))){if((g=p["$=="](4)?q["$end_with?"]("`"):p["$=="](4))!==b&&(!g.$$is_boolean||1==g))return b;q=u;p=3;r=!0}if((g=(m=p["$=="](3))?r["$!"]():p["$=="](3))!==b&&(!g.$$is_boolean||1==g))return b}return(g=c.get("DELIMITED_BLOCKS")["$has_key?"](q))===b||g.$$is_boolean&&1!=g?b:(g=!1!==(m=d(p,4))&&m!==b?m:p["$=="](n))===b||g.$$is_boolean&&1!=g?(""+q+l(q["$[]"](v(-1,-1,!1)),k(n,p)))["$=="](f)?!1!==h&&h!==b?(g=a.to_a(c.get("DELIMITED_BLOCKS")["$[]"](q)),
n=null==g[0]?b:g[0],p=null==g[1]?b:g[1],g,c.get("BlockMatchData").$new(n,p,q,f)):!0:b:!1!==h&&h!==b?(g=a.to_a(c.get("DELIMITED_BLOCKS")["$[]"](q)),n=null==g[0]?b:g[0],p=null==g[1]?b:g[1],g,c.get("BlockMatchData").$new(n,p,q,q)):!0});a.defs(h,"$build_block",function(a,e,d,f,h,g,k){var m,l,n=b,q=b,p=n=q=b,p=p=p=p=b;null==k&&(k=r([],{}));(m=!1!==(l=e["$=="]("skip"))&&l!==b?l:e["$=="]("raw"))===b||m.$$is_boolean&&1!=m?(n=!1,q=e):(n=e["$=="]("skip"),q="simple");(m=d["$nil?"]())===b||m.$$is_boolean&&1!=
m?(m=q["$!="]("compound"))===b||m.$$is_boolean&&1!=m?d["$=="](!1)?(q=b,n=h):(q=b,p=h.$cursor(),n=c.get("Reader").$new(h.$read_lines_until(r(["terminator","skip_processing"],{terminator:d,skip_processing:n})),p)):(q=h.$read_lines_until(r(["terminator","skip_processing"],{terminator:d,skip_processing:n})),n=b):(q["$=="]("verbatim")?q=h.$read_lines_until(r(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),
q=this.$read_paragraph_lines(h,!1,r(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),n=b);if(e["$=="]("skip"))return g.$clear(),q;if(e["$=="]("verbatim"))if((m=p=g["$[]"]("indent"))!==b&&(!m.$$is_boolean||1==m))this["$adjust_indentation!"](q,p,!1!==(m=g["$[]"]("tabsize"))&&m!==b?m:f.$document().$attributes()["$[]"]("tabsize"));else if((m=t(p=(!1!==(l=g["$[]"]("tabsize"))&&l!==b?l:f.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))!==b&&(!m.$$is_boolean||
1==m))this["$adjust_indentation!"](q,b,p);if((m=p=k["$[]"]("extension"))===b||m.$$is_boolean&&1!=m)p=c.get("Block").$new(f,a,r(["content_model","source","attributes"],{content_model:e,source:q,attributes:g}));else{g.$delete("style");if((m=p=p.$process_method()["$[]"](f,!1!==(l=n)&&l!==b?l:c.get("Reader").$new(q),g.$dup()))===b||m.$$is_boolean&&1!=m)return b;g.$replace(p.$attributes());(m=(l=p.$content_model()["$=="]("compound"))?(q=p.$lines())["$nil_or_empty?"]()["$!"]():p.$content_model()["$=="]("compound"))===
b||m.$$is_boolean&&1!=m||(e="compound",n=c.get("Reader").$new(q))}(m=(l=g["$has_key?"]("title"),!1!==l&&l!==b?p.$document()["$attr?"](""+p.$context()+"-caption"):l))===b||m.$$is_boolean&&1!=m||(m=[g.$delete("title")],l=p,l["$title="].apply(l,m),m[m.length-1],p.$assign_caption(g.$delete("caption")));e["$=="]("compound")&&this.$parse_blocks(n,p);return p});a.defs(h,"$parse_blocks",function(a,e){for(var d,f=b;(d=a["$has_more_lines?"]())!==b&&(!d.$$is_boolean||1==d);)if(f=c.get("Parser").$next_block(a,
e),!1!==f&&f!==b)e["$<<"](f)});a.defs(h,"$next_outline_list",function(a,e,f){var h,g,k,m=b,l=b,n=h=b,q=b,r=b,m=c.get("List").$new(f,e);h=f.$context()["$=="](e)?[p(f.$level(),1)]:[1];g=m;g["$level="].apply(g,h);for(h[h.length-1];(g=(k=a["$has_more_lines?"](),!1!==k&&k!==b?l=c.get("ListRxMap")["$[]"](e).$match(a.$peek_line()):k))!==b&&(!g.$$is_boolean||1==g);){h=this.$resolve_list_marker(e,l["$[]"](1));if((g=(k=m["$items?"](),!1!==k&&k!==b?h["$!="](m.$items()["$[]"](0).$marker()):k))===b||g.$$is_boolean&&
1!=g)n=m.$level();else for(n=p(m.$level(),1),q=f;q.$context()["$=="](e);){if(h["$=="](q.$items()["$[]"](0).$marker())){n=q.$level();break}q=q.$parent()}if((g=!1!==(k=m["$items?"]()["$!"]())&&k!==b?k:n["$=="](m.$level()))!==b&&(!g.$$is_boolean||1==g))r=this.$next_list_item(a,m,l);else if((g=d(n,m.$level()))!==b&&(!g.$$is_boolean||1==g))break;else if((g=t(n,m.$level()))!==b&&(!g.$$is_boolean||1==g))m.$items()["$[]"](-1)["$<<"](this.$next_block(a,m));if(!1!==r&&r!==b)m["$<<"](r);r=b;a.$skip_blank_lines()}return m});
a.defs(h,"$catalog_callouts",function(a,e){var d,h,g=b,g=!1;(d=a["$include?"]("<"))===b||d.$$is_boolean&&1!=d||(d=a.$scan,d.$$p=(h=function(){var a,c=b;null==f["~"]&&(f["~"]=b);c=f["~"];(a=c["$[]"](0).$chr()["$!="]("\\"))===b||a.$$is_boolean&&1!=a||e.$callouts().$register(c["$[]"](2));return g=!0},h.$$s=this,h),d).call(a,c.get("CalloutQuickScanRx"));return g});a.defs(h,"$catalog_inline_anchors",function(a,e){var d,h;(d=a["$include?"]("["))===b||d.$$is_boolean&&1!=d||(d=a.$scan,d.$$p=(h=function(){var a,
c=b,d=b,c=b;null==f["~"]&&(f["~"]=b);c=f["~"];if((a=c["$[]"](0)["$start_with?"]("\\"))!==b&&(!a.$$is_boolean||1==a))return b;d=!1!==(a=c["$[]"](1))&&a!==b?a:c["$[]"](3);c=!1!==(a=c["$[]"](2))&&a!==b?a:c["$[]"](4);return e.$register("ids",[d,c])},h.$$s=this,h),d).call(a,c.get("InlineAnchorRx"));return b});a.defs(h,"$next_labeled_list",function(e,d,f){for(var h,g,k,m=b,l=b,n=b,q=b,p=b,m=c.get("List").$new(f,"dlist"),l=b,n=c.get("DefinitionListSiblingRx")["$[]"](d["$[]"](2));(h=!1!==(g=d)&&g!==b?g:(k=
e["$has_more_lines?"](),!1!==k&&k!==b?d=n.$match(e.$peek_line()):k))!==b&&(!h.$$is_boolean||1==h);){g=this.$next_list_item(e,m,d,n);h=a.to_ary(g);q=null==h[0]?b:h[0];p=null==h[1]?b:h[1];g;if((h=(g=!1!==l&&l!==b)?l["$[]"](-1)["$!"]():l)===b||h.$$is_boolean&&1!=h)m.$items()["$<<"](l=[[q],p]);else l.$pop(),l["$[]"](0)["$<<"](q),l["$<<"](p);d=b}return m});a.defs(h,"$next_list_item",function(a,e,d,f){var h,g,k=b,m=b,l=b,n=b,q=l=b,p=q=q=n=b,t=b,u=t=p=b,B=b;null==f&&(f=b);if((k=e.$context())["$=="]("dlist"))m=
c.get("ListItem").$new(e,d["$[]"](1)),l=c.get("ListItem").$new(e,d["$[]"](3)),n=d["$[]"](3)["$nil_or_empty?"]()["$!"]();else{l=d["$[]"](2);q=!1;(h=(g=k["$=="]("ulist"))?l["$start_with?"]("["):k["$=="]("ulist"))===b||h.$$is_boolean&&1!=h||((h=l["$start_with?"]("[ ] "))===b||h.$$is_boolean&&1!=h?(h=!1!==(g=l["$start_with?"]("[x] "))&&g!==b?g:l["$start_with?"]("[*] "))===b||h.$$is_boolean&&1!=h||(n=q=!0,l=l["$[]"](v(3,-1,!1)).$lstrip()):(q=!0,n=!1,l=l["$[]"](v(3,-1,!1)).$lstrip()));l=c.get("ListItem").$new(e,
l);if(!1!==q&&q!==b&&(e.$attributes()["$[]="]("checklist-option",""),l.$attributes()["$[]="]("checkbox",""),!1!==n&&n!==b))l.$attributes()["$[]="]("checked","");!1!==(h=f)&&h!==b?h:f=this.$resolve_list_marker(k,d["$[]"](1),e.$items().$size(),!0,a);h=[f];g=l;g["$marker="].apply(g,h);h[h.length-1];n=!0}a.$advance();q=a.$cursor();q=c.get("Reader").$new(this.$read_lines_for_list_item(a,k,f,n),q);if((h=q["$has_more_lines?"]())!==b&&(!h.$$is_boolean||1==h)){p=q.$skip_line_comments();t=q.$peek_line();((h=
p["$empty?"]())===b||h.$$is_boolean&&1!=h)&&q.$unshift_lines(p);(h=t["$nil?"]()["$!"]())===b||h.$$is_boolean&&1!=h?t=p=!1:(p=t["$empty?"](),(h=(g=p["$!"](),!1!==g&&g!==b?k["$!="]("dlist"):g))===b||h.$$is_boolean&&1!=h||(n=!1),t=(h=p["$!"](),!1!==h&&h!==b?t["$empty?"]()["$!"]():h));for(u=r(["text"],{text:n["$!"]()});(g=q["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);)if((g=B=this.$next_block(q,l,r([],{}),u))!==b&&(!g.$$is_boolean||1==g))l["$<<"](B);l.$fold_first(p,t)}if(k["$=="]("dlist")){if((h=
!1!==(g=l["$text?"]())&&g!==b?g:l["$blocks?"]())===b||h.$$is_boolean&&1!=h)l=b;return[m,l]}return l});a.defs(h,"$read_lines_for_list_item",function(a,e,d,h){var g,k,m,l,n,q,p,t,u,v,B,w,x,J=b,G=b,O=b,z=b,D=b,ea=b,ea=l=b;null==f["~"]&&(f["~"]=b);null==d&&(d=b);null==h&&(h=!0);J=[];G="inactive";O=!1;for(z=b;(k=a["$has_more_lines?"]())!==b&&(!k.$$is_boolean||1==k);){D=a.$read_line();if((k=this["$is_sibling_list_item?"](D,e,d))!==b&&(!k.$$is_boolean||1==k))break;ea=(k=J["$empty?"]())===b||k.$$is_boolean&&
1!=k?J["$[]"](-1):b;if(ea["$=="](c.get("LIST_CONTINUATION"))){if(G["$=="]("inactive")&&(G="active",h=!0,!1===O||O===b))J["$[]="](-1,"");if(D["$=="](c.get("LIST_CONTINUATION"))){(k=G["$!="]("frozen"))===b||k.$$is_boolean&&1!=k||(G="frozen",J["$<<"](D));D=b;continue}}if((k=l=this["$is_delimited_block?"](D,!0))===b||k.$$is_boolean&&1!=k)if((k=(m=(l=e["$=="]("dlist"))?G["$!="]("active"):e["$=="]("dlist"),!1!==m&&m!==b?c.get("BlockAttributeLineRx")["$=~"](D):m))===b||k.$$is_boolean&&1!=k)if((k=(m=G["$=="]("active"))?
D["$empty?"]()["$!"]():G["$=="]("active"))===b||k.$$is_boolean&&1!=k)if((k=(l=ea["$nil?"]()["$!"](),!1!==l&&l!==b?ea["$empty?"]():l))===b||k.$$is_boolean&&1!=k)(k=D["$empty?"]()["$!"]())===b||k.$$is_boolean&&1!=k||(h=!0),(k=ea=(B=(w=!1!==O&&O!==b?["dlist"]:c.get("NESTABLE_LIST_CONTEXTS")).$detect,B.$$p=(x=function(a){null==a&&(a=b);return c.get("ListRxMap")["$[]"](a)["$=~"](D)},x.$$s=this,x),B).call(w))===b||k.$$is_boolean&&1!=k||(O=!0,(k=(B=ea["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():
ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1)),J["$<<"](D);else{if(!((k=D["$empty?"]())===b||k.$$is_boolean&&1!=k||(a.$skip_blank_lines(),D=a.$read_line(),(k=!1!==(l=D["$nil?"]())&&l!==b?l:this["$is_sibling_list_item?"](D,e,d))===b||k.$$is_boolean&&1!=k)))break;if(D["$=="](c.get("LIST_CONTINUATION")))z=J.$size(),J["$<<"](D);else if(!1!==h&&h!==b)if((k=this["$is_sibling_list_item?"](D,e,d))===b||k.$$is_boolean&&1!=k)if((k=ea=(l=(t=c.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(u=function(a){null==
a&&(a=b);return c.get("ListRxMap")["$[]"](a)["$=~"](D)},u.$$s=this,u),l).call(t))===b||k.$$is_boolean&&1!=k)if((k=c.get("LiteralParagraphRx")["$=~"](D))===b||k.$$is_boolean&&1!=k)break;else a.$unshift_line(D),J.$concat((k=(l=a).$read_lines_until,k.$$p=(v=function(a){var c=v.$$s||this;null==a&&(a=b);return e["$=="]("dlist")?c["$is_sibling_list_item?"](a,e,d):e["$=="]("dlist")},v.$$s=this,v),k).call(l,r(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,
break_on_blank_lines:!0,break_on_list_continuation:!0})));else J["$<<"](D),O=!0,(k=(l=ea["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1);else break;else!1!==O&&O!==b||J.$pop(),J["$<<"](D),h=!0}else if((k=c.get("LiteralParagraphRx")["$=~"](D))===b||k.$$is_boolean&&1!=k)if((k=!1!==(l=!1!==(q=c.get("BlockTitleRx")["$=~"](D))&&q!==b?q:c.get("BlockAttributeLineRx")["$=~"](D))&&l!==b?l:c.get("AttributeEntryRx")["$=~"](D))===b||k.$$is_boolean&&
1!=k)(k=ea=(l=(q=!1!==O&&O!==b?["dlist"]:c.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(p=function(a){null==a&&(a=b);return c.get("ListRxMap")["$[]"](a)["$=~"](D)},p.$$s=this,p),l).call(q))===b||k.$$is_boolean&&1!=k||(O=!0,(k=(l=ea["$=="]("dlist"))?f["~"]["$[]"](3)["$nil_or_empty?"]():ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1)),J["$<<"](D),G="inactive";else J["$<<"](D);else a.$unshift_line(D),J.$concat((k=(m=a).$read_lines_until,k.$$p=(n=function(a){var c=n.$$s||this;null==a&&(a=b);return e["$=="]("dlist")?
c["$is_sibling_list_item?"](a,e,d):e["$=="]("dlist")},n.$$s=this,n),k).call(m,r(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),G="inactive";else break;else if(G["$=="]("active"))J["$<<"](D),J.$concat(a.$read_lines_until(r(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),G="inactive";else break;D=b}!1!==D&&D!==b&&a.$unshift_line(D);for(!1!==z&&z!==b&&J.$delete_at(z);(k=
(B=J["$empty?"]()["$!"](),!1!==B&&B!==b?J["$[]"](-1)["$empty?"]():B))!==b&&(!k.$$is_boolean||1==k);)J.$pop();(g=(k=J["$empty?"]()["$!"](),!1!==k&&k!==b?J["$[]"](-1)["$=="](c.get("LIST_CONTINUATION")):k))===b||g.$$is_boolean&&1!=g||J.$pop();return J});a.defs(h,"$initialize_section",function(e,d,f){var h,g,k=b,m=b,l=b,n=b,q=b,p=b,t=l=n=b;null==f&&(f=r([],{}));k=d.$document();(h=k.$sourcemap())===b||h.$$is_boolean&&1!=h||(m=e.$cursor());g=this.$parse_section_title(e,k);h=a.to_ary(g);l=null==h[0]?b:h[0];
n=null==h[1]?b:h[1];q=null==h[2]?b:h[2];p=null==h[3]?b:h[3];g;if(!1!==n&&n!==b)f["$[]="]("reftext",n);n=c.get("Section").$new(d,p,k.$attributes()["$has_key?"]("sectnums"));!1!==m&&m!==b&&(h=[m],g=n,g["$source_location="].apply(g,h),h[h.length-1]);h=[l];g=n;g["$id="].apply(g,h);h[h.length-1];h=[q];g=n;g["$title="].apply(g,h);h[h.length-1];(h=f["$[]"](1))===b||h.$$is_boolean&&1!=h?((h=q.$downcase()["$=="]("synopsis")?k.$doctype()["$=="]("manpage"):q.$downcase()["$=="]("synopsis"))===b||h.$$is_boolean&&
1!=h?h=["sect"+n.$level()]:(h=[!0],g=n,g["$special="].apply(g,h),h[h.length-1],h=["synopsis"]),g=n,g["$sectname="].apply(g,h),h[h.length-1]):(g=this.$parse_style_attribute(f,e),h=a.to_ary(g),l=null==h[0]?b:h[0],g,!1!==l&&l!==b?(h=[l],g=n,g["$sectname="].apply(g,h),h[h.length-1],h=[!0],g=n,g["$special="].apply(g,h),h[h.length-1],(h=(g=n.$sectname()["$=="]("abstract"))?k.$doctype()["$=="]("book"):n.$sectname()["$=="]("abstract"))===b||h.$$is_boolean&&1!=h||(h=["sect1"],g=n,g["$sectname="].apply(g,h),
h[h.length-1],h=[!1],g=n,g["$special="].apply(g,h),h[h.length-1],h=[1],g=n,g["$level="].apply(g,h),h[h.length-1])):(h=["sect"+n.$level()],g=n,g["$sectname="].apply(g,h),h[h.length-1]));(h=(g=n.$id()["$!"](),!1!==g&&g!==b?t=f["$[]"]("id"):g))===b||h.$$is_boolean&&1!=h?(h=n,!1!==(g=h.$id())&&g!==b?g:h["$id="](n.$generate_id())):(h=[t],g=n,g["$id="].apply(g,h),h[h.length-1]);(h=n.$id())===b||h.$$is_boolean&&1!=h||n.$document().$register("ids",[n.$id(),!1!==(h=f["$[]"]("reftext"))&&h!==b?h:n.$title()]);
n.$update_attributes(f);e.$skip_blank_lines();return n});a.defs(h,"$section_level",function(a){return c.get("SECTION_LEVELS")["$[]"](a.$chr())});a.defs(h,"$single_line_section_level",function(a){return k(a.$length(),1)});a.defs(h,"$is_next_line_section?",function(e,d){var f,h,g,k,m=b,l=b;return(f=(h=(g=(m=d["$[]"](1))["$nil?"]()["$!"](),!1!==g&&g!==b?!1!==(k=(l=m["$[]"](0).$ord())["$=="](100))&&k!==b?k:l["$=="](102):g),!1!==h&&h!==b?m["$=~"](c.get("FloatingTitleStyleRx")):h))!==b&&(!f.$$is_boolean||
1==f)||(f=e["$has_more_lines?"]())===b||f.$$is_boolean&&1!=f?!1:(f=c.get("Compliance").$underline_style_section_titles())===b||f.$$is_boolean&&1!=f?this["$is_section_title?"](e.$peek_line()):(f=this)["$is_section_title?"].apply(f,a.to_a(e.$peek_lines(2)))});a.defs(h,"$is_next_line_document_title?",function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)});a.defs(h,"$is_section_title?",function(a,c){var e,d=b;null==c&&(c=b);return(e=d=this["$is_single_line_section_title?"](a))===b||e.$$is_boolean&&
1!=e?(e=!1!==c&&c!==b?d=this["$is_two_line_section_title?"](a,c):c)===b||e.$$is_boolean&&1!=e?!1:d:d});a.defs(h,"$is_single_line_section_title?",function(a){var e,d,f,h,g=b,k=b,g=!1!==a&&a!==b?a.$chr():b;return(e=(d=!1!==(f=g["$=="]("="))&&f!==b?f:(h=c.get("Compliance").$markdown_syntax(),!1!==h&&h!==b?g["$=="]("#"):h),!1!==d&&d!==b?k=c.get("AtxSectionRx").$match(a):d))===b||e.$$is_boolean&&1!=e?!1:this.$single_line_section_level(k["$[]"](1))});a.defs(h,"$is_two_line_section_title?",function(a,d){var f,
h,g,m,l;return(f=(h=(g=(m=(l=!1!==a&&a!==b?d:a,!1!==l&&l!==b?c.get("SECTION_LEVELS")["$has_key?"](d.$chr()):l),!1!==m&&m!==b?d["$=~"](c.get("SetextSectionLineRx")):m),!1!==g&&g!==b?a["$=~"](c.get("SetextSectionTitleRx")):g),!1!==h&&h!==b?e(k(this.$line_length(a),this.$line_length(d)).$abs(),1):h))===b||f.$$is_boolean&&1!=f?!1:this.$section_level(d)});a.defs(h,"$parse_section_title",function(a,d){var f,h,m,l,n,q=b,r=b,t=b,u=b,v=b,B=b,w=b,x=b,J=b,G=b,O=b,q=a.$read_line(),t=r=b,u=-1,v=b,B=!0,w=q.$chr();
(f=(h=!1!==(m=w["$=="]("="))&&m!==b?m:(l=c.get("Compliance").$markdown_syntax(),!1!==l&&l!==b?w["$=="]("#"):l),!1!==h&&h!==b?x=c.get("AtxSectionRx").$match(q):h))===b||f.$$is_boolean&&1!=f?(f=c.get("Compliance").$underline_style_section_titles())===b||f.$$is_boolean&&1!=f||(f=(h=(m=(l=(n=G=a.$peek_line(!0),!1!==n&&n!==b?c.get("SECTION_LEVELS")["$has_key?"](G.$chr()):n),!1!==l&&l!==b?G["$=~"](c.get("SetextSectionLineRx")):l),!1!==m&&m!==b?O=c.get("SetextSectionTitleRx").$match(q):m),!1!==h&&h!==b?
e(k(this.$line_length(q),this.$line_length(G)).$abs(),1):h))===b||f.$$is_boolean&&1!=f||(t=O["$[]"](1),(f=(h=t["$end_with?"]("]]"),!1!==h&&h!==b?J=c.get("InlineSectionAnchorRx").$match(t):h))===b||f.$$is_boolean&&1!=f||(f=J["$[]"](2)["$nil?"]())===b||f.$$is_boolean&&1!=f||(t=J["$[]"](1),r=J["$[]"](3),v=J["$[]"](4)),u=this.$section_level(G),B=!1,a.$advance()):(u=this.$single_line_section_level(x["$[]"](1)),t=x["$[]"](2),(f=(h=t["$end_with?"]("]]"),!1!==h&&h!==b?J=c.get("InlineSectionAnchorRx").$match(t):
h))===b||f.$$is_boolean&&1!=f||(f=J["$[]"](2)["$nil?"]())===b||f.$$is_boolean&&1!=f||(t=J["$[]"](1),r=J["$[]"](3),v=J["$[]"](4)));(f=g(u,0))===b||f.$$is_boolean&&1!=f||(u=p(u,d.$attr("leveloffset",0).$to_i()));return[r,v,t,u,B]});a.defs(h,"$line_length",function(a){var e;return(e=c.get("FORCE_UNICODE_LINE_LENGTH"))===b||e.$$is_boolean&&1!=e?a.$length():a.$scan(c.get("UnicodeCharScanRx")).$length()});a.defs(h,"$parse_header_metadata",function(e,d){var f,h,g,k,m,l,n=b,q=b,u=b,B=b,w=B=b,x=b,J=w=b,u=
q=b;null==d&&(d=b);this.$process_attribute_entries(e,d);n=r([],{});u=q=b;if((f=(h=e["$has_more_lines?"](),!1!==h&&h!==b?e["$next_line_empty?"]()["$!"]():h))!==b&&(!f.$$is_boolean||1==f)){B=this.$process_authors(e.$read_line());if((f=B["$empty?"]())===b||f.$$is_boolean&&1!=f)!1!==d&&d!==b&&((f=(h=B).$each,f.$$p=(g=function(c,e){var f;null==c&&(c=b);null==e&&(e=b);return(f=d.$attributes()["$has_key?"](c))===b||f.$$is_boolean&&1!=f?d.$attributes()["$[]="](c,(f=e["$is_a?"](a.get("String")))===b||f.$$is_boolean&&
1!=f?e:d.$apply_header_subs(e)):b},g.$$s=this,g),f).call(h),q=d.$attributes()["$[]"]("author"),u=d.$attributes()["$[]"]("authors")),n=B;this.$process_attribute_entries(e,d);B=r([],{});if((f=(k=e["$has_more_lines?"](),!1!==k&&k!==b?e["$next_line_empty?"]()["$!"]():k))!==b&&(!f.$$is_boolean||1==f))if(w=e.$read_line(),(f=x=c.get("RevisionInfoLineRx").$match(w))===b||f.$$is_boolean&&1!=f)e.$unshift_line(w);else{if((f=x["$[]"](1))!==b&&(!f.$$is_boolean||1==f))B["$[]="]("revnumber",x["$[]"](1).$rstrip());
if(!(w=x["$[]"](2).$strip())["$=="](""))if((f=(k=x["$[]"](1)["$!"](),!1!==k&&k!==b?w["$start_with?"]("v"):k))===b||f.$$is_boolean&&1!=f)B["$[]="]("revdate",w);else B["$[]="]("revnumber",w["$[]"](v(1,-1,!1)));if((f=x["$[]"](3))!==b&&(!f.$$is_boolean||1==f))B["$[]="]("revremark",x["$[]"](3).$rstrip())}if((f=B["$empty?"]())===b||f.$$is_boolean&&1!=f)!1!==d&&d!==b&&(f=(k=B).$each,f.$$p=(m=function(a,c){var e;null==a&&(a=b);null==c&&(c=b);return(e=d.$attributes()["$has_key?"](a))===b||e.$$is_boolean&&
1!=e?d.$attributes()["$[]="](a,d.$apply_header_subs(c)):b},m.$$s=this,m),f).call(k),n.$update(B);this.$process_attribute_entries(e,d);e.$skip_blank_lines()}if(!1!==d&&d!==b){B=b;if((f=(l=d.$attributes()["$has_key?"]("author"),!1!==l&&l!==b?(J=d.$attributes()["$[]"]("author"))["$!="](q):l))===b||f.$$is_boolean&&1!=f)if((f=(l=d.$attributes()["$has_key?"]("authors"),!1!==l&&l!==b?(J=d.$attributes()["$[]"]("authors"))["$!="](u):l))===b||f.$$is_boolean&&1!=f){q=[];for(u="author_"+p(q.$size(),1);(l=d.$attributes()["$has_key?"](u))!==
b&&(!l.$$is_boolean||1==l);)q["$<<"](d.$attributes()["$[]"](u)),u="author_"+p(q.$size(),1);q.$size()["$=="](1)?B=this.$process_authors(q["$[]"](0),!0,!1):(f=t(q.$size(),1))===b||f.$$is_boolean&&1!=f||(B=this.$process_authors(q.$join("; "),!0))}else B=this.$process_authors(J,!0);else B=this.$process_authors(J,!0,!1);if(!1!==B&&B!==b&&(d.$attributes().$update(B),(f=(l=d.$attributes()["$has_key?"]("email")["$!"](),!1!==l&&l!==b?d.$attributes()["$has_key?"]("email_1"):l))!==b&&(!f.$$is_boolean||1==f)))d.$attributes()["$[]="]("email",
d.$attributes()["$[]"]("email_1"))}return n});a.defs(h,"$process_authors",function(a,e,d){var f,h,g,k,m,l=this,n=b,q=b,u=b;null==e&&(e=!1);null==d&&(d=!0);n=r([],{});q="author authorinitials firstname middlename lastname email".split(" ");u=function(){return!1!==d&&d!==b?(f=(h=a.$split(";")).$map,f.$$p=(g=function(a){null==a&&(a=b);return a.$strip()},g.$$s=l,g),f).call(h):[a]}();(f=(k=u).$each_with_index,f.$$p=(m=function(a,d){var f=m.$$s||this,h,g,k,l,u,B,w,E=b,x=b,C=b,J=C=b,P=b;null==a&&(a=b);null==
d&&(d=b);if((h=a["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return b;E=r([],{});(h=d["$zero?"]())===b||h.$$is_boolean&&1!=h?(h=(l=q).$each,h.$$p=(u=function(a){null==a&&(a=b);return E["$[]="](a.$to_sym(),""+a+"_"+p(d,1))},u.$$s=f,u),h).call(l):(h=(g=q).$each,h.$$p=(k=function(a){null==a&&(a=b);return E["$[]="](a.$to_sym(),a)},k.$$s=f,k),h).call(g);x=b;!1!==e&&e!==b?(h=t((x=a.$split(" ")).$size(),3))===b||h.$$is_boolean&&1!=h||(x=x["$[]"](v(0,1,!1)).$push(x["$[]"](v(2,-1,!1)).$join(" "))):(h=C=c.get("AuthorInfoLineRx").$match(a))===
b||h.$$is_boolean&&1!=h||(x=C.$to_a(),x.$shift());if((h=x["$nil?"]())===b||h.$$is_boolean&&1!=h){if(n["$[]="](E["$[]"]("firstname"),C=x["$[]"](0).$tr("_"," ")),n["$[]="](E["$[]"]("author"),C),n["$[]="](E["$[]"]("authorinitials"),C["$[]"](0,1)),(h=(B=x["$[]"](1)["$nil?"]()["$!"](),!1!==B&&B!==b?x["$[]"](2)["$nil?"]()["$!"]():B))===b||h.$$is_boolean&&1!=h?(h=x["$[]"](1)["$nil?"]()["$!"]())===b||h.$$is_boolean&&1!=h||(n["$[]="](E["$[]"]("lastname"),P=x["$[]"](1).$tr("_"," ")),n["$[]="](E["$[]"]("author"),
[C,P].$join(" ")),n["$[]="](E["$[]"]("authorinitials"),[C["$[]"](0,1),P["$[]"](0,1)].$join())):(n["$[]="](E["$[]"]("middlename"),J=x["$[]"](1).$tr("_"," ")),n["$[]="](E["$[]"]("lastname"),P=x["$[]"](2).$tr("_"," ")),n["$[]="](E["$[]"]("author"),[C,J,P].$join(" ")),n["$[]="](E["$[]"]("authorinitials"),[C["$[]"](0,1),J["$[]"](0,1),P["$[]"](0,1)].$join())),(h=!1!==(B=e)&&B!==b?B:x["$[]"](3)["$nil?"]())===b||h.$$is_boolean&&1!=h)n["$[]="](E["$[]"]("email"),x["$[]"](3))}else n["$[]="](E["$[]"]("author"),
n["$[]="](E["$[]"]("firstname"),C=a.$strip().$tr_s(" "," "))),n["$[]="](E["$[]"]("authorinitials"),C["$[]"](0,1));n["$[]="]("authorcount",p(d,1));d["$=="](1)&&(h=(B=q).$each,h.$$p=(w=function(a){var c;null==a&&(a=b);return(c=n["$has_key?"](a))===b||c.$$is_boolean&&1!=c?b:n["$[]="](""+a+"_1",n["$[]"](a))},w.$$s=f,w),h).call(B);return(h=d["$zero?"]())===b||h.$$is_boolean&&1!=h?n["$[]="]("authors",""+n["$[]"]("authors")+", "+n["$[]"](E["$[]"]("author"))):n["$[]="]("authors",n["$[]"](E["$[]"]("author")))},
m.$$s=l,m),f).call(k);return n});a.defs(h,"$parse_block_metadata_lines",function(a,c,e,d){var f;null==e&&(e=r([],{}));for(null==d&&(d=r([],{}));(f=this.$parse_block_metadata_line(a,c,e,d))!==b&&(!f.$$is_boolean||1==f);)a.$advance(),a.$skip_blank_lines();return e});a.defs(h,"$parse_block_metadata_line",function(a,e,d,f){var h,g,k,m=b,l=b,n=b,l=m=b;null==f&&(f=r([],{}));if((h=a["$has_more_lines?"]())===b||h.$$is_boolean&&1!=h)return!1;m=a.$peek_line();if((h=(g=l=m["$start_with?"]("//"),!1!==g&&g!==
b?n=c.get("CommentBlockRx").$match(m):g))!==b&&(!h.$$is_boolean||1==h))m=n["$[]"](0),a.$read_lines_until(r(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:m,skip_processing:!0}));else if((h=(g=!1!==l&&l!==b)?c.get("CommentLineRx")["$=~"](m):l)===b||h.$$is_boolean&&1!=h)if((h=(g=(k=f["$[]"]("text")["$!"](),!1!==k&&k!==b?m["$start_with?"](":"):k),!1!==g&&g!==b?n=c.get("AttributeEntryRx").$match(m):g))!==b&&(!h.$$is_boolean||
1==h))this.$process_attribute_entry(a,e,d,n);else if((h=(g=l=(k=m["$start_with?"]("["),!1!==k&&k!==b?m["$end_with?"]("]"):k),!1!==g&&g!==b?n=c.get("BlockAnchorRx").$match(m):g))===b||h.$$is_boolean&&1!=h)if((h=(g=!1!==l&&l!==b)?n=c.get("BlockAttributeListRx").$match(m):l)===b||h.$$is_boolean&&1!=h){if((h=(g=f["$[]"]("text")["$!"](),!1!==g&&g!==b?n=c.get("BlockTitleRx").$match(m):g))===b||h.$$is_boolean&&1!=h)return!1;d["$[]="]("title",n["$[]"](1))}else e.$document().$parse_attributes(n["$[]"](1),
[],r(["sub_input","into"],{sub_input:!0,into:d}));else if((h=n["$[]"](1)["$nil_or_empty?"]())===b||h.$$is_boolean&&1!=h)if(d["$[]="]("id",n["$[]"](1)),(h=n["$[]"](2)["$nil?"]())===b||h.$$is_boolean&&1!=h)d["$[]="]("reftext",n["$[]"](2));return!0});a.defs(h,"$process_attribute_entries",function(a,c,e){var d;null==e&&(e=b);for(a.$skip_comment_lines();(d=this.$process_attribute_entry(a,c,e))!==b&&(!d.$$is_boolean||1==d);)a.$advance(),a.$skip_comment_lines()});a.defs(h,"$process_attribute_entry",function(a,
e,d,f){var h,g,k=b,m=b,l=b,n=b,q=b,p=b;null==d&&(d=b);null==f&&(f=b);!1!==(h=f)&&h!==b?h:f=(g=a["$has_more_lines?"]())===b||g.$$is_boolean&&1!=g?b:c.get("AttributeEntryRx").$match(a.$peek_line());if(!1!==f&&f!==b){k=f["$[]"](1);if(((h=(m=!1!==(g=f["$[]"](2))&&g!==b?g:"")["$empty?"]())===b||h.$$is_boolean&&1!=h)&&(h=!1!==(g=m["$end_with?"](l=c.get("LINE_CONTINUATION")))&&g!==b?g:m["$end_with?"](l=c.get("LINE_CONTINUATION_LEGACY")))!==b&&(!h.$$is_boolean||1==h))for(m=m.$chop().$rstrip();(g=a.$advance())!==
b&&(!g.$$is_boolean||1==g)&&((g=(n=a.$peek_line().$strip())["$empty?"]())===b||g.$$is_boolean&&1!=g)&&((g=q=n["$end_with?"](l))===b||g.$$is_boolean&&1!=g||(n=n.$chop().$rstrip()),p=(g=m["$end_with?"](c.get("LINE_BREAK")))===b||g.$$is_boolean&&1!=g?" ":c.get("EOL"),m=""+m+p+n,!1!==q&&q!==b););this.$store_attribute(k,m,!1!==e&&e!==b?e.$document():b,d);return!0}return!1});a.defs(h,"$store_attribute",function(a,e,d,f){var h,g=b,g=b;null==d&&(d=b);null==f&&(f=b);(h=a["$end_with?"]("!"))===b||h.$$is_boolean&&
1!=h?(h=a["$start_with?"]("!"))===b||h.$$is_boolean&&1!=h||(e=b,a=a["$[]"](v(1,-1,!1))):(e=b,a=a.$chop());a=this.$sanitize_attribute_name(a);g=!0;!1!==d&&d!==b&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&!1!==e&&e!==b&&(g=e.$chr(),"+"["$==="](g)?e=p(d.$attr("leveloffset",0).$to_i(),(!1!==(h=e["$[]"](v(1,-1,!1)))&&h!==b?h:0).$to_i()).$to_s():"-"["$==="](g)&&(e=k(d.$attr("leveloffset",0).$to_i(),(!1!==(h=e["$[]"](v(1,-1,!1)))&&h!==b?h:0).$to_i()).$to_s())),g=!1!==e&&e!==b?d.$set_attribute(a,
e):d.$delete_attribute(a));(h=!1!==g&&g!==b?f:g)===b||h.$$is_boolean&&1!=h||(!1!==e&&e!==b&&(e=d.$attributes()["$[]"](a)),c.get("Document").$$scope.get("AttributeEntry").$new(a,e).$save_to(f));return[a,e]});a.defs(h,"$resolve_list_marker",function(a,c,e,d,f){var h;null==e&&(e=0);null==d&&(d=!1);null==f&&(f=b);return(h=a["$=="]("olist")?c["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||h.$$is_boolean&&1!=h?a["$=="]("colist")?"<1>":c:this.$resolve_ordered_list_marker(c,e,d,f)});a.defs(h,"$resolve_ordered_list_marker",
function(a,e,d,f){var h,g,k,m=b,l=b,n=b,m=b;null==e&&(e=0);null==d&&(d=!1);null==f&&(f=b);m=(h=(g=c.get("ORDERED_LIST_STYLES")).$detect,h.$$p=(k=function(e){null==e&&(e=b);return c.get("OrderedListMarkerRxMap")["$[]"](e)["$=~"](a)},k.$$s=this,k),h).call(g);l=n=b;"arabic"["$==="](m)?(!1!==d&&d!==b&&(l=p(e,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](m)?(!1!==d&&d!==b&&(l=p("a"["$[]"](0).$ord(),e).$chr(),n=a.$chomp(".")),a="a."):"upperalpha"["$==="](m)?(!1!==d&&d!==b&&(l=p("A"["$[]"](0).$ord(),e).$chr(),
n=a.$chomp(".")),a="A."):"lowerroman"["$==="](m)?(!1!==d&&d!==b&&(l=p(e,1),n=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](m)&&(!1!==d&&d!==b&&(l=p(e,1),n=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(h=!1!==d&&d!==b?l["$!="](n):d)===b||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+l+", got "+n);return a});a.defs(h,"$is_sibling_list_item?",function(e,d,f){var h,g=b,k=b,m=b;(h=f["$is_a?"](a.get("Regexp")))===
b||h.$$is_boolean&&1!=h?(g=c.get("ListRxMap")["$[]"](d),k=f):(g=f,k=!1);return(h=m=g.$match(e))===b||h.$$is_boolean&&1!=h?!1:!1!==k&&k!==b?k["$=="](this.$resolve_list_marker(d,m["$[]"](1))):!0});a.defs(h,"$next_table",function(e,d,f){var h,g,k,m,l,n=b,q=b,r=b,t=b,u=b,B=b,w=b,x=b,J=b,G=b,O=b,w=b,n=c.get("Table").$new(d,f);(h=f["$has_key?"]("title"))===b||h.$$is_boolean&&1!=h||(h=[f.$delete("title")],g=n,g["$title="].apply(g,h),h[h.length-1],n.$assign_caption(f.$delete("caption")));(h=(g=f["$key?"]("cols"),
!1!==g&&g!==b?(q=this.$parse_col_specs(f["$[]"]("cols")))["$empty?"]()["$!"]():g))===b||h.$$is_boolean&&1!=h?r=!1:(n.$create_columns(q),r=!0);t=e.$skip_blank_lines();u=c.get("Table").$$scope.get("ParserContext").$new(e,n,f);for(B=-1;(g=e["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);){B=p(B,1);w=e.$read_line();(g=(k=(m=(l=t["$=="](0)?B["$zero?"]():t["$=="](0),!1!==l&&l!==b?f["$has_key?"]("options")["$!"]():l),!1!==m&&m!==b?(x=e.$peek_line())["$nil?"]()["$!"]():m),!1!==k&&k!==b?x["$empty?"]():
k))===b||g.$$is_boolean&&1!=g||(g=[!0],k=n,k["$has_header_option="].apply(k,g),g[g.length-1],n.$set_option("header"));u.$format()["$=="]("psv")&&((g=u["$starts_with_delimiter?"](w))===b||g.$$is_boolean&&1!=g?(k=this.$parse_cell_spec(w,"start",u.$delimiter()),g=a.to_ary(k),J=null==g[0]?b:g[0],w=null==g[1]?b:g[1],k,(g=J["$nil?"]()["$!"]())===b||g.$$is_boolean&&1!=g||u.$close_open_cell(J)):(w=w["$[]"](v(1,-1,!1)),u.$close_open_cell()));for(G=!1;(k=!1!==(m=G["$!"]())&&m!==b?m:w["$empty?"]()["$!"]())!==
b&&(!k.$$is_boolean||1==k);)if(G=!0,(k=O=u.$match_delimiter(w))===b||k.$$is_boolean&&1!=k)k=[""+u.$buffer()+w+c.get("EOL")],m=u,m["$buffer="].apply(m,k),k[k.length-1],u.$format()["$=="]("csv")&&(k=[""+u.$buffer().$rstrip()+" "],m=u,m["$buffer="].apply(m,k),k[k.length-1]),w="",(k=!1!==(m=u.$format()["$=="]("psv"))&&m!==b?m:(l=u.$format()["$=="]("csv"))?u["$buffer_has_unclosed_quotes?"]():u.$format()["$=="]("csv"))===b||k.$$is_boolean&&1!=k?u.$close_cell(!0):u.$keep_cell_open();else{if(u.$format()["$=="]("csv")){if((k=
u["$buffer_has_unclosed_quotes?"](O.$pre_match()))!==b&&(!k.$$is_boolean||1==k)){w=u.$skip_matched_delimiter(O);continue}}else if((k=O.$pre_match()["$end_with?"]("\\"))!==b&&(!k.$$is_boolean||1==k)){if((k=(w=u.$skip_matched_delimiter(O,!0))["$empty?"]())!==b&&(!k.$$is_boolean||1==k)){k=[""+u.$buffer()+c.get("EOL")];m=u;m["$buffer="].apply(m,k);k[k.length-1];u.$keep_cell_open();break}continue}u.$format()["$=="]("psv")?(m=this.$parse_cell_spec(O.$pre_match(),"end"),k=a.to_ary(m),J=null==k[0]?b:k[0],
w=null==k[1]?b:k[1],m,u.$push_cell_spec(J),k=[""+u.$buffer()+w]):k=[""+u.$buffer()+O.$pre_match()];m=u;m["$buffer="].apply(m,k);k[k.length-1];(w=O.$post_match())["$=="]("")&&(G=!1);u.$close_cell()}if((g=u["$cell_open?"]())===b||g.$$is_boolean&&1!=g)t=e.$skip_blank_lines();if((g=e["$has_more_lines?"]())===b||g.$$is_boolean&&1!=g)(g=u["$cell_open?"]())===b||g.$$is_boolean&&1!=g||u.$close_cell(!0)}((h=!1!==(g=(k="colcount",m=n.$attributes(),!1!==(l=m["$[]"](k))&&l!==b?l:m["$[]="](k,n.$columns().$size()))["$=="](0))&&
g!==b?g:r)===b||h.$$is_boolean&&1!=h)&&n.$assign_col_widths();n.$partition_header_footer(f);return n});a.defs(h,"$parse_col_specs",function(e){var d,f,h,g,k,m=b;(d=e["$include?"](" "))===b||d.$$is_boolean&&1!=d||(e=e.$tr(" ",""));if(e["$=="](e.$to_i().$to_s()))return(d=(f=a.get("Array")).$new,d.$$p=(h=function(){return r(["width"],{width:1})},h.$$s=this,h),d).call(f,e.$to_i());m=[];(d=(g=e.$split(",",-1)).$each,d.$$p=(k=function(e){var d=k.$$s||this,f,h,g,l=b,n=b,q=b,p=b;null==e&&(e=b);if(e["$=="](""))return m["$<<"](r(["width"],
{width:1}));if((f=l=c.get("ColumnSpecRx").$match(e))===b||f.$$is_boolean&&1!=f)return b;n=r([],{});if((f=l["$[]"](2))!==b&&(!f.$$is_boolean||1==f)){h=l["$[]"](2).$split(".");f=a.to_ary(h);q=null==f[0]?b:f[0];p=null==f[1]?b:f[1];h;if((f=(h=q["$nil_or_empty?"]()["$!"](),!1!==h&&h!==b?c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](q):h))!==b&&(!f.$$is_boolean||1==f))n["$[]="]("halign",c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](q));if((f=(h=p["$nil_or_empty?"]()["$!"](),
!1!==h&&h!==b?c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](p):h))!==b&&(!f.$$is_boolean||1==f))n["$[]="]("valign",c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](p))}n["$[]="]("width",(f=l["$[]"](3))===b||f.$$is_boolean&&1!=f?1:l["$[]"](3).$to_i());if((f=(h=l["$[]"](4),!1!==h&&h!==b?c.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](l["$[]"](4)):h))!==b&&(!f.$$is_boolean||1==f))n["$[]="]("style",c.get("Table").$$scope.get("TEXT_STYLES")["$[]"](l["$[]"](4)));return(f=
l["$[]"](1))===b||f.$$is_boolean&&1!=f?m["$<<"](n):(f=(h=1).$upto,f.$$p=(g=function(){return m["$<<"](n.$dup())},g.$$s=d,g),f).call(h,l["$[]"](1).$to_i())},k.$$s=this,k),d).call(g);return m});a.defs(h,"$parse_cell_spec",function(e,d,f){var h,g,k=b,m=b,l=b,n=l=k=b,q=b;null==d&&(d="start");null==f&&(f=b);k=b;m="";l=d;if("start"["$==="](l)){if((h=e["$include?"](f))===b||h.$$is_boolean&&1!=h)return[b,e];g=e.$split(f,2);h=a.to_ary(g);k=null==h[0]?b:h[0];m=null==h[1]?b:h[1];g;if((h=k=c.get("CellSpecStartRx").$match(k))===
b||h.$$is_boolean&&1!=h)return[b,e];if((h=k["$[]"](0)["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return[r([],{}),m]}else if("end"["$==="](l)){if((h=k=c.get("CellSpecEndRx").$match(e))===b||h.$$is_boolean&&1!=h)return[r([],{}),e];if((h=k["$[]"](0).$lstrip()["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return[r([],{}),e.$rstrip()];m=k.$pre_match()}l=r([],{});if((h=k["$[]"](1))!==b&&(!h.$$is_boolean||1==h))if(g=k["$[]"](1).$split("."),h=a.to_ary(g),n=null==h[0]?b:h[0],q=null==h[1]?b:h[1],g,n=(h=n["$nil_or_empty?"]())===
b||h.$$is_boolean&&1!=h?n.$to_i():1,q=(h=q["$nil_or_empty?"]())===b||h.$$is_boolean&&1!=h?q.$to_i():1,k["$[]"](2)["$=="]("+")){if(!n["$=="](1))l["$[]="]("colspan",n);if(!q["$=="](1))l["$[]="]("rowspan",q)}else if(k["$[]"](2)["$=="]("*")&&!n["$=="](1))l["$[]="]("repeatcol",n);if((h=k["$[]"](3))!==b&&(!h.$$is_boolean||1==h)){g=k["$[]"](3).$split(".");h=a.to_ary(g);n=null==h[0]?b:h[0];q=null==h[1]?b:h[1];g;if((h=(g=n["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):
g))!==b&&(!h.$$is_boolean||1==h))l["$[]="]("halign",c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((h=(g=q["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](q):g))!==b&&(!h.$$is_boolean||1==h))l["$[]="]("valign",c.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](q))}if((h=(g=k["$[]"](4),!1!==g&&g!==b?c.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](k["$[]"](4)):g))!==b&&(!h.$$is_boolean||1==h))l["$[]="]("style",
c.get("Table").$$scope.get("TEXT_STYLES")["$[]"](k["$[]"](4)));return[l,m]});a.defs(h,"$parse_style_attribute",function(a,e){var d,f,h,g,k,m,n,q=b,t=b,u=b,v=b,B=b,w=b,x=t=h=b;null==e&&(e=b);q=a["$[]"]("style");t=a["$[]"](1);if((d=(f=(h=!1!==t&&t!==b)?t["$include?"](" ")["$!"]():t,!1!==f&&f!==b?c.get("Compliance").$shorthand_property_syntax():f))===b||d.$$is_boolean&&1!=d)return a["$[]="]("style",t),[t,q];u="style";v=[];B=r([],{});w=(d=(f=this).$lambda,d.$$p=(g=function(){var a=g.$$s||this,c,d,f=b;
return(c=v["$empty?"]())===b||c.$$is_boolean&&1!=c?(f=u,"role"["$==="](f)||"option"["$==="](f)?(c=u,a=B,!1!==(d=a["$[]"](c))&&d!==b?d:a["$[]="](c,[]),B["$[]"](u).$push(v.$join())):("id"["$==="](f)&&((c=B["$has_key?"]("id"))===b||c.$$is_boolean&&1!=c||a.$warn("asciidoctor: WARNING:"+((c=e["$nil?"]())===b||c.$$is_boolean&&1!=c?" "+e.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),B["$[]="](u,v.$join())),v=[]):(c=u["$!="]("style"))===b||c.$$is_boolean&&1!=c?b:a.$warn("asciidoctor: WARNING:"+
((c=e["$nil?"]())===b||c.$$is_boolean&&1!=c?" "+e.$prev_line_info()+":":b)+" invalid empty "+u+" detected in style attribute")},g.$$s=this,g),d).call(f);(d=(h=t).$each_char,d.$$p=(k=function(a){var c,e,d,f=b;null==a&&(a=b);if((c=!1!==(e=!1!==(d=a["$=="]("."))&&d!==b?d:a["$=="]("#"))&&e!==b?e:a["$=="]("%"))===b||c.$$is_boolean&&1!=c)return v.$push(a);w.$call();f=a;return"."["$==="](f)?u="role":"#"["$==="](f)?u="id":"%"["$==="](f)?u="option":b},k.$$s=this,k),d).call(h);if(u["$=="]("style"))h=a["$[]="]("style",
t);else{w.$call();h=(d=B["$has_key?"]("style"))===b||d.$$is_boolean&&1!=d?b:a["$[]="]("style",B["$[]"]("style"));if((d=B["$has_key?"]("id"))!==b&&(!d.$$is_boolean||1==d))a["$[]="]("id",B["$[]"]("id"));if((d=B["$has_key?"]("role"))!==b&&(!d.$$is_boolean||1==d))a["$[]="]("role",l(B["$[]"]("role")," "));if((d=B["$has_key?"]("option"))!==b&&(!d.$$is_boolean||1==d))if((d=(m=t=B["$[]"]("option")).$each,d.$$p=(n=function(c){null==c&&(c=b);return a["$[]="](""+c+"-option","")},n.$$s=this,n),d).call(m),(d=
x=a["$[]"]("options"))===b||d.$$is_boolean&&1!=d)a["$[]="]("options",l(t,","));else a["$[]="]("options",l(p(t,x.$split(",")),","))}return[h,q]});a.defs(h,"$adjust_indentation!",function(a,e,d){var h,g,m,n,q,r,u,B=b,w=b,x=b;null==e&&(e=0);null==d&&(d=0);if((h=a["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return b;(h=(g=t(d=d.$to_i(),0),!1!==g&&g!==b?a.$join()["$include?"](c.get("TAB")):g))===b||h.$$is_boolean&&1!=h||(B=l(" ",d),(h=(g=a)["$map!"],h.$$p=(m=function(a){var e=m.$$s||this,h,g,n,q,r,t=b;
null==a&&(a=b);if((h=a["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return a;(h=a["$start_with?"](c.get("TAB")))===b||h.$$is_boolean&&1!=h||(h=(g=a)["$sub!"],h.$$p=(n=function(a){null==a&&(a=b);return l(B,a.$length())},n.$$s=e,n),h).call(g,c.get("TabIndentRx"));if((h=a["$include?"](c.get("TAB")))===b||h.$$is_boolean&&1!=h)return a;t=0;return(h=(q=a)["$gsub!"],h.$$p=(r=function(){var a=b,c=b;null==f["~"]&&(f["~"]=b);if((a=p(f["~"].$begin(0),t))["$%"](d)["$=="](0))return t=p(t,k(d,1)),B;(c=k(d,a["$%"](d)))["$=="](1)||
(t=p(t,k(c,1)));return l(" ",c)},r.$$s=e,r),h).call(q,c.get("TabRx"))},m.$$s=this,m),h).call(g));if((h=(g=!1!==e&&e!==b)?t(e=e.$to_i(),-1):e)===b||h.$$is_boolean&&1!=h)return b;w=b;(h=(g=a).$each,h.$$p=(n=function(a){var c,e=b;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?(e=k(a.$length(),a.$lstrip().$length()))["$=="](0)?(w=b,z.$v=b,z):(c=!1!==w&&w!==b?t(e,w):w)===b||c.$$is_boolean&&1!=c?w=e:b:b},n.$$s=this,n),h).call(g);e["$=="](0)?!1!==w&&w!==b&&(h=a["$map!"],h.$$p=(q=function(a){var c;
null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?a["$[]"](v(w,-1,!1)):a},q.$$s=this,q),h).call(a):(x=l(" ",e),!1!==w&&w!==b?(h=a["$map!"],h.$$p=(r=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?p(x,a["$[]"](v(w,-1,!1))):a},r.$$s=this,r),h).call(a):(h=a["$map!"],h.$$p=(u=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||c.$$is_boolean&&1!=c?p(x,a):a},u.$$s=this,u),h).call(a));return b});a.defs(h,"$sanitize_attribute_name",function(a){return a.$gsub(c.get("InvalidAttributeNameCharsRx"),
"").$downcase()});return(a.defs(h,"$roman_numeral_to_int",function(a){var c,e,f,h=b,g=b;a=a.$downcase();h=r(["i","v","x"],{i:1,v:5,x:10});g=0;(c=(e=v(0,k(a.$length(),1),!1)).$each,c.$$p=(f=function(c){var e,f,m=b;null==c&&(c=b);m=h["$[]"](a["$[]"](v(c,c,!1)));return(e=(f=d(p(c,1),a.$length()),!1!==f&&f!==b?t(h["$[]"](a["$[]"](v(p(c,1),p(c,1),!1))),m):f))===b||e.$$is_boolean&&1!=e?g=p(g,m):g=k(g,m)},f.$$s=this,f),c).call(e);return g}),b)&&"roman_numeral_to_int"})(x(m,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var t=a.nil,l=a.module,g=a.klass,k=a.hash2,e=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $uri_prefix $<< $+ $chomp".split(" "));
return function(d){(function(b,$super){function d(){}var l=d=g(b,$super,"PathResolver",d),r=l.$$proto,n=l.$$scope;r.file_separator=r._partition_path_web=r._partition_path_sys=r.working_dir=t;a.cdecl(n,"DOT",".");a.cdecl(n,"DOT_DOT","..");a.cdecl(n,"DOT_SLASH","./");a.cdecl(n,"SLASH","/");a.cdecl(n,"BACKSLASH","\\");a.cdecl(n,"DOUBLE_SLASH","//");a.cdecl(n,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);l.$attr_accessor("file_separator");l.$attr_accessor("working_dir");a.defn(l,"$initialize",function(b,e){var d;
null==b&&(b=t);null==e&&(e=t);this.file_separator=!1!==b&&b!==t?b:!1!==(d=a.get("File").$$scope.get("ALT_SEPARATOR"))&&d!==t?d:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==e&&e!==t?(d=this["$is_root?"](e))===t||d.$$is_boolean&&1!=d?a.get("File").$expand_path(e):e:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=k([],{});return this._partition_path_web=k([],{})});a.defn(l,"$is_root?",function(b){var e,d,g;return(e=b["$start_with?"](n.get("SLASH")))===t||e.$$is_boolean&&
1!=e?(e=this.file_separator["$=="](n.get("BACKSLASH"))?n.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](n.get("BACKSLASH")))===t||e.$$is_boolean&&1!=e?(e=(d=(g=a.get("RUBY_ENGINE_OPAL"),!1!==g&&g!==t?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):g),!1!==d&&d!==t?b["$start_with?"]("file:///"):d))===t||e.$$is_boolean&&1!=e?!1:!0:!0:!0});a.defn(l,"$is_unc?",function(a){return a["$start_with?"](n.get("DOUBLE_SLASH"))});a.defn(l,"$is_web_root?",function(a){return a["$start_with?"](n.get("SLASH"))});
a.defn(l,"$posixfy",function(a){var b;return(b=a["$nil_or_empty?"]())===t||b.$$is_boolean&&1!=b?(b=a["$include?"](n.get("BACKSLASH")))===t||b.$$is_boolean&&1!=b?a:a.$tr(n.get("BACKSLASH"),n.get("SLASH")):""});a.defn(l,"$expand_path",function(b){var e,d=t;e=t;b=this.$partition_path(b);e=a.to_ary(b);d=null==e[0]?t:e[0];e=null==e[1]?t:e[1];b;return this.$join_path(d,e)});a.defn(l,"$partition_path",function(a,b){var d,g=t,k=g=t,l=t;null==b&&(b=!1);if((d=g=!1!==b&&b!==t?this._partition_path_web["$[]"](a):
this._partition_path_sys["$[]"](a))!==t&&(!d.$$is_boolean||1==d))return g;g=this.$posixfy(a);k=!1!==b&&b!==t?(d=this["$is_web_root?"](g))===t||d.$$is_boolean&&1!=d?(d=g["$start_with?"](n.get("DOT_SLASH")))===t||d.$$is_boolean&&1!=d?t:n.get("DOT_SLASH"):n.get("SLASH"):(d=this["$is_root?"](g))===t||d.$$is_boolean&&1!=d?(d=g["$start_with?"](n.get("DOT_SLASH")))===t||d.$$is_boolean&&1!=d?t:n.get("DOT_SLASH"):(d=this["$is_unc?"](g))===t||d.$$is_boolean&&1!=d?(d=g["$start_with?"](n.get("SLASH")))===t||
d.$$is_boolean&&1!=d?g["$[]"](e(0,g.$index(n.get("SLASH")),!1)):n.get("SLASH"):n.get("DOUBLE_SLASH");l=g.$split(n.get("SLASH"));k["$=="](n.get("DOUBLE_SLASH"))?l=l["$[]"](e(2,-1,!1)):!1!==k&&k!==t&&l.$shift();l.$delete(n.get("DOT"));return(!1!==b&&b!==t?this._partition_path_web:this._partition_path_sys)["$[]="](a,[l,k,g])});a.defn(l,"$join_path",function(a,b){null==b&&(b=t);return!1!==b&&b!==t?""+b+p(a,n.get("SLASH")):p(a,n.get("SLASH"))});a.defn(l,"$system_path",function(b,e,d,g){var l,q,h,c=t,p=
t,r=t,w=t,x=t,E=x=r=t,A=t;null==d&&(d=t);null==g&&(g=k([],{}));!1!==d&&d!==t&&(((l=this["$is_root?"](d))===t||l.$$is_boolean&&1!=l)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+d),d=this.$posixfy(d));(l=b["$nil_or_empty?"]())===t||l.$$is_boolean&&1!=l?(q=this.$partition_path(b),l=a.to_ary(q),c=null==l[0]?t:l[0],p=null==l[1]?t:l[1],q):c=[];if((l=c["$empty?"]())!==t&&(!l.$$is_boolean||1==l))if((l=e["$nil_or_empty?"]())===t||l.$$is_boolean&&1!=l){if((l=this["$is_root?"](e))===
t||l.$$is_boolean&&1!=l)return this.$system_path(e,d,d,g);if(!1===d||d===t)return this.$expand_path(e)}else return!1!==d&&d!==t?d:this.working_dir;if(!((l=(q=!1!==p&&p!==t)?p["$!="](n.get("DOT_SLASH")):p)===t||l.$$is_boolean&&1!=l||(r=this.$join_path(c,p),(l=!1!==(q=d["$!"]())&&q!==t?q:r["$start_with?"](d))===t||l.$$is_boolean&&1!=l)))return r;e=(l=e["$nil_or_empty?"]())===t||l.$$is_boolean&&1!=l?(l=this["$is_root?"](e))===t||l.$$is_boolean&&1!=l?this.$system_path(e,d,d,g):this.$posixfy(e):!1!==d&&
d!==t?d:this.working_dir;d["$=="](e)?(q=this.$partition_path(d),l=a.to_ary(q),w=null==l[0]?t:l[0],x=null==l[1]?t:l[1],q,r=w.$dup()):(!1!==d&&d!==t?(((l=e["$start_with?"](d))===t||l.$$is_boolean&&1!=l)&&this.$raise(a.get("SecurityError"),""+(!1!==(l=g["$[]"]("target_name"))&&l!==t?l:"Start path")+" "+e+" is outside of jail: "+d+" (disallowed in safe mode)"),q=this.$partition_path(e),l=a.to_ary(q),r=null==l[0]?t:l[0],x=null==l[1]?t:l[1],q,q=this.$partition_path(d),l=a.to_ary(q),w=null==l[0]?t:l[0]):
(q=this.$partition_path(e),l=a.to_ary(q),r=null==l[0]?t:l[0]),x=null==l[1]?t:l[1],q);E=r.$dup();A=!1;(l=(q=c).$each,l.$$p=(h=function(c){var e=h.$$s||this,f;null==c&&(c=t);if(c["$=="](n.get("DOT_DOT"))){if(!1!==d&&d!==t){c=E.$length();var k=w.$length();if((f="number"===typeof c&&"number"===typeof k?c>k:c["$>"](k))===t||f.$$is_boolean&&1!=f){if((f=(!1!==t&&t!==t?t:g.$fetch("recover",!0))["$!"]())===t||f.$$is_boolean&&1!=f){if((f=A["$!"]())===t||f.$$is_boolean&&1!=f)return t;e.$warn("asciidoctor: WARNING: "+
(!1!==(f=g["$[]"]("target_name"))&&f!==t?f:"path")+" has illegal reference to ancestor of jail, auto-recovering");return A=!0}return e.$raise(a.get("SecurityError"),""+(!1!==(f=g["$[]"]("target_name"))&&f!==t?f:"path")+" "+b+" refers to location outside jail: "+d+" (disallowed in safe mode)")}}return E.$pop()}return E.$push(c)},h.$$s=this,h),l).call(q);return this.$join_path(E,x)});a.defn(l,"$web_path",function(b,d){var g,k,l,q=t,h=t,c=t,p=t;null==d&&(d=t);b=this.$posixfy(b);d=this.$posixfy(d);q=
t;if((g=!1!==(k=d["$nil_or_empty?"]())&&k!==t?k:this["$is_web_root?"](b))===t||g.$$is_boolean&&1!=g)b=""+d+n.get("SLASH")+b,(g=q=n.get("Helpers").$uri_prefix(b))===t||g.$$is_boolean&&1!=g||(b=b["$[]"](e(q.$length(),-1,!1)));k=this.$partition_path(b,!0);g=a.to_ary(k);h=null==g[0]?t:g[0];c=null==g[1]?t:g[1];k;p=[];(g=(k=h).$each,g.$$p=(l=function(a){var b;null==a&&(a=t);return a["$=="](n.get("DOT_DOT"))?(b=p["$empty?"]())===t||b.$$is_boolean&&1!=b?p["$[]"](-1)["$=="](n.get("DOT_DOT"))?p["$<<"](a):p.$pop():
(b=!1!==c&&c!==t?c["$!="](n.get("DOT_SLASH")):c)===t||b.$$is_boolean&&1!=b?p["$<<"](a):t:p["$<<"](a)},l.$$s=this,l),g).call(k);return!1!==q&&q!==t?""+q+this.$join_path(p,c):this.$join_path(p,c)});return(a.defn(l,"$relative_path",function(a,b){var d,g,k=t;if((d=(g=this["$is_root?"](a),!1!==g&&g!==t?this["$is_root?"](b):g))===t||d.$$is_boolean&&1!=d)return a;d=b.$chomp(this.file_separator).$length();k="number"===typeof d?d+1:d["$+"](1);return a["$[]"](e(k,-1,!1))}),t)&&"relative_path"})(l(d,"Asciidoctor").$$scope.base,
null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}a.dynamic_require_severity="ignore";var e=a.nil,d=a.breaker,b=
a.module,z=a.klass,x=a.hash2,w=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $is_a? $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $=== $detect $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(r){r=b(r,"Asciidoctor").$$scope;(function(b,$super){function f(){}var k=f=z(b,$super,"Reader",f),r=k.$$proto,y=k.$$scope,q;r.file=r.dir=r.lines=r.process_lines=r.look_ahead=r.eof=r.unescape_next_line=r.lineno=r.path=r.source_lines=e;(function(b,$super){function d(){}var f=d=z(b,$super,"Cursor",d);f.$attr_accessor("file");f.$attr_accessor("dir");f.$attr_accessor("path");f.$attr_accessor("lineno");a.defn(f,"$initialize",function(a,b,d,f){null==b&&(b=e);null==d&&(d=e);null==f&&(f=e);
this.file=a;this.dir=b;this.path=d;return this.lineno=f});a.defn(f,"$line_info",function(){return""+this.$path()+": line "+this.$lineno()});return a.alias(f,"to_s","line_info")})(y.base,null);k.$attr_reader("file");k.$attr_reader("dir");k.$attr_reader("path");k.$attr_reader("lineno");k.$attr_reader("source_lines");k.$attr_accessor("process_lines");a.defn(k,"$initialize",function(b,c,d){var f;null==b&&(b=e);null==c&&(c=e);null==d&&(d=x(["normalize"],{normalize:!1}));if((f=c["$!"]())===e||f.$$is_boolean&&
1!=f)if((f=c["$is_a?"](a.get("String")))===e||f.$$is_boolean&&1!=f){this.file=c.$file();this.dir=c.$dir();this.path=!1!==(f=c.$path())&&f!==e?f:"<stdin>";if((f=this.file)!==e&&(!f.$$is_boolean||1==f)){if((f=this.dir)===e||f.$$is_boolean&&1!=f)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=e);if((f=c.$path())===e||f.$$is_boolean&&1!=f)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(f=c.$lineno())&&f!==e?f:1}else this.file=c,c=a.get("File").$split(this.file),
f=a.to_ary(c),this.dir=null==f[0]?e:f[0],this.path=null==f[1]?e:f[1],c,this.lineno=1;else this.file=this.dir=e,this.path="<stdin>",this.lineno=1;this.lines=!1!==b&&b!==e?this.$prepare_lines(b,d):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1});a.defn(k,"$prepare_lines",function(b,c){var d;null==c&&(c=x([],{}));return(d=b["$is_a?"](a.get("String")))===e||d.$$is_boolean&&1!=d?(d=c["$[]"]("normalize"))===
e||d.$$is_boolean&&1!=d?b.$dup():y.get("Helpers").$normalize_lines_array(b):(d=c["$[]"]("normalize"))===e||d.$$is_boolean&&1!=d?b.$split(y.get("EOL")):y.get("Helpers").$normalize_lines_from_string(b)});a.defn(k,"$process_line",function(a){var b;(b=this.process_lines)===e||b.$$is_boolean&&1!=b||(this.look_ahead=p(this.look_ahead,1));return a});a.defn(k,"$has_more_lines?",function(){var a;return(!1!==(a=this.eof)&&a!==e?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()});a.defn(k,"$next_line_empty?",
function(){return this.$peek_line()["$nil_or_empty?"]()});a.defn(k,"$peek_line",function(a){var b,d,f=e;null==a&&(a=!1);if((b=!1!==(d=a)&&d!==e?d:t(this.look_ahead,0))===e||b.$$is_boolean&&1!=b){if((b=!1!==(d=this.eof)&&d!==e?d:this.lines["$empty?"]())===e||b.$$is_boolean&&1!=b)return(b=(f=this.$process_line(this.lines["$[]"](0)))["$!"]())===e||b.$$is_boolean&&1!=b?f:this.$peek_line();this.eof=!0;this.look_ahead=0;return e}return(b=this.unescape_next_line)===e||b.$$is_boolean&&1!=b?this.lines["$[]"](0):
this.lines["$[]"](0)["$[]"](w(1,-1,!1))});a.defn(k,"$peek_lines",function(a,b){var f,g,k,m,l,n=e,q=e;null==a&&(a=1);null==b&&(b=!0);n=this.look_ahead;q=[];(f=(g=a).$times,f.$$p=(k=function(){var a,f=e;return(a=f=(k.$$s||this).$read_line(b))===e||a.$$is_boolean&&1!=a?(d.$v=e,d):q["$<<"](f)},k.$$s=this,k),f).call(g);if((f=q["$empty?"]())===e||f.$$is_boolean&&1!=f)(f=(m=q).$reverse_each,f.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=e);return b.$unshift(a)},l.$$s=this,l),f).call(m),!1!==b&&b!==e&&
(this.look_ahead=n);return q});a.defn(k,"$read_line",function(a){var b,d,f;null==a&&(a=!1);return(b=!1!==(d=!1!==(f=a)&&f!==e?f:t(this.look_ahead,0))&&d!==e?d:this["$has_more_lines?"]())===e||b.$$is_boolean&&1!=b?e:this.$shift()});a.defn(k,"$read_lines",function(){for(var a,b=e,b=[];(a=this["$has_more_lines?"]())!==e&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b});a.alias(k,"readlines","read_lines");a.defn(k,"$read",function(){return l(this.$read_lines(),y.get("EOL"))});a.defn(k,"$advance",
function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()});a.defn(k,"$unshift_line",function(a){this.$unshift(a);return e});a.alias(k,"restore_line","unshift_line");a.defn(k,"$unshift_lines",function(a){var b,d;(b=a.$reverse_each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b.$unshift(a)},d.$$s=this,d),b).call(a);return e});a.alias(k,"restore_lines","unshift_lines");a.defn(k,"$replace_next_line",function(a){this.$advance();this.$unshift(a);return e});a.alias(k,"replace_line",
"replace_next_line");a.defn(k,"$skip_blank_lines",function(){var a,b,d=e,f=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||1==a))return 0;for(d=0;!((b=f=this.$peek_line())===e||b.$$is_boolean&&1!=b||(b=f["$empty?"]())===e||b.$$is_boolean&&1!=b);)this.$advance(),d=p(d,1);return d});a.defn(k,"$skip_comment_lines",function(b){var c,d,f=e,g=e,k=e,l=e,m=e;null==b&&(b=x([],{}));if((c=this["$eof?"]())!==e&&(!c.$$is_boolean||1==c))return[];f=[];for(g=b["$[]"]("include_blank_lines");(d=k=this.$peek_line())!==
e&&(!d.$$is_boolean||1==d);)if((d=(b=!1!==g&&g!==e)?k["$empty?"]():g)===e||d.$$is_boolean&&1!=d)if((d=(b=l=k["$start_with?"]("//"),!1!==b&&b!==e?m=y.get("CommentBlockRx").$match(k):b))===e||d.$$is_boolean&&1!=d)if((b=!1!==l&&l!==e?y.get("CommentLineRx")["$=~"](k):l)===e||b.$$is_boolean&&1!=b)break;else f["$<<"](this.$shift());else f["$<<"](this.$shift()),(d=f).$push.apply(d,a.to_a(this.$read_lines_until(x(["terminator","read_last_line","skip_processing"],{terminator:m["$[]"](0),read_last_line:!0,
skip_processing:!0}))));else f["$<<"](this.$shift());return f});a.defn(k,"$skip_line_comments",function(){var a,b,d=e,f=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||1==a))return[];for(d=[];!((b=f=this.$peek_line())===e||b.$$is_boolean&&1!=b||(b=y.get("CommentLineRx")["$=~"](f))===e||b.$$is_boolean&&1!=b);)d["$<<"](this.$shift());return d});a.defn(k,"$terminate",function(){this.lineno=p(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return e});a.defn(k,"$eof?",
function(){return this["$has_more_lines?"]()["$!"]()});a.alias(k,"empty?","eof?");a.defn(k,"$read_lines_until",q=function(b){var c,f,k,l,m,n=q.$$p||e,p=e,r=e,t=e,u=e,w=e,z=e,I=e,K=e,S=e,Q=e;null==b&&(b=x([],{}));q.$$p=null;p=[];(c=b["$[]"]("skip_first_line"))===e||c.$$is_boolean&&1!=c||this.$advance();(c=(f=this.process_lines,!1!==f&&f!==e?b["$[]"]("skip_processing"):f))===e||c.$$is_boolean&&1!=c?r=!1:(this.process_lines=!1,r=!0);(c=t=b["$[]"]("terminator"))===e||c.$$is_boolean&&1!=c?(u=b["$[]"]("break_on_blank_lines"),
w=b["$[]"]("break_on_list_continuation")):w=u=!1;z=b["$[]"]("skip_line_comments");for(S=K=I=!1;(f=(k=S["$!"](),!1!==k&&k!==e?Q=this.$read_line():k))!==e&&(!f.$$is_boolean||1==f);)if(S=function(){for(;(k=!0)!==e&&(!k.$$is_boolean||1==k);)return((k=(l=!1!==t&&t!==e)?Q["$=="](t):t)===e||k.$$is_boolean&&1!=k)&&((k=(l=!1!==u&&u!==e)?Q["$empty?"]():u)===e||k.$$is_boolean&&1!=k)?(k=(l=(m=!1!==w&&w!==e)?I:w,!1!==l&&l!==e?Q["$=="](y.get("LIST_CONTINUATION")):l))===e||k.$$is_boolean&&1!=k?(k=(l=n!==e)?(m=a.yield1(n,
Q))===d?d.$v:m:n!==e)===e||k.$$is_boolean&&1!=k?!1:!0:(b["$[]="]("preserve_last_line",!0),!0):!0;return e}(),!1!==S&&S!==e)(f=b["$[]"]("read_last_line"))===e||f.$$is_boolean&&1!=f||(p["$<<"](Q),I=!0),(f=b["$[]"]("preserve_last_line"))===e||f.$$is_boolean&&1!=f||(this.$unshift(Q),K=!0);else if((f=(k=(l=!1!==z&&z!==e)?Q["$start_with?"]("//"):z,!1!==k&&k!==e?y.get("CommentLineRx")["$=~"](Q):k))===e||f.$$is_boolean&&1!=f)p["$<<"](Q),I=!0;!1!==r&&r!==e&&(this.process_lines=!0,(c=(f=!1!==K&&K!==e)?t["$!"]():
K)===e||c.$$is_boolean&&1!=c||(this.look_ahead=g(this.look_ahead,1)));return p});a.defn(k,"$shift",function(){this.lineno=p(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=g(this.look_ahead,1));return this.lines.$shift()});a.defn(k,"$unshift",function(a){this.lineno=g(this.lineno,1);this.look_ahead=p(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)});a.defn(k,"$cursor",function(){return y.get("Cursor").$new(this.file,this.dir,this.path,this.lineno)});a.defn(k,"$line_info",function(){return""+
this.path+": line "+this.lineno});a.alias(k,"next_line_info","line_info");a.defn(k,"$prev_line_info",function(){return""+this.path+": line "+g(this.lineno,1)});a.defn(k,"$lines",function(){return this.lines.$dup()});a.defn(k,"$string",function(){return l(this.lines,y.get("EOL"))});a.defn(k,"$source",function(){return l(this.source_lines,y.get("EOL"))});return(a.defn(k,"$to_s",function(){return this.$line_info()}),e)&&"to_s"})(r.base,null);(function(b,$super){function f(){}var m=f=z(b,$super,"PreprocessorReader",
f),r=m.$$proto,y=m.$$scope,q,h,c,O;r.document=r.lineno=r.process_lines=r.look_ahead=r.skipping=r.include_stack=r.conditional_stack=r.path=r.include_processor_extensions=r.maxdepth=r.dir=r.lines=r.file=r.includes=r.unescape_next_line=e;m.$attr_reader("include_stack");m.$attr_reader("includes");a.defn(m,"$initialize",q=function(b,c,d){var f,h,g,k=e;null==c&&(c=e);null==d&&(d=e);q.$$p=null;this.document=b;a.find_super_dispatcher(this,"initialize",q,null).apply(this,[c,d,x(["normalize"],{normalize:!0})]);
k=b.$attributes().$fetch("max-include-depth",64).$to_i();(f="number"===typeof k?0>k:k["$<"](0))===e||f.$$is_boolean&&1!=f||(k=0);this.maxdepth=x(["abs","rel"],{abs:k,rel:k});this.include_stack=[];this.includes=(f="includes",h=b.$references(),!1!==(g=h["$[]"](f))&&g!==e?g:h["$[]="](f,[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=e});a.defn(m,"$prepare_lines",h=function(b,c){var d,f,g,k=h.$$p,m=e,n=e,q=e,r=e,t=m=e;null==c&&(c=x([],{}));h.$$p=null;m=[];for(t=
0;t<arguments.length;t++)m[t]=arguments[t];m=a.find_super_dispatcher(this,"prepare_lines",h,k).apply(this,m);if(!((d=(f=this.document,!1!==f&&f!==e?this.document.$attributes()["$has_key?"]("skip-front-matter"):f))===e||d.$$is_boolean&&1!=d||(d=n=this["$skip_front_matter!"](m))===e||d.$$is_boolean&&1!=d))this.document.$attributes()["$[]="]("front-matter",l(n,y.get("EOL")));if((d=c.$fetch("condense",!0))!==e&&(!d.$$is_boolean||1==d)){for(;(f=(g=q=m["$[]"](0),!1!==g&&g!==e?q["$empty?"]():g))!==e&&(!f.$$is_boolean||
1==f);)f=m.$shift(),!1!==f&&f!==e?this.lineno=p(this.lineno,1):f;for(;(f=(g=r=m["$[]"](-1),!1!==g&&g!==e?r["$empty?"]():g))!==e&&(!f.$$is_boolean||1==f);)m.$pop()}if((d=c["$[]"]("indent"))!==e&&(!d.$$is_boolean||1==d))y.get("Parser")["$adjust_indentation!"](m,c["$[]"]("indent"),this.document.$attr("tabsize"));return m});a.defn(m,"$process_line",function(b){var c,d,f,h,g=e,k=e;if((c=this.process_lines)===e||c.$$is_boolean&&1!=c)return b;if((c=b["$empty?"]())!==e&&(!c.$$is_boolean||1==c))return this.look_ahead=
p(this.look_ahead,1),"";if((c=(d=(f=b["$end_with?"]("]"),!1!==f&&f!==e?b["$start_with?"]("[")["$!"]():f),!1!==d&&d!==e?b["$include?"]("::"):d))===e||c.$$is_boolean&&1!=c){if((c=this.skipping)===e||c.$$is_boolean&&1!=c)return this.look_ahead=p(this.look_ahead,1),b;this.$advance();return e}if((c=(d=b["$include?"]("if"),!1!==d&&d!==e?g=y.get("ConditionalDirectiveRx").$match(b):d))===e||c.$$is_boolean&&1!=c){if((c=this.skipping)===e||c.$$is_boolean&&1!=c)return(c=(f=!1!==(h=k=b["$start_with?"]("\\include::"))&&
h!==e?h:b["$start_with?"]("include::"),!1!==f&&f!==e?g=y.get("IncludeDirectiveRx").$match(b):f))===e||c.$$is_boolean&&1!=c?(this.look_ahead=p(this.look_ahead,1),b):!1!==k&&k!==e?(this.unescape_next_line=!0,this.look_ahead=p(this.look_ahead,1),b["$[]"](w(1,-1,!1))):(c=this.$preprocess_include(g["$[]"](1),g["$[]"](2).$strip()))===e||c.$$is_boolean&&1!=c?(this.look_ahead=p(this.look_ahead,1),b):e;this.$advance();return e}if((c=b["$start_with?"]("\\"))===e||c.$$is_boolean&&1!=c){if((c=(d=this).$preprocess_conditional_inclusion.apply(d,
a.to_a(g.$captures())))===e||c.$$is_boolean&&1!=c)return this.look_ahead=p(this.look_ahead,1),b;this.$advance();return e}this.unescape_next_line=!0;this.look_ahead=p(this.look_ahead,1);return b["$[]"](w(1,-1,!1))});a.defn(m,"$peek_line",c=function(b){var d,f=c.$$p,h=e,g=h=e;null==b&&(b=!1);c.$$p=null;h=[];for(g=0;g<arguments.length;g++)h[g]=arguments[g];return(d=h=a.find_super_dispatcher(this,"peek_line",c,f).apply(this,h))===e||d.$$is_boolean&&1!=d?(d=this.include_stack["$empty?"]())===e||d.$$is_boolean&&
1!=d?(this.$pop_include(),this.$peek_line(b)):e:h});a.defn(m,"$preprocess_conditional_inclusion",function(a,b,c,d){var f,h,g,k,m,l,n,q,p,r,u=e,w=u=e,z=e,O=z=w=u=e,w=e;if((f=!1!==(h=(g=!1!==(k=a["$=="]("ifdef"))&&k!==e?k:a["$=="]("ifndef"),!1!==g&&g!==e?b["$empty?"]():g))&&h!==e?h:(g=a["$=="]("endif"))?d:a["$=="]("endif"))!==e&&(!f.$$is_boolean||1==f))return!1;b=b.$downcase();if(a["$=="]("endif"))return u=this.conditional_stack.$size(),(f=t(u,0))===e||f.$$is_boolean&&1!=f?this.$warn("asciidoctor: ERROR: "+
this.$line_info()+": unmatched macro: endif::"+b+"[]"):(u=this.conditional_stack["$[]"](-1),(f=!1!==(h=b["$empty?"]())&&h!==e?h:b["$=="](u["$[]"]("target")))===e||f.$$is_boolean&&1!=f?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+u["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(f=this.conditional_stack["$empty?"]())===e||f.$$is_boolean&&1!=f?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)),!0;w=!1;if((f=this.skipping)===
e||f.$$is_boolean&&1!=f)if(z=a,"ifdef"["$==="](z))z=c,e["$==="](z)?w=this.document.$attributes()["$has_key?"](b)["$!"]():","["$==="](z)?w=(f=(h=b.$split(",")).$detect,f.$$p=(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},m.$$s=this,m),f).call(h)["$!"]():"+"["$==="](z)&&(w=(f=(g=b.$split("+")).$detect,f.$$p=(l=function(a){var b=l.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},
l.$$s=this,l),f).call(g));else if("ifndef"["$==="](z))z=c,e["$==="](z)?w=this.document.$attributes()["$has_key?"](b):","["$==="](z)?w=(f=(k=b.$split(",")).$detect,f.$$p=(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},n.$$s=this,n),f).call(k)["$!"]():"+"["$==="](z)&&(w=(f=(q=b.$split("+")).$detect,f.$$p=(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},
p.$$s=this,p),f).call(q));else if("ifeval"["$==="](z)){if((f=!1!==(r=b["$empty?"]()["$!"]())&&r!==e?r:(u=y.get("EvalExpressionRx").$match(d.$strip()))["$!"]())!==e&&(!f.$$is_boolean||1==f))return!1;w=this.$resolve_expr_val(u["$[]"](1));z=this.$resolve_expr_val(u["$[]"](3));w=(O=u["$[]"](2))["$=="]("!=")?w.$send("==",z):w.$send(O.$to_sym(),z)["$!"]()}if((f=!1!==(r=a["$=="]("ifeval"))&&r!==e?r:d["$!"]())!==e&&(!f.$$is_boolean||1==f))!1!==w&&w!==e&&(this.skipping=!0),this.conditional_stack["$<<"](x(["target",
"skip","skipping"],{target:b,skip:w,skipping:this.skipping}));else if((f=!1!==(r=this.skipping)&&r!==e?r:w)===e||f.$$is_boolean&&1!=f)w=this.$peek_line(!0),this.$replace_next_line(d.$rstrip()),this.$unshift(w);return!0});a.defn(m,"$preprocess_include",function(b,c){var f,h,m,n,q,r,u,w,I,z=e,O=e,Q=e,M=e,V=e,N=e,L=e,U=e,Y=e,ba=e,R=e,da=e,W=e,D=e,ea=e,F=e;if((f=(z=this.document.$sub_attributes(b,x(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===e||f.$$is_boolean&&1!=f){if((f=
(h=this["$include_processors?"](),!1!==h&&h!==e?O=(m=(n=this.include_processor_extensions).$find,m.$$p=(q=function(a){null==a&&(a=e);return a.$instance()["$handles?"](z)},q.$$s=this,q),m).call(n):h))===e||f.$$is_boolean&&1!=f){if((f=k(this.document.$safe(),y.get("SafeMode").$$scope.get("SECURE")))===e||f.$$is_boolean&&1!=f){if((f=(h=t(Q=this.maxdepth["$[]"]("abs"),0),!1!==h&&h!==e?k(this.include_stack.$size(),Q):h))===e||f.$$is_boolean&&1!=f){if((f=t(Q,0))===e||f.$$is_boolean&&1!=f)return!1;if((f=
a.get("RUBY_ENGINE_OPAL"))===e||f.$$is_boolean&&1!=f)if((f=y.get("Helpers")["$uriish?"](z))===e||f.$$is_boolean&&1!=f){M="file";V=this.document.$normalize_system_path(z,this.dir,e,x(["target_name"],{target_name:"include file"}));if((f=a.get("File")["$file?"](V))===e||f.$$is_boolean&&1!=f)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+V),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+c+"]"),!0;N=y.get("PathResolver").$new().$relative_path(V,
this.document.$base_dir())}else{if((f=this.document.$attributes()["$has_key?"]("allow-uri-read"))===e||f.$$is_boolean&&1!=f)return this.$replace_next_line("link:"+z+"[]"),!0;M="uri";V=N=z;if((f=this.document.$attributes()["$has_key?"]("cache-uri"))===e||f.$$is_boolean&&1!=f)(f=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||f.$$is_boolean&&1!=f||a.get("OpenURI");else{var T;try{T=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":e}catch(ja){if(ja.$$class===a.NameError)T=e;else throw ja;}((f=T)===e||f.$$is_boolean&&
1!=f)&&y.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}}else M="file",V=N=(f=this.include_stack["$empty?"]())===e||f.$$is_boolean&&1!=f?a.get("File").$join(this.dir,z):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?z:a.get("File").$join(this.dir,z);U=L=e;Y=x([],{});(f=c["$empty?"]()["$!"]())===e||f.$$is_boolean&&1!=f||(Y=y.get("AttributeList").$new(c).$parse(),(f=Y["$has_key?"]("lines"))===e||f.$$is_boolean&&1!=f?(f=Y["$has_key?"]("tag"))===e||f.$$is_boolean&&1!=f?(f=
Y["$has_key?"]("tags"))===e||f.$$is_boolean&&1!=f||(U=Y["$[]"]("tags").$split(y.get("DataDelimiterRx")).$to_set()):U=[Y["$[]"]("tag")].$to_set():(L=[],(f=(h=Y["$[]"]("lines").$split(y.get("DataDelimiterRx"))).$each,f.$$p=(r=function(b){var c,d,f,h=e,g=e;null==b&&(b=e);if((c=b["$include?"](".."))===e||c.$$is_boolean&&1!=c)return L["$<<"](b.$to_i());b=(d=(f=b.$split("..")).$map,d.$$p="to_i".$to_proc(),d).call(f);c=a.to_ary(b);h=null==c[0]?e:c[0];g=null==c[1]?e:c[1];b;return g["$=="](-1)?(L["$<<"](h),
L["$<<"](1/0)):L.$concat(a.get("Range").$new(h,g).$to_a())},r.$$s=this,r),f).call(h),L=L.$sort().$uniq()));if(!1!==L&&L!==e){if((f=L["$empty?"]())===e||f.$$is_boolean&&1!=f){ba=[];da=R=0;try{(f=(m=this).$open,f.$$p=(u=function(b){var c=u.$$s||this,f,h,g;null==b&&(b=e);return(f=(h=b).$each_line,f.$$p=(g=function(c){var f,h,g=e;null==c&&(c=e);da=p(da,1);g=L["$[]"](0);if((f=(h=g["$is_a?"](a.get("Float")),!1!==h&&h!==e?g["$infinite?"]():h))===e||f.$$is_boolean&&1!=f)return b.$lineno()["$=="](g)&&(ba.$push(c),
R["$=="](0)&&(R=da),L.$shift()),(f=L["$empty?"]())===e||f.$$is_boolean&&1!=f?e:(d.$v=e,d);ba.$push(c);return R["$=="](0)?R=da:e},g.$$s=c,g),f).call(h)},u.$$s=this,u),f).call(m,V,"r")}catch(ja){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+M+" not readable: "+V),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+c+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}this.$advance();this.$push_include(ba,V,N,R,Y)}}else if(!1!==U&&U!==
e){if((f=U["$empty?"]())===e||f.$$is_boolean&&1!=f){ba=[];da=R=0;W=e;D=a.get("Set").$new();try{(f=this.$open,f.$$p=(w=function(b){var c=w.$$s||this,f,h,g;null==b&&(b=e);return(f=(h=b).$each_line,f.$$p=(g=function(b){var c=g.$$s||this,f,h,k,m=e;null==b&&(b=e);da=p(da,1);(f=y.get("FORCE_ENCODING"))===e||f.$$is_boolean&&1!=f||b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));b=b.$rstrip();m=b.$chomp("--\x3e").$rstrip();return!1!==W&&W!==e?(f=m["$end_with?"]("end::"+W+"[]"))===e||f.$$is_boolean&&
1!=f?(((f=(h=m["$end_with?"]("[]"),!1!==h&&h!==e?y.get("TagDirectiveRx")["$=~"](m):h))===e||f.$$is_boolean&&1!=f)&&ba.$push(b),R["$=="](0)?R=da:e):W=e:(f=(h=m["$end_with?"]("[]"),!1!==h&&h!==e?y.get("TagDirectiveRx")["$=~"](m):h))===e||f.$$is_boolean&&1!=f?e:(f=(h=U).$each,f.$$p=(k=function(a){var b;null==a&&(a=e);if((b=m["$end_with?"]("tag::"+a+"[]"))===e||b.$$is_boolean&&1!=b)return e;W=a;D["$<<"](a);return d.$v=e,d},k.$$s=c,k),f).call(h)},g.$$s=c,g),f).call(h)},w.$$s=this,w),f).call(this,V,"r")}catch(ja){try{return this.$warn("asciidoctor: WARNING: "+
this.$line_info()+": include "+M+" not readable: "+V),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+c+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}((f=(ea=g(U.$to_a(),D.$to_a()))["$empty?"]())===e||f.$$is_boolean&&1!=f)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+((f=t(ea.$size(),1))===e||f.$$is_boolean&&1!=f?e:"s")+" '"+l(ea,",")+"' not found in include "+M+": "+V);this.$advance();this.$push_include(ba,V,N,R,Y)}}else try{F=(f=this.$open,
f.$$p=(I=function(a){null==a&&(a=e);return a.$read()},I.$$s=this,I),f).call(this,V,"r"),this.$advance(),this.$push_include(F,V,N,1,Y)}catch(ja){try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+M+" not readable: "+V),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+c+"]")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return!0}this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded");
return!1}this.$replace_next_line("link:"+z+"[]");return!0}this.$advance();O.$process_method()["$[]"](this.document,this,z,y.get("AttributeList").$new(c).$parse());return!0}this.$advance();this.document.$attributes().$fetch("attribute-missing",y.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+b+"["+c+"]");return!0});a.defn(m,"$push_include",function(b,c,d,f,h){var k,m=e,l=e;null==c&&(c=e);null==d&&(d=e);null==f&&(f=1);null==
h&&(h=x([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==c&&c!==e?(this.file=c,this.dir=y.get("File").$dirname(c),this.process_lines=y.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(c))):(this.file=e,this.dir=".",this.process_lines=!0);!1!==d&&d!==e?(this.includes["$<<"](y.get("Helpers").$rootname(d)),c=d):c="<stdin>";this.path=c;this.lineno=f;(k=h["$has_key?"]("depth"))===e||k.$$is_boolean&&1!=k||(m=h["$[]"]("depth").$to_i(),
(k="number"===typeof m?0>=m:m["$<="](0))===e||k.$$is_boolean&&1!=k||(m=1),this.maxdepth=x(["abs","rel"],{abs:p(g(this.include_stack.$size(),1),m),rel:m}));(k=(this.lines=this.$prepare_lines(b,x(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:h["$[]"]("indent")})))["$empty?"]())===e||k.$$is_boolean&&1!=k?((k=h["$has_key?"]("leveloffset"))===e||k.$$is_boolean&&1!=k||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+h["$[]"]("leveloffset")),this.lines.$push(""),(k=l=this.document.$attr("leveloffset"))===
e||k.$$is_boolean&&1!=k?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+l),this.lineno=g(this.lineno,2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return e});a.defn(m,"$pop_include",function(){var b,c;(b=t(this.include_stack.$size(),0))===e||b.$$is_boolean&&1!=b||(c=this.include_stack.$pop(),b=a.to_ary(c),this.lines=null==b[0]?e:b[0],this.file=null==b[1]?e:b[1],this.dir=null==b[2]?e:b[2],this.path=null==b[3]?e:b[3],this.lineno=null==b[4]?e:b[4],this.maxdepth=null==b[5]?
e:b[5],this.process_lines=null==b[6]?e:b[6],c,this.eof=this.lines["$empty?"](),this.look_ahead=0);return e});a.defn(m,"$include_depth",function(){return this.include_stack.$size()});a.defn(m,"$exceeded_max_depth?",function(){var a,b,c=e;return(a=(b=t(c=this.maxdepth["$[]"]("abs"),0),!1!==b&&b!==e?k(this.include_stack.$size(),c):b))===e||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")});a.defn(m,"$shift",O=function(){var b,c=O.$$p,d=e,f=e;O.$$p=null;d=[];for(f=0;f<arguments.length;f++)d[f]=arguments[f];
if((b=this.unescape_next_line)===e||b.$$is_boolean&&1!=b)return a.find_super_dispatcher(this,"shift",O,c).apply(this,d);this.unescape_next_line=!1;return a.find_super_dispatcher(this,"shift",O,c).apply(this,d)["$[]"](w(1,-1,!1))});a.defn(m,"$skip_front_matter!",function(b,c){var d,f,h,g=e,k=e;null==c&&(c=!0);g=e;if(b["$[]"](0)["$=="]("---")){k=b.$dup();g=[];b.$shift();!1!==c&&c!==e&&(this.lineno=p(this.lineno,1));for(;(f=(h=b["$empty?"]()["$!"](),!1!==h&&h!==e?b["$[]"](0)["$!="]("---"):h))!==e&&(!f.$$is_boolean||
1==f);)g.$push(b.$shift()),!1!==c&&c!==e&&(this.lineno=p(this.lineno,1));(d=b["$empty?"]())===e||d.$$is_boolean&&1!=d?(b.$shift(),!1!==c&&c!==e&&(this.lineno=p(this.lineno,1))):((d=b).$unshift.apply(d,a.to_a(k)),!1!==c&&c!==e&&(this.lineno=0),g=e)}return g});a.defn(m,"$resolve_expr_val",function(a){var b,c,d,f=e;(b=!1!==(c=(d=a["$start_with?"]('"'),!1!==d&&d!==e?a["$end_with?"]('"'):d))&&c!==e?c:(d=a["$start_with?"]("'"),!1!==d&&d!==e?a["$end_with?"]("'"):d))===e||b.$$is_boolean&&1!=b?f=!1:(f=!0,
a=a["$[]"](w(1,-1,!0)));(b=a["$include?"]("{"))===e||b.$$is_boolean&&1!=b||(a=this.document.$sub_attributes(a,x(["attribute_missing"],{attribute_missing:"drop"})));return!1!==f&&f!==e?a:(b=a["$empty?"]())===e||b.$$is_boolean&&1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===e||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===e||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":e});a.defn(m,"$include_processors?",function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===
e||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==e?this.document.$extensions()["$include_processors?"]():b))===e||a.$$is_boolean&&1!=a?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()});return(a.defn(m,"$to_s",function(){var a,b,c;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+
this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(c=function(a){null==a&&(a=e);return a.$to_s()},c.$$s=this,c),a).call(b).$join(", ")+"]}>"}),e)&&"to_s"})(r.base,r.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function p(a,e){return"number"===typeof a&&"number"===typeof e?a+e:a["$+"](e)}function t(a,e){return"number"===typeof a&&"number"===typeof e?a>e:a["$>"](e)}a.dynamic_require_severity="ignore";var l=a.nil,g=a.module,k=a.klass,e=a.hash2,d=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));
return function(b){b=g(b,"Asciidoctor").$$scope;(function(b,$super){function g(){}var r=g=k(b,$super,"Section",g),n=r.$$proto,v=r.$$scope,f,m,u;n.level=n.document=n.parent=n.number=n.title=n.numbered=n.blocks=l;r.$attr_accessor("index");r.$attr_accessor("number");r.$attr_accessor("sectname");r.$attr_accessor("special");r.$attr_accessor("numbered");a.defn(r,"$initialize",f=function(b,d,h,c){null==b&&(b=l);null==d&&(d=l);null==h&&(h=!0);null==c&&(c=e([],{}));f.$$p=null;a.find_super_dispatcher(this,
"initialize",f,null).apply(this,[b,"section",c]);this.level=!1!==d&&d!==l?d:!1!==b&&b!==l?p(b.$level(),1):1;this.numbered=(d=!1!==h&&h!==l)?t(this.level,0):h;this.special=(d=!1!==b&&b!==l?b.$context()["$=="]("section"):b,!1!==d&&d!==l?b.$special():d);this.index=0;return this.number=1});a.alias(r,"name","title");a.defn(r,"$generate_id",function(){var a,b,e=l,c=l,f=l,g=c=l;if((a=this.document.$attributes()["$has_key?"]("sectids"))===l||a.$$is_boolean&&1!=a)return l;e=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&
a!==l?a:"_";c=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==l?a:"_";f=""+c+this.$title().$downcase().$gsub(v.get("InvalidSectionIdCharsRx"),e).$tr_s(e,e).$chomp(e);if((a=(b=c["$empty?"](),!1!==b&&b!==l?f["$start_with?"](e):b))!==l&&(!a.$$is_boolean||1==a))for(f=f["$[]"](d(1,-1,!1));(b=f["$start_with?"](e))!==l&&(!b.$$is_boolean||1==b);)f=f["$[]"](d(1,-1,!1));c=f;for(g=v.get("Compliance").$unique_id_start_index();(b=this.document.$references()["$[]"]("ids")["$has_key?"](c))!==l&&(!b.$$is_boolean||
1==b);)c=""+f+e+g,g=p(g,1);return c});a.defn(r,"$sectnum",function(a,b){var e,c,d,f;null==a&&(a=".");null==b&&(b=l);!1!==(e=b)&&e!==l?e:b=b["$=="](!1)?"":a;return(e=(c=(d=(f=this.level,!1!==f&&f!==l?t(this.level,1):f),!1!==d&&d!==l?this.parent:d),!1!==c&&c!==l?this.parent.$context()["$=="]("section"):c))===l||e.$$is_boolean&&1!=e?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b});a.defn(r,"$<<",m=function(b){var e=m.$$p,d=l,c=l;m.$$p=null;d=[];for(c=0;c<arguments.length;c++)d[c]=arguments[c];
b.$context()["$=="]("section")&&this.$assign_index(b);return a.find_super_dispatcher(this,"<<",m,e).apply(this,d)});return(a.defn(r,"$to_s",u=function(){var b,e=u.$$p,d=l,c=d=l;u.$$p=null;d=[];for(c=0;c<arguments.length;c++)d[c]=arguments[c];if((b=this.title["$!="](l))===l||b.$$is_boolean&&1!=b)return a.find_super_dispatcher(this,"to_s",u,e).apply(this,d);d=(b=this.numbered)===l||b.$$is_boolean&&1!=b?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+
this.level+", title: "+d.$inspect()+", blocks: "+this.blocks.$size()+"}>"}),l)&&"to_s"})(b.base,b.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var p=a.nil,t=a.module,l=a.klass,g=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(k){(function(e,$super){function b(){}var k=b=l(e,$super,"Stylesheets",b),t=k.$$proto,w=k.$$scope;t.primary_stylesheet_data=
t.coderay_stylesheet_data=t.pygments_stylesheet_data=p;a.cdecl(w,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(w,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(w,"STYLESHEETS_DATA_PATH",a.get("File").$join(w.get("DATA_PATH"),"stylesheets"));k.__instance__=k.$new();a.defs(k,"$instance",function(){null==this.__instance__&&(this.__instance__=p);return this.__instance__});a.defn(k,"$primary_stylesheet_name",function(){return w.get("DEFAULT_STYLESHEET_NAME")});a.defn(k,"$primary_stylesheet_data",function(){var b;
return!1!==(b=this.primary_stylesheet_data)&&b!==p?b:this.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(w.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()});a.defn(k,"$embed_primary_stylesheet",function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"});a.defn(k,"$write_primary_stylesheet",function(b){var e,g,f;return(e=(g=a.get("File")).$open,e.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=p);return a.$write(b.$primary_stylesheet_data())},f.$$s=
this,f),e).call(g,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")});a.defn(k,"$coderay_stylesheet_name",function(){return"coderay-asciidoctor.css"});a.defn(k,"$coderay_stylesheet_data",function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&b!==p?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(w.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()});a.defn(k,"$embed_coderay_stylesheet",function(){return"<style>\n"+this.$coderay_stylesheet_data()+
"\n</style>"});a.defn(k,"$write_coderay_stylesheet",function(b){var e,g,f;return(e=(g=a.get("File")).$open,e.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=p);return a.$write(b.$coderay_stylesheet_data())},f.$$s=this,f),e).call(g,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")});a.defn(k,"$pygments_stylesheet_name",function(a){var b;null==a&&(a=p);return"pygments-"+(!1!==(b=a)&&b!==p?b:w.get("DEFAULT_PYGMENTS_STYLE"))+".css"});a.defn(k,"$pygments_stylesheet_data",function(a){var b;return(b=
this.$load_pygments())===p||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":!1!==(b=this.pygments_stylesheet_data)&&b!==p?b:this.pygments_stylesheet_data=g([],{})});a.defn(k,"$embed_pygments_stylesheet",function(a){null==a&&(a=p);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"});a.defn(k,"$write_pygments_stylesheet",function(b,e){var g,f,k;null==e&&(e=p);return(g=(f=a.get("File")).$open,g.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=p);return a.$write(b.$pygments_stylesheet_data(e))},
k.$$s=this,k),g).call(f,a.get("File").$join(b,this.$pygments_stylesheet_name(e)),"w")});return(a.defn(k,"$load_pygments",function(){var b;return(b=null==a.Object.$$scope.Pygments?p:"constant")===p||b.$$is_boolean&&1!=b?w.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0}),p)&&"load_pygments"})(t(k,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=a.nil,d=a.module,b=a.klass,
z=a.hash2,x=a.range;a.add_stubs("$attr_accessor $new $key? $[] $abs $to_i $== $!= $> $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_col_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cell_spec $cell_open? $close_cell $advance $take_cell_spec $fetch $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_col_visits".split(" "));
return function(w){w=d(w,"Asciidoctor").$$scope;(function(d,$super){function v(){}var f=v=b(d,$super,"Table",v),m=f.$$proto,u=f.$$scope,y;m.attributes=m.document=m.has_header_option=m.rows=m.columns=e;(function(e,$super){function c(){}var d=c=b(e,$super,"Rows",c);d.$attr_accessor("head","foot","body");a.defn(d,"$initialize",function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c});return a.alias(d,"[]","send")})(u.base,null);a.cdecl(u,"DEFAULT_DATA_FORMAT",
"psv");a.cdecl(u,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(u,"DEFAULT_DELIMITERS",z(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(u,"TEXT_STYLES",z("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(u,"ALIGNMENTS",z(["h","v"],{h:z(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:z(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));f.$attr_accessor("columns");f.$attr_accessor("rows");f.$attr_accessor("has_header_option");
a.defn(f,"$initialize",y=function(b,d){var c,f,g,k=e,m=e;y.$$p=null;a.find_super_dispatcher(this,"initialize",y,null).apply(this,[b,"table"]);this.rows=u.get("Rows").$new();this.columns=[];this.has_header_option=d["$key?"]("header-option");k=d["$[]"]("width");m=k.$to_i().$abs();(c=!1!==(f=(g=m["$=="](0))?k["$!="]("0"):m["$=="](0))&&f!==e?f:p(m,100))===e||c.$$is_boolean&&1!=c||(m=100);this.attributes["$[]="]("tablepcwidth",m);return(c=this.document.$attributes()["$key?"]("pagewidth"))===e||c.$$is_boolean&&
1!=c?e:(c="tableabswidth",f=this.attributes,!1!==(g=f["$[]"](c))&&g!==e?g:f["$[]="](c,t(l(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()))});a.defn(f,"$header_row?",function(){var a;return a=this.has_header_option,!1!==a&&a!==e?this.rows.$body()["$empty?"]():a});a.defn(f,"$create_columns",function(a){var b,c,d=e,f=e,d=[],f=0;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=e);f=g(f,a["$[]"]("width"));return d["$<<"](u.get("Column").$new(b,
d.$size(),a))},c.$$s=this,c),b).call(a);if((b=(this.columns=d)["$empty?"]())===e||b.$$is_boolean&&1!=b)this.attributes["$[]="]("colcount",d.$size()),this.$assign_col_widths(f["$=="](0)?e:f);return e});a.defn(f,"$assign_col_widths",function(a){var b,c,d,f,m,p=e,r=e,u=e;null==a&&(a=e);p=10["$**"](4);r=u=0;!1!==a&&a!==e?(b=(c=this.columns).$each,b.$$p=(d=function(b){null==b&&(b=e);return r=g(r,u=b.$assign_width(e,a,p))},d.$$s=this,d),b).call(c):(u=l(l(t(100,p),this.columns.$size()).$to_i(),p),u.$to_i()["$=="](u)&&
(u=u.$to_i()),(b=(f=this.columns).$each,b.$$p=(m=function(a){null==a&&(a=e);return r=g(r,a.$assign_width(u))},m.$$s=this,m),b).call(f));r["$=="](100)||this.columns["$[]"](-1).$assign_width(l(t(g(k(100,r),u),p).$round(),p));return e});return(a.defn(f,"$partition_header_footer",function(a){var b,c,d,f,g=e,m=e;this.attributes["$[]="]("rowcount",this.rows.$body().$size());g=this.rows.$body().$size();(b=(c=p(g,0),!1!==c&&c!==e?this.has_header_option:c))===e||b.$$is_boolean&&1!=b||(m=this.rows.$body().$shift(),
g=k(g,1),(b=(c=m).$each,b.$$p=(d=function(a){var b,c;null==a&&(a=e);return b=[e],c=a,c["$style="].apply(c,b),b[b.length-1]},d.$$s=this,d),b).call(c),b=[[m]],f=this.rows,f["$head="].apply(f,b),b[b.length-1]);(b=(f=p(g,0),!1!==f&&f!==e?a["$key?"]("footer-option"):f))===e||b.$$is_boolean&&1!=b||(b=[[this.rows.$body().$pop()]],f=this.rows,f["$foot="].apply(f,b),b[b.length-1]);return e}),e)&&"partition_header_footer"})(w.base,w.get("AbstractBlock"));(function(d,$super){function k(){}var f=k=b(d,$super,
"Column",k),m;f.$$proto.attributes=e;f.$attr_accessor("style");a.defn(f,"$initialize",m=function(b,d,f){var h;null==f&&(f=z([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[b,"column"]);this.style=f["$[]"]("style");f["$[]="]("colnumber",g(d,1));b="width";d=f;!1!==(h=d["$[]"](b))&&h!==e?h:d["$[]="](b,1);b="halign";d=f;!1!==(h=d["$[]"](b))&&h!==e?h:d["$[]="](b,"left");b="valign";d=f;!1!==(h=d["$[]"](b))&&h!==e?h:d["$[]="](b,"top");return this.$update_attributes(f)});
a.alias(f,"table","parent");return(a.defn(f,"$assign_width",function(a,b,d){var f;null==b&&(b=e);null==d&&(d=1E4);!1!==b&&b!==e&&(a=l(t(t(l(this.attributes["$[]"]("width").$to_f(),b),100),d).$to_i(),d),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((f=this.$parent().$attributes()["$key?"]("tableabswidth"))!==e&&(!f.$$is_boolean||1==f))this.attributes["$[]="]("colabswidth",t(l(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a}),e)&&"assign_width"})(w.get("Table"),
w.get("AbstractNode"));(function(d,$super){function g(){}var f=g=b(d,$super,"Cell",g),k=f.$$proto,l=f.$$scope,p,q;k.style=k.document=k.text=k.inner_document=k.colspan=k.rowspan=k.attributes=e;f.$attr_accessor("style");f.$attr_accessor("colspan");f.$attr_accessor("rowspan");a.alias(f,"column","parent");f.$attr_reader("inner_document");a.defn(f,"$initialize",p=function(b,c,d,f){var g,k=e,m=e,q=e,r=e;null==d&&(d=z([],{}));null==f&&(f=e);p.$$p=null;a.find_super_dispatcher(this,"initialize",p,null).apply(this,
[b,"cell"]);this.text=c;this.rowspan=this.colspan=this.style=e;!1!==b&&b!==e&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==d&&d!==e&&(this.colspan=d.$delete("colspan"),this.rowspan=d.$delete("rowspan"),(g=d["$key?"]("style"))===e||g.$$is_boolean&&1!=g||(this.style=d["$[]"]("style")),this.$update_attributes(d));if((g=(c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===e||g.$$is_boolean&&1!=g)return e;
k=this.document.$attributes().$delete("doctitle");m=this.text.$split(l.get("EOL"));if((g=!1!==(c=m["$empty?"]())&&c!==e?c:m["$[]"](0)["$include?"]("::")["$!"]())===e||g.$$is_boolean&&1!=g)q=m["$[]"](0),r=l.get("PreprocessorReader").$new(this.document,q).$readlines(),(g=r["$!="](q))===e||g.$$is_boolean&&1!=g||(m.$shift(),(g=m).$unshift.apply(g,a.to_a(r)));this.inner_document=l.get("Document").$new(m,z(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:f}));return(c=k["$nil?"]())===
e||c.$$is_boolean&&1!=c?this.document.$attributes()["$[]="]("doctitle",k):e});a.defn(f,"$text",function(){return this.$apply_normal_subs(this.text).$strip()});a.defn(f,"$content",function(){var a,b,d;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(a=(b=this.$text().$split(l.get("BlankLineRx"))).$map,a.$$p=(d=function(a){var b=d.$$s||this,c,f;null==b.style&&(b.style=e);null==a&&(a=e);return(c=!1!==(f=b.style["$!"]())&&f!==e?f:b.style["$=="]("header"))===e||c.$$is_boolean&&1!=c?
l.get("Inline").$new(b.$parent(),"quoted",a,z(["type"],{type:b.style})).$convert():a},d.$$s=this,d),a).call(b)});return(a.defn(f,"$to_s",q=function(){var b,c=q.$$p,d=e,f=e;q.$$p=null;d=[];for(f=0;f<arguments.length;f++)d[f]=arguments[f];return""+a.find_super_dispatcher(this,"to_s",q,c).apply(this,d).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(b=this.colspan)&&b!==e?b:1)+", rowspan: "+(!1!==(b=this.rowspan)&&b!==e?b:1)+", attributes: "+this.attributes+"]"}),e)&&"to_s"})(w.get("Table"),w.get("AbstractNode"));
(function(d,$super){function l(){}var f=l=b(d,$super,"ParserContext",l),m=f.$$proto,t=f.$$scope;m.format=m.delimiter=m.delimiter_re=m.buffer=m.cell_specs=m.cell_open=m.last_cursor=m.table=m.current_row=m.col_count=m.col_visits=m.active_rowspans=m.linenum=e;f.$attr_accessor("table");f.$attr_accessor("format");f.$attr_reader("col_count");f.$attr_accessor("buffer");f.$attr_reader("delimiter");f.$attr_reader("delimiter_re");a.defn(f,"$initialize",function(a,b,d){var c,f;null==d&&(d=z([],{}));this.reader=
a;this.table=b;this.last_cursor=a.$cursor();(c=this.format=d["$[]"]("format"))===e||c.$$is_boolean&&1!=c?this.format=t.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((c=t.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===e||c.$$is_boolean&&1!=c)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(c=(f=this.format["$=="]("psv")?d["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==f&&f!==e?b.$document()["$nested?"]():f))===e||c.$$is_boolean&&1!=c?!1!==
(c=d["$[]"]("separator"))&&c!==e?c:t.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+t.get("Regexp").$escape(this.delimiter));this.col_count=(c=b.$columns()["$empty?"]())===e||c.$$is_boolean&&1!=c?b.$columns().$size():-1;this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=[0];this.col_visits=0;this.current_row=[];return this.linenum=-1});a.defn(f,"$starts_with_delimiter?",function(a){return a["$start_with?"](this.delimiter)});
a.defn(f,"$match_delimiter",function(a){return this.delimiter_re.$match(a)});a.defn(f,"$skip_matched_delimiter",function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==e?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()});a.defn(f,"$buffer_has_unclosed_quotes?",function(a){var b,d,c=e;null==a&&(a=e);c=(""+this.buffer+a).$strip();return b=(d=c["$start_with?"]('"'),!1!==d&&d!==e?c["$start_with?"]('""')["$!"]():d),!1!==b&&b!==e?c["$end_with?"]('"')["$!"]():b});
a.defn(f,"$buffer_quoted?",function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==e?this.buffer["$start_with?"]('""')["$!"]():a});a.defn(f,"$take_cell_spec",function(){return this.cell_specs.$shift()});a.defn(f,"$push_cell_spec",function(a){var b;null==a&&(a=z([],{}));this.cell_specs["$<<"](!1!==(b=a)&&b!==e?b:z([],{}));return e});a.defn(f,"$keep_cell_open",function(){this.cell_open=!0;return e});a.defn(f,"$mark_cell_closed",function(){this.cell_open=
!1;return e});a.defn(f,"$cell_open?",function(){return this.cell_open});a.defn(f,"$cell_closed?",function(){return this.cell_open["$!"]()});a.defn(f,"$close_open_cell",function(a){var b;null==a&&(a=z([],{}));this.$push_cell_spec(a);(b=this["$cell_open?"]())===e||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return e});a.defn(f,"$close_cell",function(b){try{var d,f,c,m=e,l=e,r=e;null==b&&(b=!1);m=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(l=this.$take_cell_spec(),!1!==
l&&l!==e?(r=l.$fetch("repeatcol",1),l.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),l=z([],{}),r=1)):(l=e,r=1,!this.format["$=="]("csv")||(d=(f=m["$empty?"]()["$!"](),!1!==f&&f!==e?m["$include?"]('"'):f))===e||d.$$is_boolean&&1!=d||((d=(f=m["$start_with?"]('"'),!1!==f&&f!==e?m["$end_with?"]('"'):f))===e||d.$$is_boolean&&1!=d||(m=m["$[]"](x(1,-1,!0)).$strip()),m=m.$tr_s('"','"')));(d=(f=1).$upto,
d.$$p=(c=function(d){var f=c.$$s||this,h,q,v,w,x,z,I=e,K=e,S=e,I=e;null==f.col_count&&(f.col_count=e);null==f.table&&(f.table=e);null==f.current_row&&(f.current_row=e);null==f.last_cursor&&(f.last_cursor=e);null==f.reader&&(f.reader=e);null==f.col_visits&&(f.col_visits=e);null==f.linenum&&(f.linenum=e);null==d&&(d=e);if(f.col_count["$=="](-1))f.table.$columns()["$<<"](I=t.get("Table").$$scope.get("Column").$new(f.table,k(g(f.table.$columns().$size(),d),1))),(h=(q=(v=!1!==l&&l!==e)?l["$key?"]("colspan"):
l,!1!==q&&q!==e?p(K=k(l["$[]"]("colspan").$to_i(),1),0):q))===e||h.$$is_boolean&&1!=h||(S=f.table.$columns().$size(),(h=(q=K).$times,h.$$p=(w=function(a){var b=w.$$s||this;null==b.table&&(b.table=e);null==a&&(a=e);return b.table.$columns()["$<<"](t.get("Table").$$scope.get("Column").$new(b.table,g(S,a)))},w.$$s=f,w),h).call(q));else if((h=I=f.table.$columns()["$[]"](f.current_row.$size()))===e||h.$$is_boolean&&1!=h)f.$warn("asciidoctor: ERROR: "+f.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),
a.ret(e);I=t.get("Table").$$scope.get("Cell").$new(I,m,l,f.last_cursor);f.last_cursor=f.reader.$cursor();((h=!1!==(v=I.$rowspan()["$!"]())&&v!==e?v:I.$rowspan()["$=="](1))===e||h.$$is_boolean&&1!=h)&&f.$activate_rowspan(I.$rowspan(),!1!==(h=I.$colspan())&&h!==e?h:1);f.col_visits=g(f.col_visits,!1!==(h=I.$colspan())&&h!==e?h:1);f.current_row["$<<"](I);return(h=(v=f["$end_of_row?"](),!1!==v&&v!==e?!1!==(x=!1!==(z=f.col_count["$!="](-1))&&z!==e?z:p(f.linenum,0))&&x!==e?x:(z=!1!==b&&b!==e)?d["$=="](r):
b:v))===e||h.$$is_boolean&&1!=h?e:f.$close_row()},c.$$s=this,c),d).call(f,r);this.cell_open=!1;return e}catch(v){if(v===a.returner)return v.$v;throw v;}});a.defn(f,"$close_row",function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==e?b:a["$[]="](0,0);return e});a.defn(f,"$activate_rowspan",function(a,b){var d,
c,f;(d=(c=(1).$upto(k(a,1))).$each,d.$$p=(f=function(a){var c=f.$$s||this,d;null==c.active_rowspans&&(c.active_rowspans=e);null==a&&(a=e);return c.active_rowspans["$[]="](a,g(!1!==(d=c.active_rowspans["$[]"](a))&&d!==e?d:0,b))},f.$$s=this,f),d).call(c);return e});a.defn(f,"$end_of_row?",function(){var a;return!1!==(a=this.col_count["$=="](-1))&&a!==e?a:this.$effective_col_visits()["$=="](this.col_count)});a.defn(f,"$effective_col_visits",function(){return g(this.col_visits,this.active_rowspans["$[]"](0))});
return(a.defn(f,"$advance",function(){return this.linenum=g(this.linenum,1)}),e)&&"advance"})(w.get("Table"),null)}(a.base)};
(function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var g,k=a.top,e=a.nil,d=a.gvars,b=a.module,z=a.hash2,x=a.range,w=a.hash;null==d[":"]&&(d[":"]=e);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
((g=null!=a.RUBY_ENGINE)===e||g.$$is_boolean&&1!=g)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",p(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",p(a.get("RUBY_VERSION"),"2"));k.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&k.$require("asciidoctor/opal_ext");d[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(d){d=
b(d,"Asciidoctor");var g=d.$$scope,k,f,m,u=e,y=e;a.cdecl(g,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(d){d=b(d,"SafeMode").$$scope;a.cdecl(d,"UNSAFE",0);a.cdecl(d,"SAFE",1);a.cdecl(d,"SERVER",10);a.cdecl(d,"SECURE",20)})(g.base);(function(d){d=b(d,"Compliance");d.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(d));a.defs(d,"$define",function(b,c){null==this.keys&&(this.keys=e);this.$instance_variable_set("@"+b,c);a.get_singleton_class(this).$send("attr_accessor",
b);this.keys["$<<"](b);return e});d.$define("block_terminates_paragraph",!0);d.$define("strict_verbatim_paragraphs",!0);d.$define("underline_style_section_titles",!0);d.$define("unwrap_standalone_preamble",!0);d.$define("attribute_missing","skip");d.$define("attribute_undefined","drop-line");d.$define("shorthand_property_syntax",!0);d.$define("unique_id_start_index",2);d.$define("markdown_syntax",!0)})(g.base);a.cdecl(g,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(g,"LIB_PATH",a.get("File").$join(g.get("ROOT_PATH"),"lib"));a.cdecl(g,"DATA_PATH",a.get("File").$join(g.get("ROOT_PATH"),"data"));try{a.cdecl(g,"USER_HOME",a.get("Dir").$home())}catch(q){try{a.cdecl(g,"USER_HOME",!1!==(k=a.get("ENV")["$[]"]("HOME"))&&k!==e?k:a.get("Dir").$pwd())}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.cdecl(g,"COERCE_ENCODING",(k=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==k&&k!==e?a.get("RUBY_MIN_VERSION_1_9"):k));a.cdecl(g,"FORCE_ENCODING",(k=g.get("COERCE_ENCODING"),
!1!==k&&k!==e?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):k));a.cdecl(g,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(g,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(g,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(g,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(g,"SUPPORTS_GSUB_RESULT_HASH",(k=a.get("RUBY_MIN_VERSION_1_9"),!1!==k&&k!==e?a.get("RUBY_ENGINE_OPAL")["$!"]():k));a.cdecl(g,
"EOL","\n");a.cdecl(g,"NULL","\x00");a.cdecl(g,"TAB","\t");a.cdecl(g,"DEFAULT_DOCTYPE","article");a.cdecl(g,"DEFAULT_BACKEND","html5");a.cdecl(g,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(g,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(g,"BACKEND_ALIASES",z(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(g,"DEFAULT_PAGE_WIDTHS",z(["docbook"],{docbook:425}));a.cdecl(g,"DEFAULT_EXTENSIONS",z(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",
pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(g,"ASCIIDOC_EXTENSIONS",z([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(g,"SECTION_LEVELS",z(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(g,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(g,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.cdecl(g,
"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(g,"DELIMITED_BLOCKS",z('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",
["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(g,"DELIMITED_BLOCK_LEADERS",(k=(f=g.get("DELIMITED_BLOCKS").$keys()).$map,k.$$p=(m=function(a){null==a&&(a=e);return a["$[]"](x(0,1,!1))},m.$$s=d,
m),k).call(f).$to_set());a.cdecl(g,"LAYOUT_BREAK_LINES",z(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(g,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(g,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(g,"ORDERED_LIST_KEYWORDS",z(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.cdecl(g,
"LIST_CONTINUATION","+");a.cdecl(g,"LINE_BREAK"," +");a.cdecl(g,"LINE_CONTINUATION"," \\");a.cdecl(g,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(g,"BLOCK_MATH_DELIMITERS",z(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(g,"INLINE_MATH_DELIMITERS",z(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(g,"FLEXIBLE_ATTRIBUTES",["sectnums"]);g.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(g,"CC_ALPHA","a-zA-Z"),a.cdecl(g,"CG_ALPHA","[a-zA-Z]"),
a.cdecl(g,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(g,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(g,"CG_BLANK","[ \\t]"),a.cdecl(g,"CC_EOL","(?=\\n|$)"),a.cdecl(g,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(g,"CC_ALL","[\\s\\S]"),a.cdecl(g,"CC_WORD","a-zA-Z0-9_"),a.cdecl(g,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(g,"AuthorInfoLineRx",new RegExp("^("+g.get("CG_WORD")+"["+g.get("CC_WORD")+"\\-'.]*)(?: +("+g.get("CG_WORD")+"["+g.get("CC_WORD")+"\\-'.]*))?(?: +("+g.get("CG_WORD")+"["+g.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(g,
"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(g,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(g,"ManpageNamePurposeRx",new RegExp("^(.*?)"+g.get("CG_BLANK")+"+-"+g.get("CG_BLANK")+"+(.*)$"));a.cdecl(g,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(g,"EvalExpressionRx",new RegExp("^(\\S.*?)"+g.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+g.get("CG_BLANK")+"*(\\S.*)$"));a.cdecl(g,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);
a.cdecl(g,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(g,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+g.get("CG_BLANK")+"+(.*))?$"));a.cdecl(g,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(g,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(g,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(g,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+g.get("CC_ALPHA")+":_]["+g.get("CC_WORD")+":.-]*)(?:,"+g.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(g,
"BlockAttributeListRx",new RegExp("^\\[(|"+g.get("CG_BLANK")+"*["+g.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(g,"BlockAttributeLineRx",new RegExp("^\\[(|"+g.get("CG_BLANK")+"*["+g.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+g.get("CC_ALPHA")+":_]["+g.get("CC_WORD")+":.-]*(?:,"+g.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(g,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(g,"AdmonitionParagraphRx",new RegExp("^("+t(g.get("ADMONITION_STYLES").$to_a(),"|")+"):"+g.get("CG_BLANK")));a.cdecl(g,"LiteralParagraphRx",
new RegExp("^("+g.get("CG_BLANK")+"+.*)$"));a.cdecl(g,"CommentBlockRx",/^\/{4,}$/);a.cdecl(g,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(g,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+g.get("CG_BLANK")+"+(\\S.*?)(?:"+g.get("CG_BLANK")+"+\\1)?$"));a.cdecl(g,"SetextSectionTitleRx",new RegExp("^((?=.*"+g.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(g,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(g,"InlineSectionAnchorRx",new RegExp("^(.*?)"+g.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+g.get("CC_ALPHA")+":_]["+
g.get("CC_WORD")+":.-]*)(?:,"+g.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(g,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+g.get("CC_WORD")+"]+?"));a.cdecl(g,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(g,"AnyListRx",new RegExp("^(?:<?\\d+>"+g.get("CG_BLANK")+"+"+g.get("CG_GRAPH")+"|"+g.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+g.get("CG_BLANK")+"+"+g.get("CG_GRAPH")+"|"+g.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+
g.get("CG_BLANK")+"+"+g.get("CG_GRAPH")+"|$))"));a.cdecl(g,"UnorderedListRx",new RegExp("^"+g.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+g.get("CG_BLANK")+"+(.*)$"));a.cdecl(g,"OrderedListRx",new RegExp("^"+g.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+g.get("CG_BLANK")+"+(.*)$"));a.cdecl(g,"OrderedListMarkerRxMap",z(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.cdecl(g,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+g.get("CG_BLANK")+"+(.*))?$"));a.cdecl(g,"DefinitionListSiblingRx",z(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+g.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+g.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+g.get("CG_BLANK")+"+(.*))?$"),
";;":new RegExp("^(?!\\/\\/)"+g.get("CG_BLANK")+"*(.*)(;;)(?:"+g.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(g,"CalloutListRx",new RegExp("^<?(\\d+)>"+g.get("CG_BLANK")+"+(.*)"));a.cdecl(g,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(g,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(g,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+g.get("CC_EOL")+")"));a.cdecl(g,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
g.get("CC_EOL")+")"));a.cdecl(g,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+g.get("CC_EOL")+")");a.cdecl(g,"ListRxMap",z(["ulist","olist","dlist","colist"],{ulist:g.get("UnorderedListRx"),olist:g.get("OrderedListRx"),dlist:g.get("DefinitionListRx"),colist:g.get("CalloutListRx")}));a.cdecl(g,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(g,"CellSpecStartRx",new RegExp("^"+g.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(g,"CellSpecEndRx",new RegExp(""+g.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(g,"GenericBlockMacroRx",new RegExp("^("+g.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(g,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(g,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(g,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+g.get("CC_ALPHA")+":_]["+g.get("CC_WORD")+
":.-]*)(?:,"+g.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(g,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+g.get("CC_WORD")+":]["+g.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(g,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+g.get("CG_WORD")+"["+g.get("CC_WORD")+".%+-]*@"+g.get("CG_ALNUM")+"["+g.get("CC_ALNUM")+".-]*\\."+g.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(g,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+g.get("CC_ALL")+"*?[^\\\\])\\]"));
a.cdecl(g,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(g,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+g.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+g.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(g,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(g,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+g.get("CG_BLANK")+"*[^\\1])"));a.cdecl(g,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
a.cdecl(g,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(g,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+g.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(g,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+g.get("CG_WORD")+"|"+g.get("CG_WORD")+".*?\\S)\\["+g.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(g,"MenuInlineRx",new RegExp('\\\\?"('+g.get("CG_WORD")+'[^"]*?'+g.get("CG_BLANK")+"*&gt;"+g.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(g,"PassInlineRx",
w(!1,["+","`",new RegExp("(^|[^"+g.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+g.get("CC_ALL")+"*?\\S)\\4)(?!"+g.get("CG_WORD")+")")],!0,["`",e,new RegExp("(^|[^`"+g.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+g.get("CC_ALL")+"*?\\S)\\4)(?![`"+g.get("CC_WORD")+"])")]));a.cdecl(g,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+g.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+g.get("CC_ALL")+"*?[^\\\\])\\])"));
a.cdecl(g,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+g.get("CC_WORD")+'":.\\/]'+g.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+g.get("CC_WORD")+'":.\\/]'+g.get("CC_ALL")+"*?)\\[("+g.get("CC_ALL")+"*?)\\])"));g.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(g,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(g,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(g,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(g,"BlankLineRx",new RegExp("^"+g.get("CG_BLANK")+"*\\n"));a.cdecl(g,"DataDelimiterRx",
/,|;/);a.cdecl(g,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(g,"DoubleQuotedMultiRx",new RegExp('^("|)('+g.get("CC_ALL")+"*)\\1$"));a.cdecl(g,"TrailingDigitsRx",/\d+$/);a.cdecl(g,"EscapedSpaceRx",new RegExp("\\\\("+g.get("CG_BLANK")+")"));a.cdecl(g,"SpaceDelimiterRx",new RegExp("([^\\\\])"+g.get("CG_BLANK")+"+"));a.cdecl(g,"SubModifierSniffRx",/[+-]/);a.cdecl(g,"UnicodeCharScanRx",function(){g.get("RUBY_ENGINE")["$=="]("opal");return e}());a.cdecl(g,"UriSniffRx",new RegExp("^"+g.get("CG_ALPHA")+"["+
g.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(g,"UriTerminator",/[);:]$/);a.cdecl(g,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(g,"INTRINSIC_ATTRIBUTES",z("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));u=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+g.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+g.get("CC_ALL")+"*?\\S)\\*(?!"+g.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+
';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+g.get("CC_ALL")+'*?\\S)`"(?!'+g.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+g.get("CC_ALL")+"*?\\S)`'(?!"+g.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+g.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+g.get("CC_ALL")+"*?\\S)`(?!["+g.get("CC_WORD")+"\"'`])")],
["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+g.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+g.get("CC_ALL")+"*?\\S)_(?!"+g.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+g.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+g.get("CC_ALL")+"*?\\S)#(?!"+g.get("CG_WORD")+")")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];y=u.$dup();y["$[]="](2,["double","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+g.get("CC_ALL")+"*?\\S)''(?!"+g.get("CG_WORD")+")")]);y["$[]="](3,["single","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+g.get("CC_ALL")+"*?\\S)'(?!"+g.get("CG_WORD")+")")]);y["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
g.get("CC_ALL")+"+?)\\+\\+")]);y["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+g.get("CC_ALL")+"*?\\S)\\+(?!"+g.get("CG_WORD")+")")]);y.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+g.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+g.get("CC_ALL")+"*?\\S)'(?!"+g.get("CG_WORD")+")")]);a.cdecl(g,"QUOTE_SUBS",w(!1,u,!0,y));y=u=e;a.cdecl(g,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,
"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+g.get("CG_WORD")+")\\\\?--(?="+g.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+g.get("CG_ALNUM")+")\\\\?'(?="+g.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,
"","bounding"]]);(function(b){var d=b.$$scope;a.defn(b,"$load",function(b,f){var g,k,m,l,n,q,p,t,r,u=this,v=e,w=e,y=e,x=e,M=e,V=e,N=e,L=e,U=e,Y=e,ba=e,R=e,da=e,W=e;null==f&&(f=z([],{}));try{f=f.$dup();(g=v=f["$[]"]("timings"))===e||g.$$is_boolean&&1!=g||v.$start("read");w=f["$[]="]("attributes",function(){if((g=(y=f["$[]"]("attributes"))["$!"]())===e||g.$$is_boolean&&1!=g){if((g=!1!==(k=a.get("Hash")["$==="](y))&&k!==e?k:(m=a.get("RUBY_ENGINE_JRUBY"),!1!==m&&m!==e?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](y):
m))===e||g.$$is_boolean&&1!=g){if((g=a.get("Array")["$==="](y))===e||g.$$is_boolean&&1!=g){if((g=a.get("String")["$==="](y))===e||g.$$is_boolean&&1!=g){if((g=(q=y["$respond_to?"]("keys"),!1!==q&&q!==e?y["$respond_to?"]("[]"):q))===e||g.$$is_boolean&&1!=g)return u.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+y.$class().$ancestors());M=y;y=z([],{});(g=(q=M.$keys()).$each,g.$$p=(p=function(a){null==a&&(a=e);return y["$[]="](a,M["$[]"](a))},p.$$s=u,p),g).call(q);return y}x="\\1";
y=y.$gsub(d.get("SpaceDelimiterRx"),""+x+d.get("NULL")).$gsub(d.get("EscapedSpaceRx"),x);return(g=(m=y.$split(d.get("NULL"))).$inject,g.$$p=(n=function(b,c){var d,f,g=e,h=e;null==b&&(b=e);null==c&&(c=e);f=c.$split("=",2);d=a.to_ary(f);g=null==d[0]?e:d[0];h=null==d[1]?e:d[1];f;b["$[]="](g,!1!==(d=h)&&d!==e?d:"");return b},n.$$s=u,n),g).call(m,z([],{}))}return(g=(k=y).$inject,g.$$p=(l=function(b,c){var d,f,g=e,h=e;null==b&&(b=e);null==c&&(c=e);f=c.$split("=",2);d=a.to_ary(f);g=null==d[0]?e:d[0];h=null==
d[1]?e:d[1];f;b["$[]="](g,!1!==(d=h)&&d!==e?d:"");return b},l.$$s=u,l),g).call(k,z([],{}))}return y.$dup()}return z([],{})}());V=e;if((g=a.get("File")["$==="](b))===e||g.$$is_boolean&&1!=g)if((g=b["$respond_to?"]("readlines"))===e||g.$$is_boolean&&1!=g)(g=a.get("String")["$==="](b))===e||g.$$is_boolean&&1!=g?(g=a.get("Array")["$==="](b))===e||g.$$is_boolean&&1!=g?u.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):V=b.$dup():V=b.$lines().$entries();else{try{b.$rewind()}catch(D){try{e}finally{a.gvars["!"]=
a.exceptions.pop()||a.nil}}V=b.$readlines()}else N=a.get("File").$expand_path(b.$path()),L=b.$mtime(),V=b.$readlines(),w["$[]="]("docfile",N),w["$[]="]("docdir",a.get("File").$dirname(N)),w["$[]="]("docname",d.get("Helpers").$basename(N,!0)),U=(g="docdate",t=w,!1!==(r=t["$[]"](g))&&r!==e?r:t["$[]="](g,L.$strftime("%Y-%m-%d"))),Y=(g="doctime",t=w,!1!==(r=t["$[]"](g))&&r!==e?r:t["$[]="](g,L.$strftime("%H:%M:%S %Z"))),w["$[]="]("docdatetime",""+U+" "+Y);!1!==v&&v!==e&&(v.$record("read"),v.$start("parse"));
ba=f["$[]"]("parse")["$=="](!1)?d.get("Document").$new(V,f):d.get("Document").$new(V,f).$parse();!1!==v&&v!==e&&v.$record("parse");return ba}catch(D){R=D;try{try{da="asciidoctor: FAILED: "+(!1!==(g=w["$[]"]("docfile"))&&g!==e?g:"<stdin>")+": Failed to load AsciiDoc document",(g=R["$respond_to?"]("exception"))===e||g.$$is_boolean&&1!=g?(W=R.$class().$new(da,R),g=[R.$stack_trace()],t=W,t["$stack_trace="].apply(t,g),g[g.length-1]):(W=R.$exception(""+da+" - "+R.$message()),W.$set_backtrace(R.$backtrace()))}catch(ea){try{W=
R}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return u.$raise(W)}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(b,"$load_file",function(b,d){null==d&&(d=z([],{}));return this.$load(a.get("File").$new(!1!==b&&b!==e?b:""),d)});a.defn(b,"$convert",function(b,f){var g,k,m,n,q,t,r,u=e,v=e,w=e,y=e,x=e,S=e,Q=e,M=e,V=e,N=e,L=x=e,U=u=u=M=S=e,Y=S=v=e,ba=u=Q=y=e,R=w=e;null==f&&(f=z([],{}));f=f.$dup();f.$delete("parse");u=f.$delete("to_file");v=f.$delete("to_dir");w=!1!==(g=f.$delete("mkdirs"))&&
g!==e?g:!1;y=f["$[]"]("timings");x=u;if((!0)["$==="](x)||e["$==="](x))S=(g=v["$!"](),!1!==g&&g!==e?a.get("File")["$==="](b):g),Q=!1,M=v,u=e;else if((!1)["$==="](x))M=Q=S=!1,u=e;else{if("/dev/null"["$==="](x))return this.$load(b,f);S=!1;Q=u["$respond_to?"]("write");M=!1!==Q&&Q!==e?!1:u}if(((g=f["$key?"]("header_footer"))===e||g.$$is_boolean&&1!=g)&&(g=!1!==(k=S)&&k!==e?k:M)!==e&&(!g.$$is_boolean||1==g))f["$[]="]("header_footer",!0);if(!1!==S&&S!==e)V=a.get("File").$expand_path(b.$path()),f["$[]="]("to_dir",
N=a.get("File").$dirname(V));else if(!1!==M&&M!==e)if(!1!==v&&v!==e)if(!1!==u&&u!==e)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(v,u))));else f["$[]="]("to_dir",a.get("File").$expand_path(v));else{if(!1!==u&&u!==e)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(u)))}else f["$[]="]("to_dir",e);x=this.$load(b,f);if(!1!==S&&S!==e)L=a.get("File").$join(N,""+x.$attributes()["$[]"]("docname")+x.$outfilesuffix()),L["$=="](V)&&this.$raise(a.get("IOError"),
"input file and output file cannot be the same: "+L);else if(!1!==M&&M!==e){if(S=(g=f["$has_key?"]("base_dir"))===e||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(f["$[]"]("base_dir")),M=(g=p(x.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===e||g.$$is_boolean&&1!=g?e:S,!1!==v&&v!==e?(N=x.$normalize_system_path(v,S,M,z(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==u&&u!==e?(L=x.$normalize_system_path(u,N,e,z(["target_name","recover"],
{target_name:"to_dir",recover:!1})),N=a.get("File").$dirname(L)):L=a.get("File").$join(N,""+x.$attributes()["$[]"]("docname")+x.$outfilesuffix())):!1!==u&&u!==e&&(L=x.$normalize_system_path(u,S,M,z(["target_name","recover"],{target_name:"to_dir",recover:!1})),N=a.get("File").$dirname(L)),(g=a.get("File")["$directory?"](N))===e||g.$$is_boolean&&1!=g)!1!==w&&w!==e?a.get("FileUtils").$mkdir_p(N):this.$raise(a.get("IOError"),"target directory does not exist: "+v)}else L=u,N=e;!1!==y&&y!==e&&y.$start("convert");
u=(g=(k=!1!==L&&L!==e)?Q["$!"]():L)===e||g.$$is_boolean&&1!=g?z([],{}):z(["outfile","outdir"],{outfile:L,outdir:N});u=x.$convert(u);!1!==y&&y!==e&&y.$record("convert");return!1!==L&&L!==e?(!1!==y&&y!==e&&y.$start("write"),x.$write(u,L),!1!==y&&y!==e&&y.$record("write"),(g=(k=(m=(n=(q=(t=Q["$!"](),!1!==t&&t!==e?l(x.$safe(),d.get("SafeMode").$$scope.get("SECURE")):t),!1!==q&&q!==e?x["$attr?"]("linkcss"):q),!1!==n&&n!==e?x["$attr?"]("copycss"):n),!1!==m&&m!==e?x["$attr?"]("basebackend-html"):m),!1!==
k&&k!==e?(m=U=x.$attr("stylesdir"),!1!==m&&m!==e?d.get("Helpers")["$uriish?"](U):m)["$!"]():k))===e||g.$$is_boolean&&1!=g||(S=v=!1,(g=Y=x.$attr("stylesheet"))===e||g.$$is_boolean&&1!=g||((g=d.get("DEFAULT_STYLESHEET_KEYS")["$include?"](Y))===e||g.$$is_boolean&&1!=g?(g=d.get("Helpers")["$uriish?"](Y)["$!"]())===e||g.$$is_boolean&&1!=g||(S=!0):v=!0),y=(g=x["$attr?"]("source-highlighter","coderay"),!1!==g&&g!==e?x.$attr("coderay-css","class")["$=="]("class"):g),Q=(g=x["$attr?"]("source-highlighter",
"pygments"),!1!==g&&g!==e?x.$attr("pygments-css","class")["$=="]("class"):g),(g=!1!==(k=!1!==(m=!1!==(n=v)&&n!==e?n:S)&&m!==e?m:y)&&k!==e?k:Q)===e||g.$$is_boolean&&1!=g||(u=x.$normalize_system_path(U,N,(g=p(x.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===e||g.$$is_boolean&&1!=g?e:N),!1!==w&&w!==e&&d.get("Helpers").$mkdir_p(u),!1!==v&&v!==e?d.get("Stylesheets").$instance().$write_primary_stylesheet(u):!1!==S&&S!==e&&(ba=(g=(ba=x.$attr("copycss"))["$empty?"]())===e||g.$$is_boolean&&1!=g?x.$normalize_system_path(ba):
x.$normalize_system_path(Y),w=x.$normalize_system_path(Y,u,(g=p(x.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===e||g.$$is_boolean&&1!=g?e:N),((g=!1!==(k=ba["$=="](w))&&k!==e?k:(R=x.$read_asset(ba))["$nil?"]())===e||g.$$is_boolean&&1!=g)&&(g=(k=a.get("File")).$open,g.$$p=(r=function(a){null==a&&(a=e);return a.$write(R)},r.$$s=this,r),g).call(k,w,"w")),!1!==y&&y!==e?d.get("Stylesheets").$instance().$write_coderay_stylesheet(u):!1!==Q&&Q!==e&&d.get("Stylesheets").$instance().$write_pygments_stylesheet(u,
x.$attr("pygments-style")))),x):u});a.alias(b,"render","convert");a.defn(b,"$convert_file",function(b,d){null==d&&(d=z([],{}));return this.$convert(a.get("File").$new(!1!==b&&b!==e?b:""),d)});return a.alias(b,"render_file","convert_file")})(a.get_singleton_class(d));g.get("RUBY_ENGINE")["$=="]("opal")&&(d.$require("asciidoctor/version"),d.$require("asciidoctor/timings"))})(a.base);k.$require("asciidoctor/core_ext");k.$require("asciidoctor/helpers");k.$require("asciidoctor/substitutors");k.$require("asciidoctor/abstract_node");
k.$require("asciidoctor/abstract_block");k.$require("asciidoctor/attribute_list");k.$require("asciidoctor/block");k.$require("asciidoctor/callouts");k.$require("asciidoctor/converter");(g=a.get("RUBY_ENGINE_OPAL"))===e||g.$$is_boolean&&1!=g||k.$require("asciidoctor/converter/html5");k.$require("asciidoctor/document");k.$require("asciidoctor/inline");k.$require("asciidoctor/list");k.$require("asciidoctor/parser");k.$require("asciidoctor/path_resolver");k.$require("asciidoctor/reader");k.$require("asciidoctor/section");
k.$require("asciidoctor/stylesheets");return k.$require("asciidoctor/table")})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);
(function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var g=a.nil,k=a.breaker,e=a.slice,d=a.module,b=a.klass,z=a.hash2,x=a.range,w=a.hash;a.add_stubs("$[]= $config $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $is_a? $has_more_lines? $next_block $<< $each $define_method $send $insert $dup $call $attr_accessor $[] $option $=== $to_set $flatten $resolve_regexp $== $attr $method $register $arity $instance_exec $to_proc $activate $+ $values $groups $add_document_processor $! $find $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $upcase $chr $split $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $- $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));
return function(r){(function(n){n=d(n,"Extensions");var r=n.$$scope;(function(d,$super){function k(){}var l=k=b(d,$super,"Processor",k),n=l.$$scope,h,c,p;l.$$proto.config=g;(function(b){a.defn(b,"$config",function(){var a;null==this.config&&(this.config=g);return!1!==(a=this.config)&&a!==g?a:this.config=z([],{})});a.defn(b,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(b,"$use_dsl",function(){var a;return(a=this.$name()["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===
g||a.$$is_boolean&&1!=a?g:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===g||a.$$is_boolean&&1!=a?g:this.$include(this.$const_get("DSL"))});a.alias(b,"extend_dsl","use_dsl");return a.alias(b,"include_dsl","use_dsl")})(a.get_singleton_class(l));l.$attr_reader("config");a.defn(l,"$initialize",function(a){null==a&&(a=z([],{}));return this.config=this.$class().$config().$merge(a)});a.defn(l,"$update_config",function(a){return this.config.$update(a)});a.defn(l,"$process",function(){var b=
g,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),b=0;b<c;b++)d[b]=arguments[b+0];return this.$raise(a.get("NotImplementedError"))});a.defn(l,"$create_block",function(a,b,c,d,e){null==e&&(e=z([],{}));return n.get("Block").$new(a,b,z(["source","attributes"],{source:c,attributes:d}).$merge(e))});a.defn(l,"$create_image_block",function(a,b,c){null==c&&(c=z([],{}));return this.$create_block(a,"image",g,b,c)});a.defn(l,"$create_inline",function(a,b,c,d){null==d&&(d=z([],{}));return n.get("Inline").$new(a,
b,c,d)});a.defn(l,"$parse_content",function(a,b,c){var d,e,f=g,h=g;null==c&&(c=z([],{}));for(f=(d=b["$is_a?"](n.get("Reader")))===g||d.$$is_boolean&&1!=d?n.get("Reader").$new(b):b;(e=f["$has_more_lines?"]())!==g&&(!e.$$is_boolean||1==e);)if(h=n.get("Parser").$next_block(f,a,c),!1!==h&&h!==g)a["$<<"](h);return g});return(h=(c=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block",
"pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,h.$$p=(p=function(b,c,d){var f=p.$$s||this,h,k;null==b&&(b=g);null==c&&(c=g);null==d&&(d=g);return(h=f.$define_method,h.$$p=(k=function(b){var f=k.$$s||this,g;b=e.call(arguments,0);return(g=f).$send.apply(g,[c].concat(a.to_a(b.$dup().$insert(1,d))))},k.$$s=f,k),h).call(f,b)},p.$$s=l,p),h).call(c)})(r.base,null);(function(b){b=d(b,"ProcessorDsl");
var e;a.defn(b,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(b,"$process",e=function(){var b,d=e.$$p||g,f=g;null==this.process_block&&(this.process_block=g);var h=arguments.length-0;0>h&&(h=0);for(var c=Array(h),f=0;f<h;f++)c[f]=arguments[f+0];e.$$p=null;return d!==g?this.process_block=d:(b=this.process_block)===g||b.$$is_boolean&&1!=b?this.$raise(a.get("NotImplementedError")):(b=this.process_block).$call.apply(b,a.to_a(c))});a.defn(b,"$process_block_given?",function(){var a;
return(a=this.process_block,null!=a&&a!==g)?"instance-variable":g})})(r.base);(function(d,$super){function e(){}var k=e=b(d,$super,"Preprocessor",e);return(a.defn(k,"$process",function(b,d){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Preprocessor"),"DSL",r.get("ProcessorDsl"));(function(d,$super){function e(){}var k=e=b(d,$super,"Treeprocessor",e);return(a.defn(k,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),
g)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Treeprocessor"),"DSL",r.get("ProcessorDsl"));(function(d,$super){function e(){}var k=e=b(d,$super,"Postprocessor",e);return(a.defn(k,"$process",function(b,d){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Postprocessor"),"DSL",r.get("ProcessorDsl"));(function(d,$super){function e(){}var k=e=b(d,$super,"IncludeProcessor",e);a.defn(k,"$process",function(b,d,c,e){return this.$raise(a.get("NotImplementedError"))});
return(a.defn(k,"$handles?",function(a){return!0}),g)&&"handles?"})(r.base,r.get("Processor"));a.casgn(r.get("IncludeProcessor"),"DSL",r.get("ProcessorDsl"));(function(d,$super){function e(){}var k=e=b(d,$super,"DocinfoProcessor",e),l;k.$$proto.config=g;k.$attr_accessor("location");a.defn(k,"$initialize",l=function(b){var c,d;null==b&&(b=z([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[b]);return c=this.config,!1!==(d=c["$[]"]("location"))&&d!==g?d:c["$[]="]("location",
"head")});return(a.defn(k,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(r.base,r.get("Processor"));(function(b){b=d(b,"DocinfoProcessorDsl");b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",function(a){return this.$option("location",a)})})(r.base);a.casgn(r.get("DocinfoProcessor"),"DSL",r.get("DocinfoProcessorDsl"));(function(d,$super){function e(){}var k=e=b(d,$super,"BlockProcessor",e),l;k.$$proto.config=g;k.$attr_accessor("name");a.defn(k,
"$initialize",l=function(b,c){var d,e,f,k=g;null==b&&(b=g);null==c&&(c=z([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[c]);this.name=!1!==(d=b)&&d!==g?d:this.config["$[]"]("name");k=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](k))d="contexts",e=this.config,!1!==(f=e["$[]"](d))&&f!==g?f:e["$[]="](d,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](k))this.config["$[]="]("contexts",[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",
this.config["$[]"]("contexts").$to_set());return d="content_model",e=this.config,!1!==(f=e["$[]"](d))&&f!==g?f:e["$[]="](d,"compound")});return(a.defn(k,"$process",function(b,c,d){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(r.base,r.get("Processor"));(function(b){b=d(b,"BlockProcessorDsl");var e=b.$$scope;b.$include(e.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](e.get("Processor")))===g||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=
a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",function(){var a=g,b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),a=0;a<b;a++)d[a]=arguments[a+0];return this.$option("contexts",d.$flatten())});a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=g,b=arguments.length-
0;0>b&&(b=0);for(var d=Array(b),a=0;a<b;a++)d[a]=arguments[a+0];return this.$option("pos_attrs",d.$flatten())});a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(r.base);a.casgn(r.get("BlockProcessor"),"DSL",r.get("BlockProcessorDsl"));(function(d,$super){function e(){}
var k=e=b(d,$super,"MacroProcessor",e),l;k.$$proto.config=g;k.$attr_accessor("name");a.defn(k,"$initialize",l=function(b,c){var d,e,f;null==b&&(b=g);null==c&&(c=z([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[c]);this.name=!1!==(d=b)&&d!==g?d:this.config["$[]"]("name");return d="content_model",e=this.config,!1!==(f=e["$[]"](d))&&f!==g?f:e["$[]="](d,"attributes")});return(a.defn(k,"$process",function(b,c,d){return this.$raise(a.get("NotImplementedError"))}),g)&&"process"})(r.base,
r.get("Processor"));(function(b){b=d(b,"MacroProcessorDsl");var e=b.$$scope;b.$include(e.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](e.get("Processor")))===g||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=g,b=arguments.length-
0;0>b&&(b=0);for(var d=Array(b),a=0;a<b;a++)d[a]=arguments[a+0];return this.$option("pos_attrs",d.$flatten())});a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(r.base);(function(a,$super){function d(){}d=b(a,$super,"BlockMacroProcessor",d);return g})(r.base,
r.get("MacroProcessor"));a.casgn(r.get("BlockMacroProcessor"),"DSL",r.get("MacroProcessorDsl"));(function(d,$super){function e(){}var k=e=b(d,$super,"InlineMacroProcessor",e),l=k.$$proto;l.config=l.name=g;a.defn(k,"$regexp",function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==g?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))});return(a.defn(k,"$resolve_regexp",function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):
new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),g)&&"resolve_regexp"})(r.base,r.get("MacroProcessor"));(function(b){b=d(b,"InlineMacroProcessorDsl");b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",function(a){return this.$option("format",a)});a.defn(b,"$match",function(a){return this.$option("regexp",a)})})(r.base);a.casgn(r.get("InlineMacroProcessor"),"DSL",r.get("InlineMacroProcessorDsl"));(function(d,$super){function e(){}var k=e=b(d,$super,"Extension",e);
k.$attr("kind");k.$attr("config");k.$attr("instance");return(a.defn(k,"$initialize",function(a,b,c){this.kind=a;this.instance=b;return this.config=c}),g)&&"initialize"})(r.base,null);(function(d,$super){function e(){}var k=e=b(d,$super,"ProcessorExtension",e),l;k.$attr("process_method");return(a.defn(k,"$initialize",l=function(b,c,d){var e;null==d&&(d=g);l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[b,c,c.$config()]);return this.process_method=!1!==(e=d)&&e!==g?e:c.$method("process")}),
g)&&"initialize"})(r.base,r.get("Extension"));(function(d,$super){function e(){}var k=e=b(d,$super,"Group",e);(function(b){var d=b.$$scope;return(a.defn(b,"$register",function(a){null==a&&(a=g);return d.get("Extensions").$register(a,this)}),g)&&"register"})(a.get_singleton_class(k));return(a.defn(k,"$activate",function(b){return this.$raise(a.get("NotImplementedError"))}),g)&&"activate"})(r.base,null);(function(d,$super){function e(){}var n=e=b(d,$super,"Registry",e),q=n.$$proto,h=n.$$scope,c,r,v,
w,G,E,A,H,Z,C;q.groups=q.preprocessor_extensions=q.treeprocessor_extensions=q.postprocessor_extensions=q.include_processor_extensions=q.docinfo_processor_extensions=q.block_extensions=q.block_macro_extensions=q.inline_macro_extensions=g;n.$attr_reader("document");n.$attr_reader("groups");a.defn(n,"$initialize",function(a){null==a&&(a=z([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=
this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=g});a.defn(n,"$activate",function(b){var c,d,e;this.document=b;(c=(d=p(h.get("Extensions").$groups().$values(),this.groups.$values())).$each,c.$$p=(e=function(b){var c=e.$$s||this,d,f=g;null==b&&(b=g);f=b;a.get("Proc")["$==="](f)?(f=b.$arity(),b=0["$==="](f)||-1["$==="](f)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](f)?b.$call(c):g):b=a.get("Class")["$==="](f)?b.$new().$activate(c):b.$activate(c);
return b},e.$$s=this,e),c).call(d);return this});a.defn(n,"$preprocessor",c=function(){var a,b=c.$$p||g,d=g,e=arguments.length-0;0>e&&(e=0);for(var f=Array(e),d=0;d<e;d++)f[d]=arguments[d+0];c.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"preprocessor",f)});a.defn(n,"$preprocessors?",function(){return this.preprocessor_extensions["$!"]()["$!"]()});a.defn(n,"$preprocessors",function(){return this.preprocessor_extensions});a.defn(n,"$treeprocessor",r=function(){var a,
b=r.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];r.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"treeprocessor",e)});a.defn(n,"$treeprocessors?",function(){return this.treeprocessor_extensions["$!"]()["$!"]()});a.defn(n,"$treeprocessors",function(){return this.treeprocessor_extensions});a.defn(n,"$postprocessor",v=function(){var a,b=v.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+
0];v.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"postprocessor",e)});a.defn(n,"$postprocessors?",function(){return this.postprocessor_extensions["$!"]()["$!"]()});a.defn(n,"$postprocessors",function(){return this.postprocessor_extensions});a.defn(n,"$include_processor",w=function(){var a,b=w.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];w.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,
"include_processor",e)});a.defn(n,"$include_processors?",function(){return this.include_processor_extensions["$!"]()["$!"]()});a.defn(n,"$include_processors",function(){return this.include_processor_extensions});a.defn(n,"$docinfo_processor",G=function(){var a,b=G.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];G.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"docinfo_processor",e)});a.defn(n,"$docinfo_processors?",function(a){var b,
c,d;null==a&&(a=g);return(b=this.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==g?(b=(c=this.docinfo_processor_extensions).$find,b.$$p=(d=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(c):!0});a.defn(n,"$docinfo_processors",function(a){var b,c,d;null==a&&(a=g);return(b=this.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?g:!1!==a&&a!==g?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&
(b=g);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(c):this.docinfo_processor_extensions});a.defn(n,"$block",E=function(){var a,b=E.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];E.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block",e)});a.defn(n,"$blocks?",function(){return this.block_extensions["$!"]()["$!"]()});a.defn(n,"$registered_for_block?",function(a,b){var c,d=g;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===
g||c.$$is_boolean&&1!=c?!1:(c=d.$config()["$[]"]("contexts")["$include?"](b))===g||c.$$is_boolean&&1!=c?!1:d});a.defn(n,"$find_block_extension",function(a){return this.block_extensions["$[]"](a.$to_sym())});a.defn(n,"$block_macro",A=function(){var a,b=A.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];A.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block_macro",e)});a.defn(n,"$block_macros?",function(){return this.block_macro_extensions["$!"]()["$!"]()});
a.defn(n,"$registered_for_block_macro?",function(a){var b,c=g;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:c});a.defn(n,"$find_block_macro_extension",function(a){return this.block_macro_extensions["$[]"](a.$to_sym())});a.defn(n,"$inline_macro",H=function(){var a,b=H.$$p||g,c=g,d=arguments.length-0;0>d&&(d=0);for(var e=Array(d),c=0;c<d;c++)e[c]=arguments[c+0];H.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"inline_macro",e)});
a.defn(n,"$inline_macros?",function(){return this.inline_macro_extensions["$!"]()["$!"]()});a.defn(n,"$registered_for_inline_macro?",function(a){var b,c=g;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:c});a.defn(n,"$find_inline_macro_extension",function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())});a.defn(n,"$inline_macros",function(){return this.inline_macro_extensions.$values()});n.$private();a.defn(n,"$add_document_processor",Z=function(b,
c){var d,e,f,k,l,n,p=this,q=Z.$$p||g,r=g,u=g,v=g,w=g,y=u=g,z=g,A=g,B=g;Z.$$p=null;r=b.$to_s().$tr("_"," ");u=(d=(e=r.$split(" ")).$map,d.$$p=(f=function(a){null==a&&(a=g);return""+a.$chr().$upcase()+a["$[]"](x(1,-1,!1))},f.$$s=p,f),d).call(e).$join().$to_sym();v=h.get("Extensions").$const_get(u);w=(d=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||d.$$is_boolean&&1!=d?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(u);u=!1!==(d=p.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&
d!==g?d:p.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);y=function(){if(q!==g)return z=p.$resolve_args(c,1),A=v.$new(z),(d=v.$constants().$grep("DSL"))===g||d.$$is_boolean&&1!=d||A.$extend(v.$const_get("DSL")),(d=(k=A).$instance_exec,d.$$p=q.$to_proc(),d).call(k),A.$freeze(),((d=A["$process_block_given?"]())===g||d.$$is_boolean&&1!=d)&&p.$raise(a.get("ArgumentError").$new("No block specified to process "+r+" extension at "+q.$source_location())),h.get("ProcessorExtension").$new(b,A);
l=p.$resolve_args(c,2);d=a.to_ary(l);A=null==d[0]?g:d[0];z=null==d[1]?g:d[1];l;if((d=!1!==(l=A["$is_a?"](a.get("Class")))&&l!==g?l:(n=A["$is_a?"](a.get("String")),!1!==n&&n!==g?A=h.get("Extensions").$class_for_name(A):n))===g||d.$$is_boolean&&1!=d){if((d=!1!==(l=A["$is_a?"](v))&&l!==g?l:(n=!1!==w&&w!==g)?A["$is_a?"](w):w)===g||d.$$is_boolean&&1!=d)return p.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+r+" extension: "+c));A.$update_config(z);A.$freeze();return h.get("ProcessorExtension").$new(b,
A)}((d=!1!==(l=t(A,v))&&l!==g?l:(n=!1!==w&&w!==g)?t(A,w):w)===g||d.$$is_boolean&&1!=d)&&p.$raise(a.get("ArgumentError").$new("Invalid type for "+r+" extension: "+A));B=A.$new(z);B.$freeze();return h.get("ProcessorExtension").$new(b,B)}();return y.$config()["$[]"]("position")["$=="](">>")?u.$unshift(y):u["$<<"](y)});a.defn(n,"$add_syntax_processor",C=function(b,c){var d,e,f,l,n;n=C.$$p||g;var p=g,q=g,r=g,u=q=g,v=r=g,w=g,y=g,q=g;C.$$p=null;p=b.$to_s().$tr("_"," ");q=(d=(e=p.$split(" ")).$map,d.$$p=
(f=function(a){null==a&&(a=g);return""+a.$chr().$upcase()+a["$[]"](x(1,-1,!1))},f.$$s=this,f),d).call(e).$join();r=(""+q+"Processor").$to_sym();q=h.get("Extensions").$const_get(r);u=(d=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||d.$$is_boolean&&1!=d?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(r);r=!1!==(d=this.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&d!==g?d:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),z([],{}));if(n!==g){l=this.$resolve_args(c,
2);d=a.to_ary(l);v=null==d[0]?g:d[0];w=null==d[1]?g:d[1];l;y=q.$new(this.$as_symbol(v),w);(d=q.$constants().$grep("DSL"))===g||d.$$is_boolean&&1!=d||y.$extend(q.$const_get("DSL"));if(n.$arity()["$=="](1)){if(a.yield1(n,y)===k)return k.$v}else(d=(l=y).$instance_exec,d.$$p=n.$to_proc(),d).call(l);((d=v=this.$as_symbol(y.$name()))===g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+p+" extension at "+n.$source_location()));((d=y["$process_block_given?"]())===
g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+p+" extension at "+n.$source_location()));y.$freeze();return r["$[]="](v,h.get("ProcessorExtension").$new(b,y))}n=this.$resolve_args(c,3);d=a.to_ary(n);y=null==d[0]?g:d[0];v=null==d[1]?g:d[1];w=null==d[2]?g:d[2];n;if((d=!1!==(n=y["$is_a?"](a.get("Class")))&&n!==g?n:(l=y["$is_a?"](a.get("String")),!1!==l&&l!==g?y=h.get("Extensions").$class_for_name(y):l))===g||d.$$is_boolean&&1!=d){if((d=!1!==(n=y["$is_a?"](q))&&
n!==g?n:(l=!1!==u&&u!==g)?y["$is_a?"](u):u)===g||d.$$is_boolean&&1!=d)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+p+" extension: "+c));y.$update_config(w);((d=v=!1!==v&&v!==g?(n=[this.$as_symbol(v)],l=y,l["$name="].apply(l,n),n[n.length-1]):this.$as_symbol(y.$name()))===g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+p+" extension: "+y));y.$freeze();return r["$[]="](v,h.get("ProcessorExtension").$new(b,y))}((d=
!1!==(n=t(y,q))&&n!==g?n:(l=!1!==u&&u!==g)?t(y,u):u)===g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+p+" extension does not inherit from "+q+": "+y));q=y.$new(this.$as_symbol(v),w);((d=v=this.$as_symbol(q.$name()))===g||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+p+" extension: "+y));y.$freeze();return r["$[]="](v,h.get("ProcessorExtension").$new(b,q))});a.defn(n,"$resolve_args",function(b,c){var d,e=g,f=g,h=g,
e=(d=b["$[]"](-1)["$is_a?"](a.get("Hash")))===g||d.$$is_boolean&&1!=d?z([],{}):b.$pop();if(c["$=="](1))return e;var f=b.$size(),k=h=l(l(c,1),f);(d="number"===typeof k?0<k:k["$>"](0))===g||d.$$is_boolean&&1!=d?(d=t(h,0))===g||d.$$is_boolean&&1!=d||b.$pop(h["$-@"]()):b.$fill(g,f,h);b["$<<"](e);return b});return(a.defn(n,"$as_symbol",function(b){var c;return!1!==b&&b!==g?(c=b["$is_a?"](a.get("Symbol")))===g||c.$$is_boolean&&1!=c?b.$to_sym():b:g}),g)&&"as_symbol"})(r.base,null);(function(b){var d=b.$$scope,
e,k;a.defn(b,"$generate_name",function(){return"extgrp"+this.$next_auto_id()});a.defn(b,"$next_auto_id",function(){var a;null==this.auto_id&&(this.auto_id=g);!1!==(a=this.auto_id)&&a!==g?a:this.auto_id=-1;return this.auto_id=p(this.auto_id,1)});a.defn(b,"$groups",function(){var a;null==this.groups&&(this.groups=g);return!1!==(a=this.groups)&&a!==g?a:this.groups=z([],{})});a.defn(b,"$build_registry",e=function(a){var b,c=e.$$p||g;null==a&&(a=g);e.$$p=null;return c!==g?(!1!==(b=a)&&b!==g?b:a=this.$generate_name(),
d.get("Registry").$new(w(a,c))):d.get("Registry").$new()});a.defn(b,"$register",k=function(){var b,d=k.$$p||g,c=g,e=g,f=e=g,c=f=g,e=arguments.length-0;0>e&&(e=0);for(var l=Array(e),c=0;c<e;c++)l[c]=arguments[c+0];k.$$p=null;c=l.$length();d===g&&((b=(e=l.$pop())["$!"]())===g||b.$$is_boolean&&1!=b?(f=e,d=a.get("Class")["$==="](f)?e:a.get("String")["$==="](f)?this.$class_for_name(e):a.get("Symbol")["$==="](f)?this.$class_for_name(e.$to_s()):e):d=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));
e=d;f=!1!==(b=l.$pop())&&b!==g?b:this.$generate_name();((b=l["$empty?"]())===g||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+c+" for 1..2)"));return this.$groups()["$[]="](f,e)});a.defn(b,"$unregister_all",function(){return this.groups=z([],{})});a.defn(b,"$resolve_class",function(b){var d;return(d=b["$is_a?"](a.get("Class")))===g||d.$$is_boolean&&1!=d?this.$class_for_name(b.$to_s()):b});return(a.defn(b,"$class_for_name",function(b){var d,c,e,f=g,f=
a.get("Object");(d=(c=b.$split("::")).$each,d.$$p=(e=function(a){var c=e.$$s||this,d;null==a&&(a=g);return(d=a["$empty?"]())===g||d.$$is_boolean&&1!=d?(d=f["$const_defined?"](a))===g||d.$$is_boolean&&1!=d?c.$raise("Could not resolve class for name: "+b):f=f.$const_get(a):g},e.$$s=this,e),d).call(c);return f}),g)&&"class_for_name"})(a.get_singleton_class(n))})(d(r,"Asciidoctor").$$scope.base)}(a.base)})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);
